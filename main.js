const _0x165612=_0x2b98;(function(_0x3f8309,_0xbd3c71){const _0x1f99f8=_0x2b98,_0x2a5ad8=_0x3f8309();while(!![]){try{const _0x30dd3a=parseInt(_0x1f99f8(0x219))/0x1+parseInt(_0x1f99f8(0x231))/0x2+parseInt(_0x1f99f8(0x26f))/0x3*(-parseInt(_0x1f99f8(0x1c6))/0x4)+-parseInt(_0x1f99f8(0x1bd))/0x5*(parseInt(_0x1f99f8(0x248))/0x6)+-parseInt(_0x1f99f8(0x1a8))/0x7+-parseInt(_0x1f99f8(0x1f8))/0x8*(parseInt(_0x1f99f8(0x283))/0x9)+parseInt(_0x1f99f8(0x19a))/0xa*(parseInt(_0x1f99f8(0x291))/0xb);if(_0x30dd3a===_0xbd3c71)break;else _0x2a5ad8['push'](_0x2a5ad8['shift']());}catch(_0x261959){_0x2a5ad8['push'](_0x2a5ad8['shift']());}}}(_0x234a,0xc4158));function _0x234a(){const _0x3136fa=['socket','createWriteStream','88ufEqvr','get','fluent-ffmpeg','Access-Control-Allow-Origin','setFfmpegPath','twenty-first','/local','ONVO\x20TV','catch','body','partyIn','writeHead','createHash','use','host','files','stack','audio/mp3','utf-8','readdirSync','digest','statusCode','Internal\x20Server\x20Error','text/javascript','users','qrcode','cors','readFileSync','Error\x20deleting\x20path:\x20','tenth','server-started','fs-extra','fourteenth','1085518ZyuHBk','exit','\x27\x20(','post','android','.json','user','getVideo','mkdirSync','twentieth','third','Error\x20downloading\x20','version',']\x20finished','audioCodec','val','extname','Error:','Error\x20removing\x20directory:','update','utf8','device','conversion_failed','/wipe','2300994tqByxi','/subtitles/parse','getZip','disable','bytes\x20','setHeader','status','Error\x20fetching\x20video',':5000','Server\x20error:','connection','text/plain','close','Unsupported\x20platform:','win32','url','image','data','eleventh','basePort','download','ffmpeg-static','File\x20[','276XcyZhb','replace','createServer','has','/ONVO\x20TV','body-parser','startsWith','50mb','/hash','promise','stringify','toDataURL','getPortPromise','rmSync','Directory\x20removed\x20successfully!','public','twenty-third','file_not_found','trust\x20proxy','-season','then','split','pipe','delete','Invalid\x20structure','all','episode','./node/singleMovie.js','ejs','ftusers','.srt','normalize','length','pong','twenty-ninth','/select','1.5','duplicate_torrent','remove','6kCsVFh','clear','rename','getNetwork','./node/cores.mjs','https','.js',':5000?magic_portal=true','localhost','Installation\x20failed:','thirty-first','format','./node/subtitles.js','images','twenty-seventh','send','Something\x20broke!\x20','name','settings.json','join','687789DXPGIV','query','thirteenth','resolve','stream','::ffff:','handleIncomming','save','endsWith','https://www.themoviedb.org/','player','sha256','parse','79968fOypTt','297arRrXg','thirtieth','http://localhost:5000/local?path=','done','offline','/var/mobile','episode\x20removed\x20successfully!','info.json','thirty-fourth','/network','text/css','WebSocket\x20error:','type','sixth','codec','createReadStream','action','Upload\x20complete','Path\x20deleted\x20successfully','seventeenth','no_id_found','/videoshare','headers','multiple','getData','views','398QxotmL','success','downloaded','portal','./node/info.js','scrap','forEach','sendFile','thirty-third','authorization','Content-Disposition','eighth','Error\x20converting\x20video\x20to\x20audio:','Episode\x20not\x20selected','8563vfvTma','twelfth','region','1176084ToWzCE','/watch?locale=','https://github.com/eugeneware/ffmpeg-static/releases/download/b5.0.0/ffmpeg-static-win32.zip','sixteenth','message','seventh','view\x20engine','key','.css','index','util','torrents','no_index','true','libmp3lame','destroy','/chache','unlinkSync','692270DLwBCV','remoteAddress','error','thirty-fifth','bytes','/check','set','2868DPLmbf','/subtitles','urlencoded','https://github.com/eugeneware/ffmpeg-static/releases/download/b5.0.0/ffmpeg-static-linux.zip','/providers','28141212LNxtSe','writeFileSync','9667021eHUyZB','port','static','log','https://subdl.com/subtitle/sd','endpoint','singleMovie','Error\x20occured','first','Access\x20denied','express','ninth','Extract','HTTP\x20server\x20running\x20on\x20http://localhost:','./node/ip.js','hex','nineteenth','season','append','file','map','7655mdrROt','../../','/player','/audioget','no_avilable_space','Failed\x20to\x20get\x20\x27','unzipper','false','env','2019848tclmun','127.0.0.1','json','http','private_css','dirname','includes','client','thirty-second','./node/party.js','no_data_found','ping','existsSync','fifteenth','twenty-fourth','::1','portfinder','series','/delete','fourth','798koboHn','Error\x20processing\x20audio:','attachment;\x20filename=\x22','Server\x20error','root','end','argv','No\x20available\x20port\x20found:','/videoadd','thirty-sixth','/torrents','path','toString','header','./node/providers.js','push','/party/:endpoint','downloads','linux','party','.zip','/pause','missed_data','getInfo','WebSocket\x20disconnected','second','attachment;\x20filename=\x22subtitles.srt\x22','closed'];_0x234a=function(){return _0x3136fa;};return _0x234a();}function _0x23b7(_0xa0ae71,_0x2a5120){const _0x136135=_0x2baa();return(_0x23b7=function(_0x45aea1,_0x3e134f){return _0x136135[_0x45aea1-=0x179];})(_0xa0ae71,_0x2a5120);}const _0x466ed3=_0x23b7;!function(_0x4cf1cb,_0x4da96a){const _0x2284b4=_0x2b98,_0x123d17=_0x23b7,_0x5bc516=_0x2baa();for(;;)try{if(0xdc48b===-parseInt(_0x123d17(0x187))/0x1*(parseInt(_0x123d17(0x2b4))/0x2)+parseInt(_0x123d17(0x1ef))/0x3*(-parseInt(_0x123d17(0x23a))/0x4)+-parseInt(_0x123d17(0x1cd))/0x5*(parseInt(_0x123d17(0x198))/0x6)+parseInt(_0x123d17(0x27b))/0x7*(parseInt(_0x123d17(0x1fb))/0x8)+parseInt(_0x123d17(0x1a1))/0x9+-parseInt(_0x123d17(0x267))/0xa+parseInt(_0x123d17(0x1cf))/0xb*(parseInt(_0x123d17(0x218))/0xc))break;_0x5bc516['push'](_0x5bc516['shift']());}catch(_0x3c5603){_0x5bc516[_0x2284b4(0x1e9)](_0x5bc516['shift']());}}();const express=require(_0x466ed3(0x1cb)),https=require(_0x466ed3(0x238)),http=require(_0x466ed3(0x19d)),path=require(_0x466ed3(0x271)),ejs=require(_0x466ed3(0x287)),fs=require(_0x466ed3(0x2b0)),bodyParser=require(_0x165612(0x24d)),subtitles=require(_0x165612(0x27b)),providers=require(_0x466ed3(0x226)),singleMovie=require(_0x466ed3(0x215)),party=require(_0x466ed3(0x1bd)),ip=require(_0x165612(0x1b6)),cors=require(_0x466ed3(0x17d)),version=_0x165612(0x26c),WebSocketServer=require('ws')[_0x466ed3(0x1a9)],app=express(),url=require(_0x165612(0x240)),portfinder=require(_0x466ed3(0x248)),os=require('os');let isElectron=!0x1;process[_0x466ed3(0x1ce)][0x3]==_0x466ed3(0x279)||(process[_0x466ed3(0x1ce)][0x2]?process[_0x165612(0x1e0)][0x2][_0x466ed3(0x27a)](_0x466ed3(0x22d))&&(process[_0x466ed3(0x1ce)][0x2]=path[_0x466ed3(0x25b)](process[_0x466ed3(0x1ce)][0x2],_0x466ed3(0x1ca))):(isElectron=!0x0,_0x165612(0x23f)==os[_0x466ed3(0x1d5)]()?process[_0x165612(0x1e0)][0x2]=_0x466ed3(0x22c):process[_0x466ed3(0x1ce)][0x2]=path[_0x466ed3(0x25b)](os[_0x466ed3(0x26d)](),_0x466ed3(0x2a9))));let client={};function _0x2baa(){const _0x1bae95=_0x165612,_0x1b6aee=[_0x1bae95(0x27e),_0x1bae95(0x22b),'link','private_js',_0x1bae95(0x295),_0x1bae95(0x21d),_0x1bae95(0x1cc),_0x1bae95(0x1da),_0x1bae95(0x224),'slug',_0x1bae95(0x1bb),_0x1bae95(0x24e),_0x1bae95(0x26a),_0x1bae95(0x1e4),_0x1bae95(0x28f),_0x1bae95(0x187),_0x1bae95(0x242),_0x1bae95(0x195),_0x1bae95(0x1f5),'ejs',_0x1bae95(0x26e),_0x1bae95(0x1fe),_0x1bae95(0x21b),_0x1bae95(0x294),_0x1bae95(0x21e),_0x1bae95(0x1c5),_0x1bae95(0x288),_0x1bae95(0x25b),_0x1bae95(0x26c),_0x1bae95(0x29d),_0x1bae95(0x249),'/subtitles/zip',_0x1bae95(0x25d),_0x1bae95(0x253),'headersSent',_0x1bae95(0x1a3),_0x1bae95(0x285),_0x1bae95(0x198),_0x1bae95(0x1f9),_0x1bae95(0x1b1),_0x1bae95(0x271),_0x1bae95(0x1a2),'/info','params',_0x1bae95(0x203),_0x1bae95(0x261),'listen','use',_0x1bae95(0x1cb),_0x1bae95(0x268),'concat',_0x1bae95(0x29c),_0x1bae95(0x1fa),_0x1bae95(0x1ff),_0x1bae95(0x18b),_0x1bae95(0x1d9),_0x1bae95(0x2b0),_0x1bae95(0x234),_0x1bae95(0x1db),'frusers',_0x1bae95(0x217),_0x1bae95(0x25e),_0x1bae95(0x206),_0x1bae95(0x247),_0x1bae95(0x2ab),_0x1bae95(0x267),_0x1bae95(0x1c0),_0x1bae95(0x25f),'magnate',_0x1bae95(0x212),'downloaded',_0x1bae95(0x232),_0x1bae95(0x244),_0x1bae95(0x258),'seasons',_0x1bae95(0x236),_0x1bae95(0x298),_0x1bae95(0x2b1),'mp3',_0x1bae95(0x185),'srt',_0x1bae95(0x23c),_0x1bae95(0x1f7),'/download','destroyed\x20cleared','finish','toString',_0x1bae95(0x226),_0x1bae95(0x265),_0x1bae95(0x1d0),'Content-Type',_0x1bae95(0x2a5),'Error\x20moving\x20folder:\x20','size',_0x1bae95(0x19d),_0x1bae95(0x26b),_0x1bae95(0x188),_0x1bae95(0x23f),_0x1bae95(0x1f0),_0x1bae95(0x1fb),_0x1bae95(0x2ac),_0x1bae95(0x1c9),'Content-Disposition',_0x1bae95(0x208),_0x1bae95(0x24b),'8561547OqqqvW',_0x1bae95(0x1b0),'unknown',_0x1bae95(0x278),_0x1bae95(0x1b3),_0x1bae95(0x228),_0x1bae95(0x1ef),'Deleted:\x20','WebSocketServer',_0x1bae95(0x186),_0x1bae95(0x233),_0x1bae95(0x237),_0x1bae95(0x23d),_0x1bae95(0x28e),_0x1bae95(0x1d2),_0x1bae95(0x207),_0x1bae95(0x20c),_0x1bae95(0x2a7),'https://github.com/eugeneware/ffmpeg-static/releases/download/b5.0.0/ffmpeg-static-macos.zip',_0x1bae95(0x22e),_0x1bae95(0x1d8),_0x1bae95(0x245),_0x1bae95(0x196),_0x1bae95(0x1a0),_0x1bae95(0x227),_0x1bae95(0x1ea),_0x1bae95(0x19f),'homePage',_0x1bae95(0x1cf),'torrents',_0x1bae95(0x201),_0x1bae95(0x1ad),'ffmpeg','rmSync',_0x1bae95(0x1b8),_0x1bae95(0x1ae),_0x1bae95(0x254),'http://',_0x1bae95(0x210),_0x1bae95(0x220),_0x1bae95(0x1e1),_0x1bae95(0x1be),_0x1bae95(0x1b2),_0x1bae95(0x270),'5sYLjSw',_0x1bae95(0x1e0),'11CuGuvn',_0x1bae95(0x251),_0x1bae95(0x23a),_0x1bae95(0x1f4),_0x1bae95(0x2a1),_0x1bae95(0x1b7),'platform',_0x1bae95(0x20b),_0x1bae95(0x1c3),_0x1bae95(0x2b3),_0x1bae95(0x21c),_0x1bae95(0x27a),_0x1bae95(0x1ee),'fifth','busboy',_0x1bae95(0x19e),_0x1bae95(0x18a),'entries',_0x1bae95(0x222),'image','no_path',_0x1bae95(0x292),_0x1bae95(0x259),_0x1bae95(0x1f1),_0x1bae95(0x286),_0x1bae95(0x239),'/sets',_0x1bae95(0x191),_0x1bae95(0x1f6),_0x1bae95(0x28d),'json',_0x1bae95(0x28c),'3756mphsTM',_0x1bae95(0x20a),_0x1bae95(0x1bf),'/:type(movie|series)/:endpoint',_0x1bae95(0x20d),_0x1bae95(0x273),_0x1bae95(0x1cd),_0x1bae95(0x1a7),_0x1bae95(0x24f),_0x1bae95(0x18f),'twenty-eighth','1mb',_0x1bae95(0x290),_0x1bae95(0x1d5),_0x1bae95(0x190),_0x1bae95(0x230),_0x1bae95(0x243),'eighteenth',_0x1bae95(0x1bc),_0x1bae95(0x1fd),'.mp3',_0x1bae95(0x211),_0x1bae95(0x28a),_0x1bae95(0x238),_0x1bae95(0x1a9),_0x1bae95(0x27d),_0x1bae95(0x22d),_0x1bae95(0x189),'alloc',_0x1bae95(0x2a6),_0x1bae95(0x1a4),'/:type(private_css|private_js)/:folder/:file',_0x1bae95(0x1ba),'Folder\x20moved\x20from\x20','owner',_0x1bae95(0x1ed),_0x1bae95(0x26d),_0x1bae95(0x213),_0x1bae95(0x263),_0x1bae95(0x183),'episodes',_0x1bae95(0x1a6),_0x1bae95(0x246),_0x1bae95(0x240),_0x1bae95(0x1dc),_0x1bae95(0x23e),_0x1bae95(0x19c),_0x1bae95(0x209),'Please\x20provide\x201\x20to\x2015\x20file\x20paths.','twenty-sixth','ping',_0x1bae95(0x1c1),_0x1bae95(0x2a9),_0x1bae95(0x1b4),'policy',_0x1bae95(0x1e8),_0x1bae95(0x1df),_0x1bae95(0x266),_0x1bae95(0x24a),_0x1bae95(0x225),_0x1bae95(0x25a),_0x1bae95(0x24c),_0x1bae95(0x296),_0x1bae95(0x297),_0x1bae95(0x252),_0x1bae95(0x299),_0x1bae95(0x293),'then',_0x1bae95(0x1e9),_0x1bae95(0x1b5),'noVideo',_0x1bae95(0x1b9),_0x1bae95(0x2a0),_0x1bae95(0x274),'public',_0x1bae95(0x1a1),_0x1bae95(0x1ce),_0x1bae95(0x262),_0x1bae95(0x1f3),'The\x20deletePath\x20is\x20outside\x20of\x20the\x20savePath\x20folder','twenty-fifth','paused',_0x1bae95(0x1eb),_0x1bae95(0x18c),'range',_0x1bae95(0x1dd),_0x1bae95(0x2b6),_0x1bae95(0x1d7),'value',_0x1bae95(0x1d6),'ffmpeg.exe',_0x1bae95(0x215),'Error\x20fetching\x20video:',_0x1bae95(0x20e),_0x1bae95(0x1aa),'server-started',_0x1bae95(0x287),_0x1bae95(0x1a5),'Directory\x20removed\x20successfully!',_0x1bae95(0x200),_0x1bae95(0x221),_0x1bae95(0x229),_0x1bae95(0x1d3),'basename',_0x1bae95(0x21a),'/files',_0x1bae95(0x250),_0x1bae95(0x272),_0x1bae95(0x282),_0x1bae95(0x27c),_0x1bae95(0x280),_0x1bae95(0x1ca),_0x1bae95(0x29f),_0x1bae95(0x1de),_0x1bae95(0x22c),'render',_0x1bae95(0x28b),'log',_0x1bae95(0x218),_0x1bae95(0x235),'7359100msJRWB',_0x1bae95(0x279),'query','darwin',_0x1bae95(0x281),_0x1bae95(0x21f),'homedir',_0x1bae95(0x197),'twenty-second',_0x1bae95(0x2ae),'path','cache\x20cleared',_0x1bae95(0x2b2)];return(_0x2baa=function(){return _0x1b6aee;})();}app[_0x165612(0x1a0)](_0x466ed3(0x22b),!0x0),app[_0x466ed3(0x2a3)](cors());let allowLocalNetwork=!0x1;app['use']((_0x2a7bb5,_0x26d5f2,_0x572e9b)=>{const _0x43aa36=_0x165612,_0x34f5e8=_0x466ed3;_0x26d5f2[_0x43aa36(0x1e7)](_0x34f5e8(0x19b),'*');const _0x532f5e=_0x2a7bb5['ip'];return _0x2a7bb5[_0x43aa36(0x2a7)][_0x34f5e8(0x2b2)][_0x34f5e8(0x27a)](_0x43aa36(0x277))||_0x43aa36(0x1c7)===_0x532f5e||_0x532f5e===_0x34f5e8(0x1fc)?_0x572e9b():allowLocalNetwork?void _0x572e9b():_0x26d5f2[_0x34f5e8(0x1ac)](0x193)['send'](_0x34f5e8(0x29b));}),app[_0x466ed3(0x2a3)](bodyParser[_0x466ed3(0x1ed)]()),app[_0x466ed3(0x2a3)](express[_0x165612(0x1c8)]({'limit':_0x466ed3(0x1f7)})),app[_0x165612(0x205)](express[_0x466ed3(0x297)]({'limit':_0x466ed3(0x1f7),'extended':!0x0})),app[_0x466ed3(0x1b8)](_0x165612(0x2aa),[path[_0x466ed3(0x25b)](__dirname,_0x466ed3(0x287),_0x466ed3(0x212)),path[_0x466ed3(0x25b)](__dirname,_0x466ed3(0x287),_0x466ed3(0x1ec)),path[_0x466ed3(0x25b)](__dirname,_0x466ed3(0x287),_0x466ed3(0x225)),path['join'](__dirname,_0x165612(0x264),_0x165612(0x245)),path[_0x466ed3(0x25b)](__dirname,_0x165612(0x264),_0x466ed3(0x1c4)),path[_0x165612(0x282)](__dirname,_0x165612(0x257))]),app[_0x466ed3(0x1b8)](_0x165612(0x18e),_0x165612(0x264)),app[_0x165612(0x205)](express[_0x466ed3(0x24d)](path[_0x466ed3(0x25b)](__dirname,_0x165612(0x257)))),app[_0x466ed3(0x29a)](_0x466ed3(0x1ba),async(_0x413185,_0x53c2e9)=>{const _0x311903=_0x165612,_0x5a9880=_0x466ed3,_0xa5571a=_0x413185[_0x5a9880(0x29f)][_0x5a9880(0x1c0)],_0x34f420=await party[_0x311903(0x2a9)](_0xa5571a);_0x53c2e9[_0x5a9880(0x262)](_0x311903(0x202),{'req':_0x413185,'data':_0x34f420});}),app[_0x165612(0x1f9)](_0x466ed3(0x1f1),async(_0x4a9662,_0x27ccba)=>{const _0x30e1ee=_0x165612,_0x18d115=_0x466ed3,_0x262945=_0x4a9662[_0x18d115(0x269)][_0x30e1ee(0x29d)],_0x241151=_0x4a9662[_0x18d115(0x269)]['id'],_0x5941a8=await singleMovie[_0x18d115(0x223)](_0x262945,_0x241151);_0x27ccba[_0x18d115(0x262)](_0x18d115(0x1ec),{'req':_0x4a9662,'data':_0x5941a8});}),app[_0x466ed3(0x29a)](_0x466ed3(0x1f2),async(_0x298814,_0x2cc05f)=>{const _0x327206=_0x466ed3,{type:_0x5b135d,endpoint:_0x3fa54a}=_0x298814[_0x327206(0x29f)],_0x49f148=await singleMovie[_0x327206(0x223)](_0x5b135d,_0x3fa54a);_0x49f148?_0x2cc05f[_0x327206(0x262)](_0x327206(0x1c4),{'req':_0x298814,'data':_0x49f148}):_0x2cc05f[_0x327206(0x1ed)]({'error':_0x327206(0x191)});}),app[_0x466ed3(0x29a)]('/',(_0x27e9e0,_0x1a5613)=>{const _0x4f3e24=_0x466ed3;_0x1a5613[_0x4f3e24(0x262)](_0x4f3e24(0x1bc),{'req':_0x27e9e0});}),app['get'](_0x466ed3(0x20e),async(_0x5490d1,_0x41177c)=>{const _0xc32d54=_0x165612,_0x458d8c=_0x466ed3;try{const {type:_0x27be8e,folder:_0x44a97d,file:_0x5eaf2d}=_0x5490d1[_0x458d8c(0x29f)];if(_0x27be8e!==_0x458d8c(0x25e)&&_0x27be8e!==_0x458d8c(0x277)||!_0x5eaf2d[_0x458d8c(0x263)](_0xc32d54(0x275))&&!_0x5eaf2d[_0x458d8c(0x263)](_0x458d8c(0x1fd)))return _0x41177c[_0x458d8c(0x1ac)](0x194)[_0x458d8c(0x274)]('');const _0x106ccf=path['join'](__dirname,_0x458d8c(0x287),_0x44a97d,_0x5eaf2d),_0x5bb219=_0x27be8e===_0x458d8c(0x25e)?_0xc32d54(0x29b):_0xc32d54(0x20f);_0x41177c[_0x458d8c(0x1b8)](_0x458d8c(0x192),_0x5bb219),_0x41177c[_0xc32d54(0x2b2)](_0x106ccf);}catch(_0x172867){console[_0x458d8c(0x21d)](_0xc32d54(0x22a),_0x172867),_0x41177c[_0x458d8c(0x1ac)](0x1f4)[_0x458d8c(0x274)](_0x458d8c(0x24c));}});function _0x2b98(_0x33272a,_0x49df42){const _0x234a42=_0x234a();return _0x2b98=function(_0x2b984a,_0x1c897c){_0x2b984a=_0x2b984a-0x183;let _0x32616c=_0x234a42[_0x2b984a];return _0x32616c;},_0x2b98(_0x33272a,_0x49df42);}const videos=new Map(),sockets=new Map();async function HandleSos(_0x37c961,_0x2bd3d9,_0x35c25d){const _0x3b2dfb=_0x165612,_0x1f24bc=_0x466ed3;try{const _0x2af787=await _0x35c25d[_0x1f24bc(0x1c8)](decodeURIComponent(_0x37c961[_0x1f24bc(0x269)][_0x1f24bc(0x276)]),{'mvid':_0x37c961[_0x3b2dfb(0x284)]['id'],..._0x37c961[_0x1f24bc(0x269)]},_0x37c961[_0x1f24bc(0x1b2)][_0x3b2dfb(0x2b4)],videos,sockets);_0x3b2dfb(0x2a8)!==_0x2af787[_0x1f24bc(0x291)]&&videos[_0x1f24bc(0x1b8)](_0x2af787['id'],{..._0x2af787});const _0x54f3d0=_0x2af787;delete _0x54f3d0[_0x1f24bc(0x27e)],delete _0x54f3d0[_0x1f24bc(0x1b0)],_0x2bd3d9[_0x1f24bc(0x1ac)](0xc8)[_0x1f24bc(0x1ed)]({..._0x54f3d0,'status':_0x1f24bc(0x19c)});}catch(_0x2ab059){if(console[_0x1f24bc(0x21d)](_0x2ab059),_0x2ab059[_0x1f24bc(0x291)]==_0x1f24bc(0x213)){let _0x5381b1=videos[_0x1f24bc(0x29a)](_0x2ab059['id']);delete _0x5381b1[_0x1f24bc(0x27e)],delete _0x5381b1[_0x1f24bc(0x1b0)],_0x2bd3d9[_0x1f24bc(0x1ac)](0xc8)[_0x3b2dfb(0x1c8)]({..._0x5381b1,'id':_0x2ab059['id'],'downloaded':_0x2ab059[_0x1f24bc(0x17e)],'magnate':_0x2ab059[_0x1f24bc(0x17c)],'status':_0x1f24bc(0x19c)});}else _0x2ab059[_0x1f24bc(0x291)]==_0x1f24bc(0x222)?_0x2bd3d9[_0x3b2dfb(0x237)](0xc8)[_0x1f24bc(0x1ed)]({'status':_0x1f24bc(0x21d),'error':_0x2ab059}):_0x2bd3d9[_0x3b2dfb(0x237)](0xc8)[_0x1f24bc(0x1ed)](_0x2ab059);}}let torrents=import(_0x466ed3(0x1f4));((async()=>{const _0x5f260a=_0x466ed3;client=(await torrents)[_0x5f260a(0x1f5)];})()),app[_0x466ed3(0x29a)](_0x165612(0x1e2),async(_0x1a7eed,_0x3a5230)=>{const _0x29019c=_0x466ed3;try{HandleSos(_0x1a7eed,_0x3a5230,await torrents);}catch(_0x4e7232){console[_0x29019c(0x21d)](_0x4e7232),_0x3a5230[_0x29019c(0x1ac)](0x1f4)[_0x29019c(0x1ed)](_0x4e7232);}}),app[_0x466ed3(0x29a)](_0x466ed3(0x281),async(_0x2c8257,_0x1c4a3a)=>{const _0x244afc=_0x165612,_0x2db0f9=_0x466ed3;try{let _0x336674={},_0x569baf=0x0,_0x5dc420=0x0,_0x2317e9={};client[_0x2db0f9(0x1be)]?.[_0x2db0f9(0x185)]((_0x1de708,_0x4dec1b)=>{const _0x3b6421=_0x2b98,_0x239254=_0x2db0f9;let _0x26d94e={};!_0x1de708[_0x239254(0x28b)]&&(_0x1de708[_0x239254(0x1b0)][_0x239254(0x185)](_0x460e37=>{const _0x1331d0=_0x239254;_0x26d94e={'name':_0x460e37[_0x1331d0(0x25d)],'path':_0x460e37['path'],'size':_0x460e37[_0x1331d0(0x195)]};}),_0x336674[_0x4dec1b]={'size':_0x1de708[_0x239254(0x2a5)],'downloaded':_0x1de708[_0x3b6421(0x2ad)],'path':_0x1de708[_0x239254(0x271)],'paused':_0x1de708[_0x239254(0x240)]},_0x569baf+=_0x1de708[_0x239254(0x2a5)],_0x5dc420+=_0x1de708[_0x239254(0x17e)]);});try{let _0x18387a=path[_0x2db0f9(0x25b)](savePath,_0x2db0f9(0x26b));if(fs[_0x2db0f9(0x1af)](_0x18387a)){const _0x3309e7=fs[_0x244afc(0x213)](_0x18387a,'utf8');_0x2317e9=JSON[_0x244afc(0x28f)](_0x3309e7);}}catch(_0x2cb0b3){console['log'](_0x2cb0b3);}_0x1c4a3a[_0x2db0f9(0x1ed)]({'downloaded':_0x5dc420,'size':_0x569baf,'data':_0x336674,'save':_0x2317e9[_0x2db0f9(0x205)]});}catch(_0x129231){console[_0x2db0f9(0x21d)](_0x129231),_0x1c4a3a[_0x2db0f9(0x1ac)](0x1f4)[_0x2db0f9(0x1ed)](_0x129231);}}),app[_0x466ed3(0x1d9)](_0x466ed3(0x1fe),async(_0x22ffb9,_0x38b9e6)=>{const _0x197e84=_0x466ed3;try{videos[_0x197e84(0x17b)](_0x22ffb9[_0x197e84(0x1bf)]['id']);const _0x44c949=await client[_0x197e84(0x29a)](_0x22ffb9[_0x197e84(0x1bf)]['id']);fs[_0x197e84(0x288)](_0x44c949['path'])[_0x197e84(0x232)](()=>{const _0x314e49=_0x2b98;console[_0x197e84(0x264)](_0x314e49(0x256));})[_0x197e84(0x252)](_0x23acb0=>{const _0x4e761c=_0x2b98;console[_0x4e761c(0x19c)](_0x4e761c(0x22b),_0x23acb0);}),await client['remove'](_0x22ffb9[_0x197e84(0x1bf)]['id']),_0x44c949[_0x197e84(0x26e)](_0x44c949),_0x38b9e6[_0x197e84(0x1ed)]({'status':_0x197e84(0x19c)});}catch(_0x5482a9){console[_0x197e84(0x21d)](_0x5482a9),_0x38b9e6[_0x197e84(0x1ac)](0x1f4)[_0x197e84(0x1ed)](_0x5482a9);}}),app[_0x466ed3(0x29a)](_0x466ed3(0x1a7),async(_0x20cff3,_0x5f255d)=>{const _0x5690ff=_0x165612,_0x39c9a0=_0x466ed3;try{if(_0x20cff3[_0x39c9a0(0x269)][_0x39c9a0(0x291)]==_0x39c9a0(0x2a1))return client[_0x5690ff(0x193)][_0x39c9a0(0x185)]((_0x164d1f,_0x55b4b7)=>{_0x164d1f[_0x39c9a0(0x26e)]();}),void _0x5f255d[_0x39c9a0(0x1ed)]({'status':_0x39c9a0(0x19c),'length':client[_0x39c9a0(0x1be)][_0x39c9a0(0x2a5)]});if(!_0x20cff3[_0x5690ff(0x284)]['id']||!await client['get'](_0x20cff3['query']['id']))return void _0x5f255d[_0x39c9a0(0x1ed)]({'error':_0x39c9a0(0x193)});const _0x55b2d1=await client[_0x39c9a0(0x29a)](_0x20cff3[_0x39c9a0(0x269)]['id']);_0x55b2d1[_0x39c9a0(0x26e)](_0x55b2d1),await client[_0x39c9a0(0x288)](_0x20cff3[_0x39c9a0(0x269)]['id']),_0x5f255d[_0x5690ff(0x1c8)]({'status':_0x39c9a0(0x19c)});}catch(_0x2f8ff3){console[_0x39c9a0(0x21d)](_0x2f8ff3),_0x5f255d[_0x39c9a0(0x1ac)](0x1f4)[_0x5690ff(0x1c8)](_0x2f8ff3);}}),app[_0x466ed3(0x29a)]('/videoget',async(_0x719daf,_0x2baf71)=>{const _0x44709c=_0x165612,_0x16089e=_0x466ed3;if(videos[_0x16089e(0x1a0)](_0x719daf[_0x16089e(0x269)]['id']))try{const _0x50c18d=await videos[_0x16089e(0x29a)](_0x719daf[_0x16089e(0x269)]['id']),_0x1b9936=_0x50c18d[_0x16089e(0x27e)],_0xb509ec=_0x719daf[_0x16089e(0x1b2)][_0x16089e(0x243)],_0x344272=_0x1b9936[_0x16089e(0x2a5)];let _0x45f808,_0x229057={'Content-Type':_0x50c18d[_0x16089e(0x25f)],'Content-Length':_0x344272};if(_0xb509ec){const _0x50186e=_0xb509ec[_0x16089e(0x292)](/bytes=/,'')[_0x16089e(0x294)]('-'),_0x28cb04=parseInt(_0x50186e[0x0],0xa),_0x5f97b8=_0x50186e[0x1]?parseInt(_0x50186e[0x1],0xa):_0x344272-0x1,_0x1304bf=_0x5f97b8-_0x28cb04+0x1;_0x45f808={'start':_0x28cb04,'end':_0x5f97b8},_0x229057={'Content-Range':_0x16089e(0x266)+_0x28cb04+'-'+_0x5f97b8+'/'+_0x344272,'Accept-Ranges':_0x44709c(0x19e),'Content-Length':_0x1304bf,'Content-Type':_0x50c18d[_0x16089e(0x25f)]};}const _0x2498c4=_0x1b9936[_0x44709c(0x2a0)](_0x45f808);_0x2498c4['on'](_0x16089e(0x21d),_0x3c6e4c=>{}),_0x2baf71[_0x16089e(0x2a0)](0xce,_0x229057),_0x2498c4[_0x44709c(0x25e)](_0x2baf71);}catch(_0x118a1d){console[_0x16089e(0x21d)]('Error\x20fetching\x20video:',_0x118a1d),_0x2baf71[_0x16089e(0x1ac)](0x1f4)[_0x16089e(0x1ed)]({'error':_0x16089e(0x206)});}else _0x2baf71[_0x16089e(0x1ac)](0x194)[_0x16089e(0x1ed)]({'error':'no_video_found'});});const installFFmpegStatic=async()=>{const _0x2f81eb=_0x165612,_0x25f4b4=_0x466ed3,{pipeline:_0xf87b4c}=require(_0x25f4b4(0x24f)),{promisify:_0x49a87b}=require(_0x2f81eb(0x192)),_0x184e75=require(_0x25f4b4(0x1d7)),_0x3dfbd2=_0x49a87b(_0xf87b4c),_0x46223e=os[_0x25f4b4(0x1d5)]();let _0x54555c,_0x5763f0;switch(_0x46223e){case _0x25f4b4(0x199):_0x54555c=_0x25f4b4(0x219),_0x5763f0=_0x25f4b4(0x1df);break;case _0x25f4b4(0x26a):_0x54555c=_0x2f81eb(0x246),_0x5763f0=_0x25f4b4(0x1b3);break;case _0x2f81eb(0x1ec):_0x54555c='ffmpeg-static',_0x5763f0=_0x25f4b4(0x20d);break;default:console[_0x2f81eb(0x19c)](_0x25f4b4(0x21c),_0x46223e),process[_0x25f4b4(0x257)](0x1);}const _0x1cf8c1=path[_0x25f4b4(0x1e7)](rootPath,_0x25f4b4(0x219)),_0x5b83ae=path[_0x25f4b4(0x1e7)](_0x1cf8c1,_0x46223e===_0x25f4b4(0x199)?_0x25f4b4(0x249):_0x25f4b4(0x1c1));if(fs[_0x2f81eb(0x1d2)](_0x5b83ae))return _0x5b83ae;const _0x3eb8fa=path[_0x25f4b4(0x1e7)](_0x1cf8c1,_0x54555c+_0x25f4b4(0x1db));try{!fs[_0x2f81eb(0x1d2)](_0x1cf8c1)&&fs['mkdirSync'](_0x1cf8c1,{'recursive':!0x0});const _0x6559d=fs[_0x25f4b4(0x18a)](_0x3eb8fa),_0x3d0320=await new Promise((_0x351f75,_0x5ab13a)=>{const _0x20d648=_0x25f4b4;https[_0x20d648(0x29a)](_0x5763f0,_0x4aebc7=>{const _0x29e9da=_0x2b98,_0x2a0384=_0x20d648;0xc8===_0x4aebc7[_0x29e9da(0x20d)]?_0x351f75(_0x4aebc7):_0x5ab13a(new Error(_0x29e9da(0x1c2)+_0x5763f0+_0x2a0384(0x28a)+_0x4aebc7[_0x2a0384(0x1f3)]+')'));});});return await _0x3dfbd2(_0x3d0320,_0x6559d),await fs[_0x25f4b4(0x237)](_0x3eb8fa)[_0x25f4b4(0x2b1)](_0x184e75[_0x25f4b4(0x224)]({'path':_0x1cf8c1}))[_0x25f4b4(0x1d0)](),fs[_0x2f81eb(0x199)](_0x3eb8fa),_0x5b83ae;}catch(_0xe85bac){console[_0x25f4b4(0x21d)](_0xe85bac);}};let ffmpeg,ffmpegStatic;if(isElectron){ffmpeg=require(_0x466ed3(0x2a8));try{installFFmpegStatic()[_0x466ed3(0x232)](_0x525251=>{const _0x503476=_0x165612;ffmpeg[_0x503476(0x1fc)](ffmpegStatic);})[_0x466ed3(0x252)](_0x104081=>{const _0x544701=_0x466ed3;console[_0x544701(0x21d)](_0x544701(0x1a4),_0x104081);});}catch(_0x216ad3){console[_0x165612(0x19c)](_0x216ad3);}}app[_0x466ed3(0x29a)](_0x466ed3(0x17a),async(_0x77d913,_0x2a8939)=>{const _0x37cc01=_0x165612,_0x419ba5=_0x466ed3;if(!isElectron)return _0x2a8939['json']({'status':'not_supported'});try{const _0x20e55b=(await videos[_0x37cc01(0x1f9)](_0x77d913[_0x419ba5(0x269)]['id']))[_0x419ba5(0x27e)],_0x1c9b08=_0x77d913[_0x419ba5(0x1b2)][_0x419ba5(0x243)],_0xa1e220=_0x20e55b[_0x419ba5(0x2a5)];let _0x571e8c,_0xdfa85a={'Content-Type':_0x419ba5(0x21e),'Content-Length':_0xa1e220};if(_0x1c9b08){const _0x35c950=_0x1c9b08[_0x419ba5(0x292)](/bytes=/,'')[_0x419ba5(0x294)]('-'),_0x592bbe=parseInt(_0x35c950[0x0],0xa),_0x5a0a54=_0x35c950[0x1]?parseInt(_0x35c950[0x1],0xa):_0xa1e220-0x1,_0x5a9530=_0x5a0a54-_0x592bbe+0x1;_0x571e8c={'start':_0x592bbe,'end':_0x5a0a54},_0xdfa85a={'Content-Range':_0x419ba5(0x266)+_0x592bbe+'-'+_0x5a0a54+'/'+_0xa1e220,'Accept-Ranges':_0x419ba5(0x1de),'Content-Length':_0x5a9530,'Content-Type':_0x419ba5(0x21e)};}const _0x47e5c2=_0x20e55b[_0x419ba5(0x237)](_0x571e8c);_0x47e5c2['on'](_0x419ba5(0x21d),_0x2a98df=>{}),_0x2a8939[_0x419ba5(0x2a0)](0xce,_0xdfa85a),(await ffmpeg(_0x47e5c2)[_0x419ba5(0x235)]()[_0x419ba5(0x1b9)](_0x37cc01(0x196))[_0x419ba5(0x1da)](_0x419ba5(0x186))['on']('error',_0x15644d=>{const _0x39aa61=_0x37cc01,_0x3d822e=_0x419ba5;console[_0x3d822e(0x21d)](_0x3d822e(0x2ae),_0x15644d),_0x2a8939[_0x39aa61(0x1df)]();}))[_0x37cc01(0x25e)](_0x2a8939,{'end':!0x0});}catch(_0x5a35f4){console[_0x419ba5(0x21d)](_0x419ba5(0x24b),_0x5a35f4),_0x2a8939[_0x419ba5(0x1ac)](0x1f4)[_0x419ba5(0x1ed)]({'error':_0x419ba5(0x206)});}}),app[_0x466ed3(0x29a)](_0x466ed3(0x258),(_0x3d5b7e,_0xe34ece)=>{const _0x1f4d96=_0x165612,_0x49ca3e=_0x466ed3;import(_0x1f4d96(0x2af))[_0x49ca3e(0x232)](async _0x161a0c=>{const _0x53079c=_0x1f4d96,_0x24a8a0=_0x49ca3e;try{const _0xb36334=await _0x161a0c[_0x24a8a0(0x1e6)](savePath);_0xe34ece[_0x24a8a0(0x1ed)](_0xb36334);}catch(_0x53dbae){_0xe34ece[_0x24a8a0(0x274)](_0x53dbae[_0x53079c(0x1e6)]());}});}),app[_0x466ed3(0x29a)](_0x466ed3(0x18b),(_0x1e5cc9,_0x1ff0dd)=>{const _0x3b5a60=_0x466ed3;_0x1ff0dd[_0x3b5a60(0x262)](_0x3b5a60(0x1b6),{'req':_0x1e5cc9});}),app[_0x165612(0x1f9)](_0x466ed3(0x1bb),(_0x49a813,_0x55e58c)=>{const _0x26bbf9=_0x165612,_0x46199b=_0x466ed3;_0x55e58c['json']({'status':_0x46199b(0x19c),'version':_0x26bbf9(0x26c)});}),app[_0x466ed3(0x29a)](_0x466ed3(0x1b5),async(_0x1d7dbf,_0x39ade9)=>{const _0x1e863a=_0x165612,_0x55cee4=_0x466ed3;try{if(_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x291)]==_0x55cee4(0x246)){const _0x51095b=path[_0x1e863a(0x282)](decodeURIComponent(_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x260)]),_0x55cee4(0x184)),_0x366530=fs[_0x55cee4(0x214)](_0x51095b,_0x55cee4(0x209)),_0x5a3d97=JSON[_0x55cee4(0x282)](_0x366530),_0x288aa2=_0x5a3d97[_0x55cee4(0x182)][_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x236)]][_0x55cee4(0x217)][_0x1d7dbf[_0x1e863a(0x284)][_0x55cee4(0x23c)]][_0x55cee4(0x271)];if(fs[_0x55cee4(0x288)](_0x288aa2)[_0x1e863a(0x25c)](()=>{const _0xf02fe1=_0x55cee4;console[_0xf02fe1(0x264)](_0xf02fe1(0x22e));})['catch'](_0x18325d=>{const _0x4a7406=_0x55cee4;console[_0x4a7406(0x21d)](_0x4a7406(0x275),_0x18325d);}),delete _0x5a3d97[_0x55cee4(0x182)][_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x236)]][_0x55cee4(0x217)][_0x1d7dbf[_0x55cee4(0x269)][_0x1e863a(0x262)]],0x0==Object[_0x55cee4(0x1e0)](_0x5a3d97[_0x55cee4(0x182)][_0x1d7dbf[_0x1e863a(0x284)][_0x55cee4(0x236)]][_0x55cee4(0x217)])[_0x1e863a(0x268)])return fs[_0x55cee4(0x288)](decodeURIComponent(_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x260)]))[_0x1e863a(0x25c)](()=>{const _0x2e8a57=_0x1e863a,_0x5ce773=_0x55cee4;console[_0x2e8a57(0x1ab)](_0x5ce773(0x251));})[_0x1e863a(0x200)](_0x10254f=>{const _0x2987b2=_0x1e863a,_0x5270b4=_0x55cee4;console[_0x2987b2(0x19c)](_0x5270b4(0x275),_0x10254f);}),void _0x39ade9[_0x55cee4(0x1ed)]({'status':_0x1e863a(0x2ac)});fs[_0x1e863a(0x1a7)](_0x51095b,JSON[_0x55cee4(0x22f)](_0x5a3d97,null,0x2),_0x55cee4(0x209),_0x15c06f=>{_0x15c06f&&console[_0x55cee4(0x264)](_0x15c06f);});}if(!decodeURIComponent(_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x271)])||!isSubpath(decodeURIComponent(_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x271)])))return void _0x39ade9[_0x55cee4(0x1ed)]({'error':_0x55cee4(0x1e3)});const _0x458386=_0x1d7dbf[_0x1e863a(0x284)][_0x55cee4(0x291)]==_0x55cee4(0x246)?path[_0x55cee4(0x25b)](decodeURIComponent(_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x260)]),_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x236)],_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x23c)]):decodeURIComponent(_0x1d7dbf[_0x55cee4(0x269)][_0x55cee4(0x260)]);fs[_0x55cee4(0x288)](_0x458386)[_0x55cee4(0x232)](()=>{const _0x4f6301=_0x1e863a;console[_0x4f6301(0x1ab)](_0x4f6301(0x256));})[_0x55cee4(0x252)](_0x48e6b7=>{const _0x1959c8=_0x55cee4;console[_0x1959c8(0x21d)](_0x1959c8(0x275),_0x48e6b7);}),_0x39ade9[_0x55cee4(0x1ed)]({'status':_0x55cee4(0x19c)});}catch(_0x2e442f){console[_0x55cee4(0x21d)](_0x2e442f),_0x39ade9[_0x55cee4(0x1ed)]({'error':_0x2e442f});}});let rootPath=process[_0x466ed3(0x1ce)][0x2];try{!fs[_0x466ed3(0x1af)](rootPath)&&fs[_0x165612(0x221)](rootPath,{'recursive':!0x0});}catch(_0x3a87f9){console[_0x165612(0x19c)](_0x3a87f9);}let savePath=path[_0x466ed3(0x25b)](rootPath,_0x466ed3(0x241)),settingsPath=path[_0x466ed3(0x25b)](rootPath,_0x466ed3(0x26b));function moveFolder(_0x55a1e5,_0x207aed){const _0x32218a=_0x466ed3;fs[_0x32218a(0x29c)](_0x55a1e5,_0x207aed,_0x2ac918=>{const _0x5563c0=_0x2b98,_0x4db49f=_0x32218a;_0x2ac918?console[_0x4db49f(0x21d)](_0x4db49f(0x194)+_0x2ac918):console[_0x5563c0(0x1ab)](_0x4db49f(0x210)+_0x55a1e5+'\x20to\x20'+_0x207aed);});}function isSubpath(_0x57e3c3){const _0x1f7c74=_0x466ed3,_0x2f32d7=path[_0x1f7c74(0x1e7)](savePath);return path[_0x1f7c74(0x1e7)](_0x57e3c3)[_0x1f7c74(0x27f)](_0x2f32d7);}app['get'](_0x466ed3(0x29e),async(_0x46ffd0,_0x16b899)=>{const _0x59a375=_0x165612,_0x33fa48=_0x466ed3;try{let _0x4abb06={'save':!0x0};if(!fs[_0x59a375(0x1d2)](settingsPath))return fs[_0x33fa48(0x1f6)](settingsPath,JSON[_0x33fa48(0x22f)](_0x4abb06,null,0x2),_0x33fa48(0x209)),void _0x16b899[_0x33fa48(0x1ed)]({'status':_0x59a375(0x2ac)});const _0xffa9e3=fs['readFileSync'](settingsPath,_0x33fa48(0x209));_0x4abb06=JSON[_0x59a375(0x28f)](_0xffa9e3),_0x4abb06[_0x33fa48(0x271)]&&(savePath=_0x4abb06[_0x33fa48(0x271)]),_0x16b899[_0x33fa48(0x1ed)]({'path':savePath,'save':_0x4abb06[_0x33fa48(0x205)]});}catch(_0x5272c3){console[_0x33fa48(0x264)](_0x5272c3),_0x16b899[_0x33fa48(0x1ed)]({'error':_0x5272c3});}}),app[_0x466ed3(0x29a)](_0x466ed3(0x1e9),async(_0x24df93,_0x57f458)=>{const _0x36ec14=_0x165612,_0x271932=_0x466ed3;try{let _0x2e4483={},_0x141b88=_0x24df93[_0x271932(0x269)][_0x271932(0x1f8)];if((_0x36ec14(0x195)===_0x24df93[_0x271932(0x269)][_0x271932(0x1a6)]||_0x36ec14(0x1c4)===_0x24df93[_0x36ec14(0x284)]['val'])&&(_0x141b88=_0x24df93[_0x271932(0x269)]['val']===_0x271932(0x285)),!fs[_0x271932(0x1af)](settingsPath))return _0x2e4483[_0x24df93[_0x271932(0x269)][_0x271932(0x1f8)]]=_0x141b88,fs[_0x271932(0x1f6)](settingsPath,JSON[_0x271932(0x22f)](_0x2e4483,null,0x2),_0x271932(0x209)),void _0x57f458[_0x271932(0x1ed)]({'status':_0x271932(0x19c)});const _0x54d7c8=fs['readFileSync'](settingsPath,_0x271932(0x209));_0x2e4483=JSON[_0x271932(0x282)](_0x54d7c8),_0x2e4483[_0x24df93[_0x271932(0x269)][_0x36ec14(0x18f)]]=_0x141b88,fs[_0x271932(0x1f6)](settingsPath,JSON[_0x271932(0x22f)](_0x2e4483),_0x36ec14(0x22d)),_0x36ec14(0x1e5)==_0x24df93[_0x36ec14(0x284)][_0x271932(0x1f8)]&&moveFolder(savePath,_0x24df93[_0x271932(0x269)][_0x271932(0x247)]),_0x57f458[_0x271932(0x1ed)]({'status':_0x271932(0x19c)});}catch(_0x2db75c){console[_0x36ec14(0x19c)](_0x2db75c),_0x57f458[_0x271932(0x1ed)]({'error':_0x2db75c});}}),app['get'](_0x466ed3(0x29d),async(_0x15cf55,_0x503754)=>{const _0x70bd09=_0x165612,_0x3e2918=_0x466ed3,_0x1239fd={};for(let _0x29fa39=0x1;_0x29fa39<=0x24;_0x29fa39++)_0x1239fd[_0x29fa39['toString']()]=(0x1===_0x29fa39?_0x3e2918(0x1a2):0x2===_0x29fa39?_0x3e2918(0x23d):0x3===_0x29fa39?_0x70bd09(0x223):0x4===_0x29fa39?_0x3e2918(0x2ab):0x5===_0x29fa39?_0x3e2918(0x1dc):0x6===_0x29fa39?_0x70bd09(0x29e):0x7===_0x29fa39?_0x70bd09(0x18d):0x8===_0x29fa39?_0x3e2918(0x245):0x9===_0x29fa39?_0x3e2918(0x1a5):0xa===_0x29fa39?_0x3e2918(0x24a):0xb===_0x29fa39?_0x3e2918(0x1ff):0xc===_0x29fa39?_0x3e2918(0x1aa):0xd===_0x29fa39?_0x3e2918(0x298):0xe===_0x29fa39?_0x3e2918(0x265):0xf===_0x29fa39?_0x3e2918(0x255):0x10===_0x29fa39?_0x3e2918(0x2aa):0x11===_0x29fa39?_0x70bd09(0x2a4):0x12===_0x29fa39?_0x3e2918(0x200):0x13===_0x29fa39?_0x3e2918(0x1c3):0x14===_0x29fa39?_0x3e2918(0x1e1):0x15===_0x29fa39?_0x3e2918(0x202):0x16===_0x29fa39?_0x3e2918(0x26f):0x17===_0x29fa39?_0x3e2918(0x181):0x18===_0x29fa39?_0x70bd09(0x1d4):0x19===_0x29fa39?_0x3e2918(0x23f):0x1a===_0x29fa39?_0x3e2918(0x220):0x1b===_0x29fa39?_0x3e2918(0x208):0x1c===_0x29fa39?_0x3e2918(0x1f9):0x1d===_0x29fa39?_0x3e2918(0x280):0x1e===_0x29fa39?_0x3e2918(0x1e4):0x1f===_0x29fa39?_0x3e2918(0x268):0x20===_0x29fa39?_0x3e2918(0x23b):0x21===_0x29fa39?_0x3e2918(0x1d8):0x22===_0x29fa39?_0x3e2918(0x230):0x23===_0x29fa39?_0x3e2918(0x196):_0x70bd09(0x1e3))+_0x3e2918(0x28f);const _0x5f380b=_0x15cf55[_0x3e2918(0x269)][_0x3e2918(0x236)]?_0x1239fd[_0x15cf55[_0x3e2918(0x269)][_0x3e2918(0x236)]]:'',_0x48eb2a=_0x70bd09(0x1ac)+_0x15cf55[_0x3e2918(0x269)]['id']+'/'+_0x15cf55[_0x3e2918(0x269)]['slug']+'/'+_0x5f380b,_0xc892b4=await subtitles[_0x3e2918(0x2ac)](_0x48eb2a);_0x503754[_0x3e2918(0x1ed)](_0xc892b4);}),app[_0x466ed3(0x1d9)](_0x466ed3(0x197),async(_0x548c00,_0xf88c18)=>{const _0x1803d8=_0x165612,_0x13183e=_0x466ed3;try{if(null==_0x548c00[_0x13183e(0x1bf)][_0x13183e(0x1ea)]||null==_0x548c00[_0x13183e(0x1bf)][_0x1803d8(0x191)])return void _0xf88c18[_0x13183e(0x1ed)]({'error':_0x1803d8(0x194),'type':_0x1803d8(0x184),'message':'Please\x20select\x20the\x20episode\x20you\x20want\x20to\x20play'});const _0x47b5a8=(await torrents)['promiseExport']({..._0x548c00[_0x13183e(0x1bf)]});videos[_0x1803d8(0x1a0)](_0x47b5a8['id'],{..._0x47b5a8}),delete _0x47b5a8[_0x13183e(0x27e)],delete _0x47b5a8[_0x13183e(0x1b0)],_0xf88c18[_0x13183e(0x1ed)]({'status':_0x13183e(0x19c),..._0x47b5a8});}catch(_0x372404){_0xf88c18[_0x13183e(0x1ed)]({'error':_0x13183e(0x1a3),'type':_0x1803d8(0x1af),'message':_0x372404[_0x13183e(0x18e)]()});}}),app[_0x466ed3(0x1d9)](_0x466ed3(0x17f),express[_0x466ed3(0x297)]({'limit':_0x466ed3(0x1fa),'extended':!0x0}),(_0x2a3f47,_0x5c72f3)=>{const _0x9e7d80=_0x165612,_0x1cc4e0=_0x466ed3,_0x2f1070=require(_0x1cc4e0(0x1dd))({'headers':_0x2a3f47[_0x9e7d80(0x2a7)]});let _0x5766f8=Buffer[_0x1cc4e0(0x20b)](0x0);_0x2f1070['on'](_0x1cc4e0(0x27e),(_0x2535a1,_0x48a2ce,_0x2a13d3,_0x2eaa81,_0x2d9da6)=>{const _0xd8128a=_0x1cc4e0;_0x48a2ce['on'](_0xd8128a(0x284),_0x493bc0=>{_0x5766f8=Buffer[_0xd8128a(0x2a6)]([_0x5766f8,_0x493bc0]);}),_0x48a2ce['on']('end',()=>{const _0x1313eb=_0xd8128a;console[_0x1313eb(0x264)](_0x1313eb(0x2b3)+_0x2535a1+_0x1313eb(0x18f));});}),_0x2f1070['on'](_0x1cc4e0(0x18d),async()=>{const _0x3c5b49=_0x9e7d80,_0xedb35=_0x1cc4e0;console[_0x3c5b49(0x1ab)](_0x3c5b49(0x2a2)),await subtitles[_0xedb35(0x282)](_0x5766f8);const _0x18f7fa=await subtitles[_0xedb35(0x282)](_0x5766f8);_0x5c72f3[_0xedb35(0x183)](_0x3c5b49(0x2b5),_0xedb35(0x1d2)),_0x5c72f3[_0x3c5b49(0x236)](_0xedb35(0x192),_0xedb35(0x189)),console['log'](_0x18f7fa);}),_0x2a3f47[_0x1cc4e0(0x2b1)](_0x2f1070);}),app[_0x466ed3(0x29a)](_0x466ed3(0x293),async(_0x13eec0,_0x4e012b)=>{const _0x5b163d=_0x165612,_0x2b6bf8=_0x466ed3;try{const _0x5068a0=_0x13eec0['query'][_0x5b163d(0x240)],_0x415133=await subtitles[_0x2b6bf8(0x1ab)](_0x5068a0);_0x4e012b[_0x2b6bf8(0x1ed)](_0x415133);}catch(_0x286525){console[_0x2b6bf8(0x264)](_0x286525),_0x4e012b[_0x2b6bf8(0x1ac)](0x190)[_0x2b6bf8(0x274)](_0x286525[_0x2b6bf8(0x242)]);}}),app[_0x466ed3(0x29a)](_0x466ed3(0x250),async(_0x28716d,_0x4f7bce)=>{const _0x18585e=_0x165612,_0x4d02b9=_0x466ed3;try{const _0x250cf7=await providers[_0x4d02b9(0x2ac)](_0x4d02b9(0x1ee)+_0x28716d[_0x4d02b9(0x269)][_0x4d02b9(0x291)][_0x4d02b9(0x292)](_0x18585e(0x1d7),'tv')+'/'+_0x28716d[_0x18585e(0x284)][_0x4d02b9(0x27d)]+_0x4d02b9(0x20a)+_0x28716d[_0x4d02b9(0x269)][_0x4d02b9(0x283)]);_0x4f7bce[_0x4d02b9(0x1ed)](_0x250cf7);}catch(_0x382325){console[_0x4d02b9(0x264)](_0x382325),_0x4f7bce[_0x4d02b9(0x1ac)](0x190)[_0x4d02b9(0x274)](_0x382325[_0x4d02b9(0x242)]);}}),app[_0x466ed3(0x29a)](_0x466ed3(0x289),(_0x5c0859,_0x592715)=>{const _0x3e4e77=_0x165612,_0x3e42b5=_0x466ed3;try{const _0x3bff33=decodeURIComponent(_0x5c0859[_0x3e42b5(0x269)][_0x3e42b5(0x271)]);if(!_0x3bff33||!fs[_0x3e4e77(0x1d2)](_0x3bff33))return _0x592715[_0x3e4e77(0x237)](0x194)[_0x3e42b5(0x1ed)]({'error':_0x3e42b5(0x1e5)});const _0x2f1ccf=path[_0x3e42b5(0x256)](_0x3bff33);_0x592715[_0x3e42b5(0x183)](_0x3e4e77(0x2b5),_0x3e42b5(0x21b)+_0x2f1ccf+'\x22'),_0x592715[_0x3e4e77(0x2b2)](path[_0x3e42b5(0x1e7)](_0x3bff33),_0x101557=>{const _0x5db385=_0x3e4e77,_0x5a0b49=_0x3e42b5;_0x101557&&(console[_0x5a0b49(0x21d)](_0x101557),!_0x592715[_0x5a0b49(0x296)]&&_0x592715[_0x5db385(0x237)](0x1f4)[_0x5a0b49(0x274)](_0x101557[_0x5db385(0x18c)]));});}catch(_0x50d05f){!_0x592715[_0x3e42b5(0x296)]&&_0x592715['status'](0x190)[_0x3e42b5(0x1ed)]({'error':_0x50d05f[_0x3e42b5(0x242)]});}}),app[_0x466ed3(0x29a)]('/audio',(_0x39fa8e,_0x41284f)=>{const _0xea956a=_0x165612,_0x260de3=_0x466ed3;try{const _0x2b5709=decodeURIComponent(_0x39fa8e[_0x260de3(0x269)][_0x260de3(0x271)]);if(!_0x2b5709||!fs[_0x260de3(0x1af)](_0x2b5709))return _0x41284f[_0xea956a(0x237)](0x194)[_0xea956a(0x1c8)]({'error':_0x260de3(0x1e5)});const _0x111c80=path[_0x260de3(0x256)](_0x2b5709,path[_0x260de3(0x254)](_0x2b5709))+_0x260de3(0x203),_0x5e6451=path[_0x260de3(0x25b)](path[_0x260de3(0x2a4)](_0x2b5709),_0x111c80),_0x14d68c=path[_0x260de3(0x1e7)](_0x5e6451);if(fs[_0x260de3(0x1af)](_0x14d68c))return _0x41284f[_0x260de3(0x183)](_0x260de3(0x19e),_0x260de3(0x21b)+_0x111c80+'\x22'),_0x41284f[_0x260de3(0x273)](_0x14d68c,_0x1b5386=>{const _0x1e8293=_0xea956a,_0xfc12c7=_0x260de3;_0x1b5386&&(console[_0x1e8293(0x19c)](_0x1b5386),!_0x41284f[_0xfc12c7(0x296)]&&_0x41284f[_0x1e8293(0x237)](0x1f4)[_0xfc12c7(0x274)](_0x1b5386[_0xfc12c7(0x242)]));});ffmpeg(_0x2b5709)['noVideo']()['audioCodec'](_0x260de3(0x1b7))[_0x260de3(0x1da)](_0x260de3(0x186))['on'](_0xea956a(0x1df),()=>{const _0x33564d=_0x260de3;_0x41284f[_0x33564d(0x183)](_0x33564d(0x19e),_0x33564d(0x21b)+_0x111c80+'\x22'),_0x41284f[_0x33564d(0x273)](_0x14d68c,_0x20a181=>{const _0x509390=_0x33564d;_0x20a181&&(console['error'](_0x20a181),!_0x41284f[_0x509390(0x296)]&&_0x41284f[_0x509390(0x1ac)](0x1f4)['send'](_0x20a181[_0x509390(0x242)]));});})['on'](_0xea956a(0x19c),_0x29c5a4=>{const _0x1dcb47=_0xea956a,_0x595902=_0x260de3;console[_0x595902(0x21d)](_0x595902(0x216),_0x29c5a4),!_0x41284f[_0x595902(0x296)]&&_0x41284f[_0x1dcb47(0x237)](0x1f4)[_0x595902(0x1ed)]({'error':_0x1dcb47(0x22f),'message':_0x29c5a4[_0x1dcb47(0x18c)]});})[_0x260de3(0x205)](_0x14d68c);}catch(_0x4ca95c){!_0x41284f[_0x260de3(0x296)]&&_0x41284f[_0x260de3(0x1ac)](0x190)['json']({'error':_0x4ca95c[_0x260de3(0x242)]});}}),app[_0x466ed3(0x1d9)]('/setsrt',express[_0x466ed3(0x297)]({'limit':'1mb','extended':!0x0}),(_0x136f22,_0x48d7ec)=>{const _0x2f2798=_0x165612,_0x14ce08=_0x466ed3,_0x5c4598=_0x136f22[_0x14ce08(0x1bf)][_0x2f2798(0x1e5)],_0x129f53=_0x136f22[_0x14ce08(0x1bf)][_0x14ce08(0x188)];if(_0x129f53&&_0x5c4598)try{let _0x207b7f;if(0x1==_0x136f22['body'][_0x14ce08(0x20f)]){let _0x428f58=path[_0x14ce08(0x25b)](rootPath,_0x14ce08(0x241),'subtitles');!fs[_0x2f2798(0x1d2)](_0x428f58)&&fs[_0x2f2798(0x221)](_0x428f58,{'recursive':!0x0}),_0x207b7f=path[_0x14ce08(0x25b)](_0x428f58,_0x5c4598),fs[_0x2f2798(0x1a7)](_0x207b7f,_0x129f53,_0x14ce08(0x209)),console[_0x2f2798(0x1ab)](_0x207b7f);}else{const _0x1c4e6d=path[_0x2f2798(0x229)](_0x5c4598);_0x207b7f=_0x5c4598[_0x14ce08(0x292)](_0x1c4e6d,_0x14ce08(0x228)),fs[_0x14ce08(0x1f6)](_0x207b7f,_0x129f53,_0x14ce08(0x209));}_0x48d7ec[_0x14ce08(0x1ed)]({'url':_0x14ce08(0x231)+encodeURIComponent(_0x207b7f)});}catch(_0x51e76f){console[_0x14ce08(0x21d)](_0x51e76f);}else _0x48d7ec[_0x14ce08(0x1ed)]({'error':_0x14ce08(0x19a)});}),app[_0x466ed3(0x1d9)](_0x165612(0x29a),async(_0x24f051,_0x58493a)=>{const _0x59c528=_0x165612,_0x675023=_0x466ed3;try{if(_0x24f051[_0x59c528(0x201)][_0x675023(0x1d3)]==_0x675023(0x2ad))return allowLocalNetwork=!0x1,void _0x58493a[_0x675023(0x1ed)]({'status':_0x675023(0x19c)});const _0x51a1ee=await ip[_0x59c528(0x272)](_0x24f051[_0x675023(0x269)][_0x675023(0x285)]===_0x675023(0x285));allowLocalNetwork=!0x0;const _0x3cd7b4=require(_0x59c528(0x211));let _0x2c4765=_0x675023(0x1c6)+_0x51a1ee['ip']+_0x59c528(0x276);_0x24f051[_0x675023(0x1bf)][_0x675023(0x21a)]&&(_0x2c4765=_0x675023(0x1c6)+_0x51a1ee['ip']+(_0x24f051[_0x675023(0x1bf)][_0x675023(0x207)]&&''!==_0x24f051[_0x675023(0x1bf)][_0x675023(0x207)]?':'+_0x24f051[_0x675023(0x1bf)]['port']:_0x675023(0x1e8))+_0x24f051[_0x59c528(0x201)][_0x675023(0x21a)],_0x51a1ee[_0x59c528(0x240)]=_0x2c4765);try{let _0x3b4d61=await _0x3cd7b4[_0x675023(0x295)](_0x2c4765);_0x51a1ee['qr']=_0x3b4d61;}catch(_0x32bd28){console[_0x675023(0x21d)](_0x32bd28);}_0x58493a[_0x675023(0x1ed)](_0x51a1ee);}catch(_0x450953){_0x58493a[_0x59c528(0x237)](0x1f4)['json']({'error':_0x450953[_0x59c528(0x18c)]});}}),app[_0x466ed3(0x1d9)](_0x466ed3(0x20c),async(_0x385048,_0x7b9835)=>{const _0x364b91=_0x466ed3;try{if(_0x385048[_0x364b91(0x1bf)][_0x364b91(0x1d3)]==_0x364b91(0x2ad))return allowLocalNetwork=!0x1,void _0x7b9835[_0x364b91(0x1ed)]({'status':_0x364b91(0x19c)});const _0x4cc7bd=await ip[_0x364b91(0x25a)](_0x385048[_0x364b91(0x269)][_0x364b91(0x285)]===_0x364b91(0x285));allowLocalNetwork=!0x0;const _0x4e0ded=require(_0x364b91(0x204));try{let _0x5c3b21=await _0x4e0ded[_0x364b91(0x295)](_0x385048[_0x364b91(0x1bf)][_0x364b91(0x21a)]);_0x4cc7bd['qr']=_0x5c3b21;}catch(_0x5d2659){console[_0x364b91(0x21d)](_0x5d2659);}_0x7b9835[_0x364b91(0x1ed)](_0x4cc7bd);}catch(_0x2642c0){_0x7b9835[_0x364b91(0x1ac)](0x1f4)[_0x364b91(0x1ed)]({'error':_0x2642c0[_0x364b91(0x242)]});}});let imagesGloabl=[];const downloadImage=(_0x53ffc9,_0x194673)=>new Promise((_0x2d010c,_0x7c032b)=>{const _0x138088=_0x23b7;https[_0x138088(0x29a)](_0x53ffc9,_0x114afc=>{const _0xbe723f=_0x138088;if(0xc8!==_0x114afc[_0xbe723f(0x1f3)])return _0x7c032b(new Error('Failed\x20to\x20get\x20\x27'+_0x53ffc9+_0xbe723f(0x28a)+_0x114afc[_0xbe723f(0x1f3)]+')'));const _0x157732=fs[_0xbe723f(0x18a)](_0x194673);_0x114afc[_0xbe723f(0x2b1)](_0x157732),_0x157732['on'](_0xbe723f(0x18d),_0x2d010c),_0x157732['on']('error',_0x7c032b);})['on'](_0x138088(0x21d),_0x1521a5=>{_0x7c032b(_0x1521a5);});}),downloadImages=async _0xd33d93=>{const _0x30bf1d=_0x165612,_0x5a7c88=_0x466ed3,_0x45a718=path[_0x5a7c88(0x25b)](rootPath,_0x5a7c88(0x239),_0x30bf1d(0x295),_0x5a7c88(0x241));if(!fs[_0x5a7c88(0x1af)](_0x45a718)&&fs[_0x5a7c88(0x253)](_0x45a718),_0xd33d93){for(const [_0x512abf,_0x276dfb]of _0xd33d93[_0x5a7c88(0x1e0)]())try{const _0x23c6c2=_0x276dfb[_0x5a7c88(0x292)]('https://image.tmdb.org/t/p/','')[_0x5a7c88(0x294)]('/');if(imagesGloabl[_0x5a7c88(0x27a)](_0x23c6c2[0x1]))continue;!fs[_0x5a7c88(0x1af)](path['join'](_0x45a718,_0x23c6c2[0x0]))&&fs[_0x5a7c88(0x253)](path[_0x5a7c88(0x25b)](_0x45a718,_0x23c6c2[0x0]),{'recursive':!0x0});const _0x1b4117=path[_0x5a7c88(0x25b)](_0x45a718,_0x23c6c2[0x0],_0x23c6c2[0x1]);!fs[_0x5a7c88(0x1af)](_0x1b4117)&&(await downloadImage(_0x276dfb,_0x1b4117),imagesGloabl[_0x5a7c88(0x233)](_0x23c6c2[0x1]));}catch(_0x30ea3a){console[_0x5a7c88(0x21d)](_0x5a7c88(0x27c)+_0x276dfb+':',_0x30ea3a[_0x30bf1d(0x18c)]);}}};function format(_0x3baf74){const _0x46cb54=_0x165612,_0x4ee3ee=_0x466ed3,_0x5aeef8=fs[_0x4ee3ee(0x1d6)](_0x3baf74);for(const _0x49d4b6 of _0x5aeef8){const _0x8c3fba=path[_0x4ee3ee(0x25b)](_0x3baf74,_0x49d4b6);fs[_0x4ee3ee(0x1c2)](_0x8c3fba,{'recursive':!0x0,'force':!0x0}),console[_0x46cb54(0x1ab)](_0x4ee3ee(0x1a8)+_0x8c3fba);}}app[_0x466ed3(0x1d9)](_0x466ed3(0x299),async(_0x194b97,_0x3d062d)=>{const _0x59d9ec=_0x165612,_0x188b5b=_0x466ed3;try{const _0x3cdfe7=_0x194b97[_0x59d9ec(0x201)][_0x188b5b(0x1ed)],_0x3e39e0=_0x194b97[_0x188b5b(0x1bf)][_0x188b5b(0x25c)];if((0x1==_0x194b97['body']['begining']||0x1==_0x194b97[_0x59d9ec(0x201)][_0x188b5b(0x1cc)])&&(fs[_0x59d9ec(0x255)](path[_0x188b5b(0x25b)](rootPath,_0x188b5b(0x239),_0x188b5b(0x278)),{'recursive':!0x0,'force':!0x0}),console[_0x188b5b(0x264)](_0x188b5b(0x272))),_0x194b97[_0x188b5b(0x1bf)][_0x59d9ec(0x270)])return;const _0x1f0e5e=path[_0x188b5b(0x25b)](rootPath,_0x188b5b(0x239),_0x188b5b(0x278),_0x59d9ec(0x1c8));!fs[_0x188b5b(0x1af)](_0x1f0e5e)&&fs[_0x59d9ec(0x221)](_0x1f0e5e,{'recursive':!0x0}),Object['entries'](_0x3cdfe7)[_0x188b5b(0x185)](([_0x41417c,_0x39dd4e])=>{const _0x48b70d=_0x59d9ec,_0x28d8e1=_0x188b5b,_0x5947a6=path[_0x28d8e1(0x25b)](_0x1f0e5e,_0x41417c+_0x28d8e1(0x28c));fs[_0x28d8e1(0x1f6)](_0x5947a6,JSON[_0x48b70d(0x252)](_0x39dd4e,null,0x2),'utf8');}),downloadImages(_0x3e39e0),_0x3d062d[_0x188b5b(0x1ed)]({'status':_0x188b5b(0x19c)});}catch(_0x4c0439){_0x3d062d[_0x188b5b(0x1ac)](0x1f4)[_0x188b5b(0x1ed)]({'error':_0x4c0439[_0x188b5b(0x242)]});}});const portalSockets=new Map();async function removeFile(_0x42071d,_0x1703f7){const _0x290ff8=_0x165612,_0x47807f=_0x466ed3,_0x807c33=path[_0x47807f(0x179)](_0x42071d),_0x3a92b6=path[_0x47807f(0x179)](savePath);if(_0x807c33[_0x290ff8(0x24e)](_0x3a92b6)){fs['rm'](_0x807c33,{'recursive':!0x0,'force':!0x0},_0x229f58=>{const _0x4d10ac=_0x290ff8,_0x5f00cf=_0x47807f;_0x229f58?console[_0x5f00cf(0x21d)](_0x4d10ac(0x214)+_0x229f58[_0x4d10ac(0x18c)]):console[_0x5f00cf(0x264)](_0x4d10ac(0x2a3));});try{await client[_0x47807f(0x288)](req[_0x47807f(0x269)]['id']),videos[_0x47807f(0x17b)](_0x1703f7);}catch(_0x4f3707){console[_0x47807f(0x21d)](_0x4f3707);}}else console[_0x47807f(0x21d)](_0x47807f(0x23e));}function handlePortalMessages(_0x1bbd78,_0x9c57cd,_0x487762){const _0x5684e5=_0x165612,_0x363f60=_0x466ed3;try{if(JSON[_0x363f60(0x282)](_0x487762)['ct']==_0x363f60(0x190)){let _0x49c344={};portalSockets[_0x5684e5(0x2b1)]((_0x17845b,_0x1f67ca)=>{const _0x5d2a8e=_0x363f60;_0x49c344[_0x1f67ca]={'name':_0x17845b[_0x5d2a8e(0x25d)],'ip':_0x17845b['ip'],'type':_0x17845b[_0x5d2a8e(0x291)],'image':_0x17845b[_0x5d2a8e(0x1e2)]};}),_0x1bbd78[_0x363f60(0x274)](JSON[_0x5684e5(0x252)]({'ct':_0x363f60(0x2af),'users':_0x49c344}));}}catch(_0x5604c9){console[_0x363f60(0x21d)](_0x5604c9);}}function createWebSocket(_0x110ef5){const _0x5788a9=_0x165612,_0x559537=new WebSocketServer({'server':_0x110ef5});let _0x11be8f={},_0x32be21={'save':!0x0};_0x559537['on'](_0x5788a9(0x23b),function(_0x4f5152,_0x41c62a){const _0x207ca2=_0x5788a9,_0xbb868f=_0x23b7;let _0xce3755;const _0xd3eb1c=url[_0xbb868f(0x282)](_0x41c62a[_0xbb868f(0x21a)],!0x0)[_0xbb868f(0x269)];let _0x3fe21e=_0xd3eb1c['id'];const _0x35a2e2=_0xd3eb1c[_0xbb868f(0x26c)],_0x37f191=_0xd3eb1c[_0x207ca2(0x29d)],_0x4a6409=_0x41c62a[_0xbb868f(0x1eb)][_0x207ca2(0x19b)];let _0x303620;if(_0x207ca2(0x195)==_0xd3eb1c[_0xbb868f(0x211)]&&(_0x303620=_0x35a2e2),_0x3fe21e&&_0x35a2e2||_0x207ca2(0x2ae)===_0x37f191){if(_0x37f191!==_0xbb868f(0x270)){let _0x4f3d81;sockets[_0xbb868f(0x1a0)](_0x3fe21e)?(clearTimeout(sockets[_0xbb868f(0x29a)](_0x3fe21e)[_0x207ca2(0x197)]),sockets[_0xbb868f(0x29a)](_0x3fe21e)[_0xbb868f(0x1c7)][_0x35a2e2]=_0x4f5152,!sockets[_0xbb868f(0x29a)](_0x3fe21e)[_0xbb868f(0x211)]&&(sockets[_0xbb868f(0x29a)](_0x3fe21e)[_0xbb868f(0x211)]=_0x303620),sockets[_0x207ca2(0x1f9)](_0x3fe21e)[_0xbb868f(0x26e)]=null,console[_0xbb868f(0x264)](_0xbb868f(0x18c))):sockets[_0xbb868f(0x1b8)](_0x3fe21e,{'users':{[_0x35a2e2]:_0x4f5152},'owner':_0x303620,'destroy':_0x4f3d81});}else _0x3fe21e=_0x4a6409[_0xbb868f(0x292)](_0xbb868f(0x28e),''),portalSockets[_0xbb868f(0x1b8)](_0x3fe21e,{'socket':_0x4f5152,'type':_0xd3eb1c[_0xbb868f(0x1b4)],'name':_0xd3eb1c[_0xbb868f(0x25d)],'image':_0xd3eb1c['image']}),portalSockets[_0x207ca2(0x2b1)]((_0x546392,_0x1373fd)=>{const _0x147eea=_0x207ca2,_0x3ba1ed=_0xbb868f;_0x1373fd!==_0x3fe21e&&_0x546392[_0x3ba1ed(0x1eb)]['send'](JSON[_0x147eea(0x252)]({'ct':'connection','id':_0x3fe21e,'info':{'ip':_0x4a6409[_0x3ba1ed(0x292)](_0x3ba1ed(0x28e),''),'type':_0xd3eb1c[_0x3ba1ed(0x1b4)],'name':_0xd3eb1c[_0x3ba1ed(0x25d)],'image':_0xd3eb1c[_0x147eea(0x241)]}}));});_0x4f5152['on'](_0xbb868f(0x242),async function(_0x4c6aa3){const _0x145d8b=_0x207ca2,_0x5bf687=_0xbb868f;if(_0x4c6aa3[_0x145d8b(0x1e6)](_0x5bf687(0x1f0))!=_0x5bf687(0x221)&&'pong'!=_0x4c6aa3[_0x5bf687(0x18e)](_0x5bf687(0x1f0))){if(_0x37f191!==_0x5bf687(0x270))(await torrents)[_0x145d8b(0x289)](_0x4f5152,_0x3fe21e,_0x4c6aa3[_0x5bf687(0x18e)](_0x5bf687(0x1f0)));else handlePortalMessages(_0x4f5152,_0x3fe21e,_0x4c6aa3[_0x5bf687(0x18e)](_0x5bf687(0x1f0)));}else _0x145d8b(0x1d1)==_0x4c6aa3[_0x5bf687(0x18e)](_0x5bf687(0x1f0))&&_0x4f5152[_0x5bf687(0x274)](_0x145d8b(0x269));}),_0xce3755=setInterval(()=>{const _0x3b7a5b=_0x207ca2;_0x4f5152[_0xbb868f(0x274)](_0x3b7a5b(0x1d1));},0xfa0),_0x4f5152['on'](_0x207ca2(0x23d),function(){const _0x5dccf0=_0x207ca2,_0x3f5f13=_0xbb868f;let _0x2e6ee8;clearInterval(_0xce3755);try{console[_0x3f5f13(0x264)](_0x5dccf0(0x1f2)),_0x37f191!==_0x3f5f13(0x270)?(sockets[_0x3f5f13(0x29a)](_0x3fe21e)[_0x3f5f13(0x26e)]=setTimeout(async()=>{const _0x9fd662=_0x5dccf0,_0x44fc14=_0x3f5f13;try{!fs[_0x44fc14(0x1af)](settingsPath)&&fs[_0x44fc14(0x1f6)](settingsPath,JSON[_0x44fc14(0x22f)](_0x32be21,null,0x2),_0x44fc14(0x209));const _0x545cec=fs[_0x44fc14(0x214)](settingsPath,_0x44fc14(0x209));_0x11be8f=JSON[_0x44fc14(0x282)](_0x545cec),(0x0==_0x11be8f[_0x44fc14(0x205)]||0x1==_0x11be8f[_0x44fc14(0x205)])&&(_0x2e6ee8=_0x11be8f[_0x44fc14(0x205)]);}catch(_0x49691b){console[_0x44fc14(0x21d)](_0x49691b);}try{const _0x55454f=await client['get'](_0x3fe21e);if(0x0==_0x2e6ee8&&_0x55454f&&sockets[_0x44fc14(0x29a)](_0x3fe21e)[_0x44fc14(0x211)]==_0x35a2e2){let _0x4f29b6=_0x55454f['path'];savePath==_0x4f29b6&&(_0x4f29b6=path[_0x44fc14(0x25b)](_0x55454f[_0x9fd662(0x1e5)],_0x55454f[_0x44fc14(0x25d)])),removeFile(_0x4f29b6,_0x3fe21e);}}catch(_0x1fde0e){console[_0x9fd662(0x1ab)](_0x1fde0e);}},0x2710),sockets[_0x5dccf0(0x24b)](_0x3fe21e)&&delete sockets[_0x3f5f13(0x29a)](_0x3fe21e)[_0x3f5f13(0x1c7)][_0x35a2e2]):(portalSockets[_0x3f5f13(0x17b)](_0x3fe21e),portalSockets[_0x3f5f13(0x185)]((_0x39a6ed,_0x67d1fb)=>{const _0x1466c3=_0x3f5f13;_0x39a6ed[_0x1466c3(0x1eb)][_0x1466c3(0x274)](JSON[_0x1466c3(0x22f)]({'ct':_0x1466c3(0x286),'id':_0x3fe21e}));}));}catch(_0x278ebd){console[_0x5dccf0(0x19c)](_0x278ebd);}}),_0x4f5152['on'](_0x207ca2(0x19c),function(_0x26767f){const _0x888db4=_0xbb868f;console[_0x888db4(0x21d)](_0x888db4(0x2a7),_0x26767f[_0x888db4(0x242)]);});}else _0x4f5152[_0xbb868f(0x1ad)](0xfa0,_0x207ca2(0x260));});}const crypto=require('crypto'),calculateFileHash=_0x5f5226=>new Promise((_0x36ac7d,_0x8c8874)=>{const _0x337b9d=_0x165612,_0x3a5c6e=_0x23b7,_0x4935e3=crypto[_0x337b9d(0x204)](_0x3a5c6e(0x1ae)),_0x11337d=fs[_0x3a5c6e(0x237)](_0x5f5226);_0x11337d['on'](_0x337b9d(0x242),_0x5292fc=>_0x4935e3[_0x337b9d(0x22c)](_0x5292fc)),_0x11337d['on'](_0x3a5c6e(0x227),()=>_0x36ac7d(_0x4935e3[_0x3a5c6e(0x1b1)](_0x337b9d(0x1b7)))),_0x11337d['on'](_0x3a5c6e(0x21d),_0x232095=>_0x8c8874(_0x232095));}),calculateCombinedHash=_0x47ac05=>new Promise((_0x494c79,_0xa7f616)=>{const _0x59a562=_0x165612,_0x1f0a13=_0x23b7,_0x126c03=crypto['createHash'](_0x1f0a13(0x1ae));let _0x218362=null;_0x47ac05[_0x59a562(0x2b1)]((_0x2c3747,_0xe31f08)=>{const _0x40e1e2=_0x59a562,_0x4a5deb=_0x1f0a13,_0x4a0de5=fs[_0x4a5deb(0x237)](_0x2c3747);_0x4a0de5['on'](_0x4a5deb(0x284),_0xecd6f4=>_0x126c03[_0x4a5deb(0x261)](_0xecd6f4)),_0x4a0de5['on'](_0x4a5deb(0x21d),_0x84d3f=>{const _0x47e6a3=_0x2b98;_0x218362=_0x84d3f,_0xe31f08===_0x47ac05[_0x47e6a3(0x268)]-0x1&&_0xa7f616(_0x84d3f);}),_0x4a0de5['on'](_0x40e1e2(0x1df),()=>{const _0x3247f3=_0x40e1e2,_0xea423=_0x4a5deb;_0xe31f08===_0x47ac05[_0x3247f3(0x268)]-0x1&&!_0x218362&&_0x494c79(_0x126c03[_0xea423(0x1b1)](_0xea423(0x1d4)));});});});app[_0x466ed3(0x1d9)](_0x466ed3(0x259),async(_0x550bf5,_0x1f5f6b)=>{const _0x12fa8d=_0x466ed3;try{const {files:_0x1898bc}=_0x550bf5[_0x12fa8d(0x1bf)];if(!Array['isArray'](_0x1898bc)||0x0===_0x1898bc[_0x12fa8d(0x2a5)]||_0x1898bc[_0x12fa8d(0x2a5)]>0xf)return _0x1f5f6b[_0x12fa8d(0x1ac)](0x190)[_0x12fa8d(0x1ed)]({'error':_0x12fa8d(0x21f)});const _0x1e4edc=await Promise[_0x12fa8d(0x2a1)](_0x1898bc[_0x12fa8d(0x201)](_0x14ec54=>{return _0x2ac28c=_0x14ec54,new Promise((_0x19d596,_0x4b2078)=>{const _0x58364d=_0x2b98,_0x12af19=_0x23b7,_0xea0939=crypto['createHash'](_0x12af19(0x1ae)),_0x4ae11e=fs[_0x12af19(0x237)](_0x2ac28c);_0x4ae11e['on'](_0x58364d(0x242),_0x42133f=>_0xea0939['update'](_0x42133f)),_0x4ae11e['on'](_0x12af19(0x227),()=>_0x19d596(_0xea0939[_0x12af19(0x1b1)](_0x58364d(0x1b7)))),_0x4ae11e['on'](_0x12af19(0x21d),_0x1e9acd=>_0x4b2078(_0x1e9acd));});var _0x2ac28c;})),_0xfe1f46=await(_0x50c6f4=_0x1898bc,new Promise((_0x5de103,_0x2bddbd)=>{const _0x87e549=_0x2b98,_0x271652=_0x23b7,_0x5215e5=crypto['createHash'](_0x271652(0x1ae));let _0x1cda75=null;_0x50c6f4[_0x87e549(0x2b1)]((_0x330fa6,_0x95377a)=>{const _0x7b2885=_0x271652,_0x39bbfe=fs[_0x7b2885(0x237)](_0x330fa6);_0x39bbfe['on'](_0x7b2885(0x284),_0x2aa439=>_0x5215e5[_0x7b2885(0x261)](_0x2aa439)),_0x39bbfe['on'](_0x7b2885(0x21d),_0x55bcef=>{const _0x5a63d8=_0x2b98;_0x1cda75=_0x55bcef,_0x95377a===_0x50c6f4[_0x5a63d8(0x268)]-0x1&&_0x2bddbd(_0x55bcef);}),_0x39bbfe['on']('end',()=>{const _0xc413d8=_0x7b2885;_0x95377a===_0x50c6f4['length']-0x1&&!_0x1cda75&&_0x5de103(_0x5215e5[_0xc413d8(0x1b1)](_0xc413d8(0x1d4)));});});}));_0x1f5f6b[_0x12fa8d(0x1ac)](0xc8)[_0x12fa8d(0x1ed)]({'individualHashes':_0x1e4edc,'combinedHash':_0xfe1f46});}catch(_0x3e3eb7){_0x1f5f6b[_0x12fa8d(0x1ac)](0x1f4)[_0x12fa8d(0x1ed)]({'error':_0x12fa8d(0x244)});}var _0x50c6f4;}),app[_0x466ed3(0x2a3)]((_0x478cc2,_0x2e7e93,_0x459a60,_0x410216)=>{const _0x459cb3=_0x165612,_0x4fe416=_0x466ed3;console[_0x4fe416(0x21d)](_0x478cc2[_0x4fe416(0x19f)]),_0x459a60[_0x459cb3(0x237)](0x1f4)[_0x4fe416(0x274)](_0x459cb3(0x27f)+_0x478cc2[_0x4fe416(0x19f)]);}),portfinder[_0x466ed3(0x180)]=0x1388,portfinder[_0x466ed3(0x1c5)]()[_0x466ed3(0x232)](_0x1252d7=>{const _0x178051=_0x466ed3,_0x3b2302=http[_0x178051(0x229)](app);createWebSocket(_0x3b2302),_0x3b2302[_0x178051(0x2a2)](_0x1252d7,()=>{const _0x3cd334=_0x2b98,_0x377568=_0x178051;console[_0x377568(0x264)](_0x377568(0x234)+_0x1252d7),process[_0x377568(0x274)]&&(process[_0x377568(0x28d)][_0x377568(0x22a)]==_0x377568(0x290)?process[_0x3cd334(0x27e)]({'message':_0x377568(0x24e),'port':_0x1252d7}):process['send'](_0x3cd334(0x216)));}),_0x3b2302['on'](_0x178051(0x21d),_0x351f0c=>{const _0x219fbb=_0x2b98,_0x310605=_0x178051;console[_0x219fbb(0x19c)](_0x310605(0x1d1),_0x351f0c);});})[_0x466ed3(0x252)](_0x285434=>{const _0x55046c=_0x165612,_0x4453e3=_0x466ed3;console[_0x55046c(0x19c)](_0x4453e3(0x1c9),_0x285434);});