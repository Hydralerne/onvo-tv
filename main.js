const _0x3d5607=_0x2bca;(function(_0x11d545,_0x383399){const _0x378ca7=_0x2bca,_0x31faf5=_0x11d545();while(!![]){try{const _0x28f84a=parseInt(_0x378ca7(0x1db))/0x1+parseInt(_0x378ca7(0x22a))/0x2+parseInt(_0x378ca7(0x216))/0x3*(parseInt(_0x378ca7(0x275))/0x4)+parseInt(_0x378ca7(0x2c6))/0x5*(-parseInt(_0x378ca7(0x2b8))/0x6)+-parseInt(_0x378ca7(0x29b))/0x7*(-parseInt(_0x378ca7(0x280))/0x8)+-parseInt(_0x378ca7(0x2c8))/0x9*(parseInt(_0x378ca7(0x1df))/0xa)+-parseInt(_0x378ca7(0x2c2))/0xb*(parseInt(_0x378ca7(0x2e6))/0xc);if(_0x28f84a===_0x383399)break;else _0x31faf5['push'](_0x31faf5['shift']());}catch(_0x498c6c){_0x31faf5['push'](_0x31faf5['shift']());}}}(_0xad5a,0x2fdc0));function _0xad5a(){const _0x210c45=['stringify','Error\x20removing\x20directory:','/download','series','.json','sixth','static','platform','/subtitles/parse','getInfo','all','destroyed\x20cleared','::ffff:','twenty-fifth','disable','293441zgHmTm','format','views','dirname','1693870bgptQf','normalize','Server\x20error:','1.5','status','device','getData','fluent-ffmpeg','no_data_found','twenty-ninth','clear','busboy','getPortPromise','Episode\x20not\x20selected','Error\x20moving\x20folder:\x20','Error\x20fetching\x20video','./node/subtitles.js','rmSync','/videoget','Server\x20error','url','.js','./node/providers.js','no_index','body','sha256','episodes','.css','episode','body-parser','audio/mp3','50671090ECiImz','value','error','portal','Error\x20downloading\x20','name','isomorphic-git','isArray','extname','remove','argv','srt','range','subtitles','begining','player','authorization','twenty-seventh','file_not_found','getVideo','createReadStream','season','hex','/player','8472qAOSoV','/videoshare','/audio','Content-Disposition','thirteenth','connection','episode\x20removed\x20successfully!','render','seventh','val','/sets','no_avilable_space','./node/ip.js','includes','seventeenth','\x27\x20(','noVideo','listen','crypto','/delete','437814LwOoCe','twenty-first','replace','data','true','public','host','/network','Error\x20deleting\x20path:\x20','has','File\x20[','win32','thirty-fifth','basePort','Something\x20broke!\x20','torrents','fourteenth','images','createHash','policy','length','setHeader','https://image.tmdb.org/t/p/','version','done','resolve','mkdirSync','post','action','downloads','twenty-fourth','50mb','/torrents','ftusers','Path\x20deleted\x20successfully','sendFile','text/javascript','Error\x20converting\x20video\x20to\x20audio:','Error\x20occured','urlencoded','singleMovie','twenty-third','port','Access\x20denied','Please\x20select\x20the\x20episode\x20you\x20want\x20to\x20play','map','parse','thirty-sixth','get','portfinder','twenty-second','Failed\x20to\x20get\x20\x27','eighteenth','attachment;\x20filename=\x22','Content-Type','files',':5000','https://www.themoviedb.org/','catch','pipe','partyIn','headersSent','ONVO\x20TV','https','delete','basename','log','destroy','path','user','::1','twelfth','headers','attachment;\x20filename=\x22subtitles.srt\x22','nineteenth','116OxPtOh','fs-extra','push','libmp3lame','Deleted:\x20','setFfmpegPath','/subtitles/zip','-season','/var/mobile','duplicate_torrent','forEach','469328NaKndH','view\x20engine','file','thirty-fourth','qrcode','Directory\x20removed\x20successfully!','statusCode','http','endsWith','first','params','http://','existsSync','startsWith','unknown','private_css','cors','/info','end','twentieth','9827748LTOwCk','split','.mp3','ninth','Error\x20processing\x20audio:','getZip','join','35ZJUONp','close','WebSocket\x20error:','query','49DyFoST','use','type','no_id_found','createWriteStream','private_js','false','ping','readdirSync','ffmpeg-static','offline','No\x20available\x20port\x20found:','env','key','shift','fifteenth','message','ejs','./node/party.js','server-started','trust\x20proxy','Error\x20fetching\x20video:','header','finish','thirty-second','677988mksgeO','writeHead',':5000?magic_portal=true','/watch?locale=','/chache','set','fifth','\x20to\x20','third','remoteAddress','642961GKyQrT','root','Invalid\x20structure','4925373nvMRlY','5UWbawY','endpoint','9WcmnUq','/audioget','writeFileSync','36215wKYWWF','fourth','mp3','digest','success','rename','127.0.0.1','send','downloaded','1mb','HTTP\x20server\x20running\x20on\x20http://localhost:','codec','/:type(private_css|private_js)/:folder/:file','region','The\x20deletePath\x20is\x20outside\x20of\x20the\x20savePath\x20folder','https://subdl.com/subtitle/sd','promiseExport','homedir','toString','/check','scrap','frusers','socket','/select','Internal\x20Server\x20Error','missed_data','/wipe','84eNAaqf','json','conversion_failed','utf8','settings.json','Access-Control-Allow-Origin','getNetwork','./node/singleMovie.js','Error:','/videoadd','client','update','save','users','./node/cores.mjs','pong','party','.srt','WebSocket\x20disconnected','handleIncomming','entries','link','download','not_supported','index'];_0xad5a=function(){return _0x210c45;};return _0xad5a();}const _0x279106=_0x229a;!function(_0x451cd5,_0x4765a5){const _0x11513b=_0x2bca,_0x5b3bad=_0x229a,_0x3d1f0b=_0x419d();for(;;)try{if(0xec5d7===-parseInt(_0x5b3bad(0x1a0))/0x1+-parseInt(_0x5b3bad(0x1a4))/0x2*(parseInt(_0x5b3bad(0xf7))/0x3)+parseInt(_0x5b3bad(0x18f))/0x4+parseInt(_0x5b3bad(0xae))/0x5*(-parseInt(_0x5b3bad(0x191))/0x6)+-parseInt(_0x5b3bad(0xde))/0x7*(parseInt(_0x5b3bad(0x125))/0x8)+-parseInt(_0x5b3bad(0xb6))/0x9+parseInt(_0x5b3bad(0x119))/0xa)break;_0x3d1f0b[_0x11513b(0x277)](_0x3d1f0b['shift']());}catch(_0x26def7){_0x3d1f0b['push'](_0x3d1f0b[_0x11513b(0x2ad)]());}}();function _0x2bca(_0x1531cc,_0x4961a5){const _0xad5a7f=_0xad5a();return _0x2bca=function(_0x2bca84,_0x5ddca9){_0x2bca84=_0x2bca84-0x1d2;let _0x253528=_0xad5a7f[_0x2bca84];return _0x253528;},_0x2bca(_0x1531cc,_0x4961a5);}const express=require('express'),https=require(_0x279106(0xfe)),http=require(_0x279106(0xcb)),path=require(_0x279106(0x1c1)),ejs=require(_0x279106(0xf4)),fs=require(_0x279106(0x188)),bodyParser=require(_0x279106(0xd6)),subtitles=require(_0x279106(0x103)),providers=require(_0x279106(0xe3)),singleMovie=require(_0x279106(0x122)),party=require(_0x3d5607(0x2b1)),ip=require(_0x279106(0xe9)),cors=require(_0x279106(0xb1)),version=_0x279106(0x1d8),WebSocketServer=require('ws')[_0x279106(0x173)],app=express(),url=require(_0x279106(0x128)),portfinder=require(_0x279106(0xe6));let isElectron=!0x1;if(process[_0x279106(0xd0)][0x3]==_0x279106(0x11d));else{if(process[_0x279106(0xd0)][0x2])process[_0x279106(0xd0)][0x2][_0x3d5607(0x223)](_0x279106(0xdf))&&(process[_0x279106(0xd0)][0x2]=path[_0x279106(0x182)](process[_0x3d5607(0x208)][0x2],_0x279106(0x1aa)));else{const e=require('os');isElectron=!0x0,_0x3d5607(0x235)==e[_0x279106(0x17e)]()?process[_0x3d5607(0x208)][0x2]=_0x279106(0xc3):process[_0x279106(0xd0)][0x2]=path[_0x279106(0x182)](e[_0x279106(0x138)](),_0x279106(0x115));}}function _0x229a(_0x3ed3ae,_0x47b69e){const _0x452bcd=_0x419d();return(_0x229a=function(_0x320910,_0x34e047){return _0x452bcd[_0x320910-=0xae];})(_0x3ed3ae,_0x47b69e);}let client={};app[_0x279106(0x18e)](_0x279106(0x154),!0x0),app[_0x3d5607(0x2a0)](cors());let allowLocalNetwork=!0x1;app[_0x279106(0xff)]((_0x264574,_0x5ba81a,_0x567c54)=>{const _0x46b036=_0x3d5607,_0x553ef0=_0x279106;_0x5ba81a[_0x553ef0(0xc1)](_0x553ef0(0xf0),'*');const _0x26f991=_0x264574['ip'];return _0x264574[_0x553ef0(0x15e)][_0x553ef0(0x171)][_0x553ef0(0x132)](_0x553ef0(0x134))||_0x46b036(0x2d1)===_0x26f991||_0x26f991===_0x553ef0(0x1b7)?_0x567c54():allowLocalNetwork?void _0x567c54():_0x5ba81a[_0x553ef0(0x1c4)](0x193)[_0x553ef0(0xb2)](_0x553ef0(0xcf));}),app[_0x279106(0xff)](bodyParser[_0x279106(0x105)]()),app[_0x3d5607(0x2a0)](express[_0x279106(0x105)]({'limit':_0x279106(0x109)})),app[_0x279106(0xff)](express[_0x279106(0x166)]({'limit':_0x279106(0x109),'extended':!0x0})),app[_0x3d5607(0x2bd)](_0x3d5607(0x1dd),[path[_0x279106(0x182)](__dirname,_0x279106(0xf4),_0x279106(0x157)),path[_0x279106(0x182)](__dirname,_0x279106(0xf4),_0x279106(0x11b)),path[_0x3d5607(0x29a)](__dirname,_0x279106(0xf4),_0x279106(0x117)),path['join'](__dirname,_0x3d5607(0x2b0),_0x279106(0x14e)),path[_0x279106(0x182)](__dirname,_0x279106(0xf4),_0x279106(0x1b3)),path[_0x3d5607(0x29a)](__dirname,_0x279106(0x189))]),app[_0x279106(0x18e)](_0x279106(0x144),_0x279106(0xf4)),app[_0x279106(0xff)](express[_0x279106(0xf2)](path[_0x279106(0x182)](__dirname,_0x279106(0x189)))),app[_0x279106(0x113)](_0x279106(0x141),async(_0x5745f9,_0x44247d)=>{const _0x57dd8e=_0x3d5607,_0x4858a0=_0x279106,_0x198ef6=_0x5745f9[_0x4858a0(0x198)][_0x57dd8e(0x2c7)],_0x2e4967=await party[_0x4858a0(0x14b)](_0x198ef6);_0x44247d[_0x57dd8e(0x21d)](_0x4858a0(0xcc),{'req':_0x5745f9,'data':_0x2e4967});}),app[_0x279106(0x113)](_0x3d5607(0x215),async(_0x337c43,_0x241d12)=>{const _0x467738=_0x3d5607,_0x37da41=_0x279106,_0x260bcd=_0x337c43[_0x37da41(0xb3)][_0x37da41(0xca)],_0x16ff9e=_0x337c43[_0x37da41(0xb3)]['id'],_0x8ff20e=await singleMovie[_0x467738(0x1e5)](_0x260bcd,_0x16ff9e);_0x241d12[_0x37da41(0x1a7)](_0x37da41(0x11b),{'req':_0x337c43,'data':_0x8ff20e});}),app[_0x279106(0x113)](_0x279106(0xc6),async(_0x2b156c,_0x16acfb)=>{const _0x4f23ba=_0x3d5607,_0x2f8e20=_0x279106,{type:_0x3c1aef,endpoint:_0x225c7f}=_0x2b156c[_0x2f8e20(0x198)],_0x3e68d5=await singleMovie[_0x2f8e20(0x14b)](_0x3c1aef,_0x225c7f);_0x3e68d5?_0x16acfb[_0x2f8e20(0x1a7)](_0x2f8e20(0x1b3),{'req':_0x2b156c,'data':_0x3e68d5}):_0x16acfb[_0x2f8e20(0x105)]({'error':_0x4f23ba(0x1e7)});}),app[_0x279106(0x113)]('/',(_0x2f4821,_0x24e332)=>{const _0x1f0b92=_0x279106;_0x24e332[_0x1f0b92(0x1a7)](_0x1f0b92(0x18b),{'req':_0x2f4821});}),app[_0x279106(0x113)](_0x279106(0x1d0),async(_0xc5b7b6,_0x3be753)=>{const _0x1a802c=_0x3d5607,_0x5b292d=_0x279106;try{const {type:_0x1f389b,folder:_0x3236c4,file:_0x283373}=_0xc5b7b6[_0x5b292d(0x198)];if(_0x1f389b!==_0x5b292d(0x13e)&&_0x1f389b!==_0x5b292d(0x10f)||!_0x283373['endsWith'](_0x5b292d(0x11a))&&!_0x283373[_0x5b292d(0x172)](_0x1a802c(0x1fa)))return _0x3be753[_0x5b292d(0x1c4)](0x194)[_0x1a802c(0x2d2)]('');const _0x587d8f=path[_0x5b292d(0x182)](__dirname,_0x5b292d(0xf4),_0x3236c4,_0x283373),_0x548dce=_0x1f389b===_0x5b292d(0x13e)?'text/css':_0x1a802c(0x24e);_0x3be753[_0x1a802c(0x2bd)](_0x1a802c(0x260),_0x548dce),_0x3be753[_0x5b292d(0xd4)](_0x587d8f);}catch(_0x4cfe8d){console[_0x5b292d(0x14c)](_0x5b292d(0x131),_0x4cfe8d),_0x3be753[_0x5b292d(0x1c4)](0x1f4)[_0x5b292d(0xb2)](_0x5b292d(0xd8));}});const videos=new Map(),sockets=new Map();async function HandleSos(_0x4d13a4,_0xcf731f,_0x52634b){const _0x1d5803=_0x3d5607,_0x5df5c6=_0x279106;try{const _0x534a17=await _0x52634b[_0x5df5c6(0x10c)](decodeURIComponent(_0x4d13a4[_0x1d5803(0x29e)][_0x5df5c6(0xe7)]),{'mvid':_0x4d13a4[_0x5df5c6(0xb3)]['id'],..._0x4d13a4[_0x5df5c6(0xb3)]},_0x4d13a4[_0x5df5c6(0x15e)][_0x5df5c6(0x118)],videos,sockets);'multiple'!==_0x534a17[_0x5df5c6(0xca)]&&videos[_0x1d5803(0x2bd)](_0x534a17['id'],{..._0x534a17});const _0x233bc0=_0x534a17;delete _0x233bc0[_0x5df5c6(0x12e)],delete _0x233bc0[_0x5df5c6(0x15f)],_0xcf731f['status'](0xc8)[_0x5df5c6(0x105)]({..._0x233bc0,'status':_0x1d5803(0x2cf)});}catch(_0x40de2e){if(console[_0x5df5c6(0x14c)](_0x40de2e),_0x1d5803(0x27e)==_0x40de2e[_0x5df5c6(0xca)]){let _0x4c7be6=videos[_0x5df5c6(0x113)](_0x40de2e['id']);delete _0x4c7be6[_0x1d5803(0x282)],delete _0x4c7be6['files'],_0xcf731f[_0x5df5c6(0x1c4)](0xc8)[_0x5df5c6(0x105)]({..._0x4c7be6,'id':_0x40de2e['id'],'downloaded':_0x40de2e[_0x5df5c6(0x1bb)],'magnate':_0x40de2e[_0x5df5c6(0xbc)],'status':_0x1d5803(0x2cf)});}else _0x40de2e[_0x1d5803(0x2a1)]==_0x5df5c6(0x12a)?_0xcf731f[_0x5df5c6(0x1c4)](0xc8)[_0x5df5c6(0x105)]({'status':_0x1d5803(0x200),'error':_0x40de2e}):_0xcf731f[_0x5df5c6(0x1c4)](0xc8)[_0x5df5c6(0x105)](_0x40de2e);}}let ffmpeg,ffmpegStatic,torrents=import(_0x279106(0xc2));((async()=>{const _0x682f90=_0x279106;client=(await torrents)[_0x682f90(0x180)];})()),app[_0x279106(0x113)](_0x279106(0x1c0),async(_0x5e114e,_0xce73b1)=>{const _0x578ec1=_0x279106;try{HandleSos(_0x5e114e,_0xce73b1,await torrents);}catch(_0x8f9f80){console[_0x578ec1(0x14c)](_0x8f9f80),_0xce73b1[_0x578ec1(0x1c4)](0x1f4)[_0x578ec1(0x105)](_0x8f9f80);}}),app[_0x279106(0x113)](_0x3d5607(0x24a),async(_0x2e39e4,_0x4524a3)=>{const _0x4b53f6=_0x3d5607,_0x1df0aa=_0x279106;try{let _0x38b987={},_0x10709a=0x0,_0x5d88f2=0x0,_0x545665={};client[_0x4b53f6(0x239)]?.[_0x1df0aa(0x143)]((_0x515ee6,_0x5d2c9a)=>{const _0x4c3afa=_0x4b53f6,_0x1fb0dd=_0x1df0aa;let _0x289964={};!_0x515ee6[_0x4c3afa(0x242)]&&(_0x515ee6[_0x1fb0dd(0x15f)][_0x4c3afa(0x27f)](_0x4d8bbd=>{const _0x49f19f=_0x1fb0dd;_0x289964={'name':_0x4d8bbd[_0x49f19f(0x13d)],'path':_0x4d8bbd[_0x49f19f(0x1c1)],'size':_0x4d8bbd[_0x49f19f(0xec)]};}),_0x38b987[_0x5d2c9a]={'size':_0x515ee6[_0x1fb0dd(0x140)],'downloaded':_0x515ee6[_0x1fb0dd(0x1bb)],'path':_0x515ee6[_0x1fb0dd(0x1c1)],'paused':_0x515ee6['paused']},_0x10709a+=_0x515ee6[_0x4c3afa(0x23e)],_0x5d88f2+=_0x515ee6[_0x1fb0dd(0x1bb)]);});try{let _0x350e38=path[_0x1df0aa(0x182)](savePath,_0x4b53f6(0x2ea));if(fs[_0x4b53f6(0x28c)](_0x350e38)){const _0x2aa10f=fs[_0x1df0aa(0x11c)](_0x350e38,_0x1df0aa(0xb4));_0x545665=JSON[_0x4b53f6(0x258)](_0x2aa10f);}}catch(_0x543b57){console[_0x4b53f6(0x26c)](_0x543b57);}_0x4524a3[_0x4b53f6(0x2e7)]({'downloaded':_0x5d88f2,'size':_0x10709a,'data':_0x38b987,'save':_0x545665[_0x4b53f6(0x2f2)]});}catch(_0x42771f){console[_0x1df0aa(0x14c)](_0x42771f),_0x4524a3[_0x1df0aa(0x1c4)](0x1f4)[_0x1df0aa(0x105)](_0x42771f);}}),app[_0x279106(0xf8)](_0x279106(0x185),async(_0x286b1e,_0x3e43d0)=>{const _0x34e64e=_0x3d5607,_0x227c23=_0x279106;try{videos[_0x227c23(0x145)](_0x286b1e[_0x227c23(0x12f)]['id']);const _0x35e937=await client[_0x227c23(0x113)](_0x286b1e[_0x227c23(0x12f)]['id']);fs[_0x227c23(0x150)](_0x35e937[_0x227c23(0x1c1)])[_0x227c23(0x1c6)](()=>{const _0x3da581=_0x2bca,_0x2e00f6=_0x227c23;console[_0x3da581(0x26c)](_0x2e00f6(0x153));})[_0x34e64e(0x264)](_0x256e07=>{const _0x4ea424=_0x34e64e,_0xfbda8f=_0x227c23;console[_0x4ea424(0x200)](_0xfbda8f(0x1c7),_0x256e07);}),await client[_0x227c23(0x150)](_0x286b1e[_0x227c23(0x12f)]['id']),_0x35e937[_0x227c23(0x1cc)](_0x35e937),_0x3e43d0[_0x227c23(0x105)]({'status':_0x34e64e(0x2cf)});}catch(_0x4bf8ea){console[_0x227c23(0x14c)](_0x4bf8ea),_0x3e43d0[_0x227c23(0x1c4)](0x1f4)[_0x227c23(0x105)](_0x4bf8ea);}}),app[_0x3d5607(0x25a)](_0x279106(0x102),async(_0x501433,_0x57925b)=>{const _0xaaa63b=_0x3d5607,_0x47ea1b=_0x279106;try{if('all'==_0x501433['query'][_0x47ea1b(0xca)])return client[_0x47ea1b(0x1b2)][_0x47ea1b(0x143)]((_0x83fb99,_0x41edfe)=>{_0x83fb99[_0x47ea1b(0x1cc)]();}),void _0x57925b[_0xaaa63b(0x2e7)]({'status':_0x47ea1b(0xd7),'length':client[_0xaaa63b(0x239)][_0x47ea1b(0x140)]});if(!_0x501433[_0x47ea1b(0xb3)]['id']||!await client['get'](_0x501433[_0xaaa63b(0x29e)]['id']))return void _0x57925b[_0x47ea1b(0x105)]({'error':_0x47ea1b(0x170)});const _0x498c04=await client[_0xaaa63b(0x25a)](_0x501433[_0x47ea1b(0xb3)]['id']);_0x498c04[_0xaaa63b(0x26d)](_0x498c04),await client[_0x47ea1b(0x150)](_0x501433[_0x47ea1b(0xb3)]['id']),_0x57925b[_0x47ea1b(0x105)]({'status':_0x47ea1b(0xd7)});}catch(_0x2cf4f3){console[_0x47ea1b(0x14c)](_0x2cf4f3),_0x57925b[_0xaaa63b(0x1e3)](0x1f4)[_0x47ea1b(0x105)](_0x2cf4f3);}}),app[_0x279106(0x113)](_0x279106(0x123),async(_0x5fa7bb,_0x3ac88e)=>{const _0x41ad86=_0x3d5607,_0x1ee87a=_0x279106;if(videos[_0x41ad86(0x233)](_0x5fa7bb[_0x1ee87a(0xb3)]['id']))try{const _0x27719f=await videos[_0x1ee87a(0x113)](_0x5fa7bb[_0x41ad86(0x29e)]['id']),_0x4e8329=_0x27719f[_0x1ee87a(0x12e)],_0x3a836e=_0x5fa7bb[_0x1ee87a(0x15e)][_0x41ad86(0x20a)],_0x46f7d4=_0x4e8329[_0x41ad86(0x23e)];let _0x3ec7ec,_0x3b8b06={'Content-Type':_0x27719f[_0x41ad86(0x2d6)],'Content-Length':_0x46f7d4};if(_0x3a836e){const _0x522381=_0x3a836e[_0x1ee87a(0x107)](/bytes=/,'')[_0x1ee87a(0x19e)]('-'),_0x3836d6=parseInt(_0x522381[0x0],0xa),_0x4b3880=_0x522381[0x1]?parseInt(_0x522381[0x1],0xa):_0x46f7d4-0x1,_0x280703=_0x4b3880-_0x3836d6+0x1;_0x3ec7ec={'start':_0x3836d6,'end':_0x4b3880},_0x3b8b06={'Content-Range':_0x1ee87a(0xdd)+_0x3836d6+'-'+_0x4b3880+'/'+_0x46f7d4,'Accept-Ranges':_0x1ee87a(0xb0),'Content-Length':_0x280703,'Content-Type':_0x27719f[_0x1ee87a(0x18a)]};}const _0x2a609a=_0x4e8329[_0x1ee87a(0x126)](_0x3ec7ec);_0x2a609a['on'](_0x1ee87a(0x14c),_0x46daf2=>{}),_0x3ac88e[_0x1ee87a(0x100)](0xce,_0x3b8b06),_0x2a609a[_0x1ee87a(0xd3)](_0x3ac88e);}catch(_0x3f8911){console[_0x1ee87a(0x14c)](_0x1ee87a(0x168),_0x3f8911),_0x3ac88e[_0x1ee87a(0x1c4)](0x1f4)[_0x1ee87a(0x105)]({'error':_0x41ad86(0x1ee)});}else _0x3ac88e[_0x1ee87a(0x1c4)](0x194)[_0x1ee87a(0x105)]({'error':_0x1ee87a(0x11e)});}),isElectron&&(ffmpeg=require(_0x279106(0x17f)),ffmpegStatic=require(_0x279106(0x101)),ffmpeg[_0x279106(0x183)](ffmpegStatic)),app[_0x279106(0x113)](_0x279106(0x19c),async(_0x392a4e,_0x4c8f42)=>{const _0x56814a=_0x3d5607,_0x3065af=_0x279106;if(!isElectron)return _0x4c8f42[_0x56814a(0x2e7)]({'status':_0x3065af(0xc5)});try{const _0x4e2c9c=(await videos[_0x3065af(0x113)](_0x392a4e[_0x3065af(0xb3)]['id']))[_0x3065af(0x12e)],_0x5a2191=_0x392a4e[_0x3065af(0x15e)][_0x56814a(0x20a)],_0x4dcbf3=_0x4e2c9c[_0x3065af(0x140)];let _0xa610a0,_0x6ac100={'Content-Type':_0x3065af(0x14a),'Content-Length':_0x4dcbf3};if(_0x5a2191){const _0xdb9e27=_0x5a2191[_0x3065af(0x107)](/bytes=/,'')[_0x56814a(0x295)]('-'),_0x505904=parseInt(_0xdb9e27[0x0],0xa),_0x3f1eef=_0xdb9e27[0x1]?parseInt(_0xdb9e27[0x1],0xa):_0x4dcbf3-0x1,_0x5bcfa4=_0x3f1eef-_0x505904+0x1;_0xa610a0={'start':_0x505904,'end':_0x3f1eef},_0x6ac100={'Content-Range':_0x3065af(0xdd)+_0x505904+'-'+_0x3f1eef+'/'+_0x4dcbf3,'Accept-Ranges':_0x3065af(0xb0),'Content-Length':_0x5bcfa4,'Content-Type':_0x56814a(0x1fd)};}const _0x167bda=_0x4e2c9c[_0x3065af(0x126)](_0xa610a0);_0x167bda['on'](_0x3065af(0x14c),_0x73ef66=>{}),_0x4c8f42[_0x3065af(0x100)](0xce,_0x6ac100),(await ffmpeg(_0x167bda)[_0x3065af(0xb5)]()[_0x3065af(0x19d)](_0x3065af(0xb8))[_0x3065af(0x1d6)](_0x3065af(0x161))['on']('error',_0x12517d=>{const _0x3cc36d=_0x56814a,_0x41d9bc=_0x3065af;console[_0x41d9bc(0x14c)](_0x3cc36d(0x298),_0x12517d),_0x4c8f42[_0x41d9bc(0x1ca)]();}))[_0x3065af(0xd3)](_0x4c8f42,{'end':!0x0});}catch(_0x106e88){console[_0x3065af(0x14c)](_0x3065af(0x168),_0x106e88),_0x4c8f42[_0x3065af(0x1c4)](0x1f4)[_0x3065af(0x105)]({'error':_0x3065af(0xdc)});}}),app[_0x279106(0x113)]('/files',(_0xd64734,_0x3655d6)=>{const _0x330166=_0x279106;import('./node/info.js')[_0x330166(0x1c6)](async _0x404b9d=>{const _0x3a13d6=_0x2bca,_0x20ec59=_0x330166;try{const _0x1bd28c=await _0x404b9d[_0x3a13d6(0x1d5)](savePath);_0x3655d6[_0x20ec59(0x105)](_0x1bd28c);}catch(_0x152703){_0x3655d6[_0x3a13d6(0x2d2)](_0x152703[_0x3a13d6(0x2dd)]());}});}),app[_0x279106(0x113)](_0x279106(0xe2),(_0x431fd1,_0x4f14a2)=>{const _0x32441a=_0x279106;_0x4f14a2['render'](_0x32441a(0x14e),{'req':_0x431fd1});}),app[_0x279106(0x113)](_0x279106(0x16e),(_0x10f548,_0x3ac3d0)=>{const _0x433e77=_0x279106;_0x3ac3d0[_0x433e77(0x105)]({'status':_0x433e77(0xd7),'version':version});}),app[_0x279106(0x113)](_0x279106(0xcd),async(_0x27e724,_0x1d258b)=>{const _0x199d57=_0x3d5607,_0x57d9c6=_0x279106;try{if(_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0xca)]==_0x57d9c6(0x136)){const _0x2e91c3=path[_0x57d9c6(0x182)](decodeURIComponent(_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x14d)]),_0x57d9c6(0x127)),_0x23d8c9=fs[_0x57d9c6(0x11c)](_0x2e91c3,_0x57d9c6(0xb4)),_0x58c654=JSON[_0x57d9c6(0x1cf)](_0x23d8c9),_0x4c676f=_0x58c654[_0x57d9c6(0xba)][_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x16f)]][_0x57d9c6(0x181)][_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x148)]][_0x199d57(0x26e)];if(fs[_0x57d9c6(0x150)](_0x4c676f)[_0x57d9c6(0x1c6)](()=>{const _0x2d5885=_0x199d57,_0x5149fe=_0x57d9c6;console[_0x2d5885(0x26c)](_0x5149fe(0x199));})[_0x57d9c6(0x16b)](_0x3f9897=>{const _0x8dec04=_0x199d57;console[_0x8dec04(0x200)](_0x8dec04(0x300),_0x3f9897);}),delete _0x58c654[_0x57d9c6(0xba)][_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x16f)]]['episodes'][_0x27e724[_0x57d9c6(0xb3)][_0x199d57(0x1fb)]],0x0==Object[_0x199d57(0x2fa)](_0x58c654[_0x57d9c6(0xba)][_0x27e724[_0x57d9c6(0xb3)]['season']][_0x199d57(0x1f9)])[_0x199d57(0x23e)])return fs[_0x57d9c6(0x150)](decodeURIComponent(_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x14d)]))[_0x57d9c6(0x1c6)](()=>{const _0x5317c7=_0x57d9c6;console[_0x5317c7(0x1d1)](_0x5317c7(0x153));})[_0x199d57(0x264)](_0x19a46f=>{const _0x181466=_0x57d9c6;console[_0x181466(0x14c)](_0x181466(0x1c7),_0x19a46f);}),void _0x1d258b[_0x57d9c6(0x105)]({'status':'success'});fs[_0x199d57(0x2ca)](_0x2e91c3,JSON[_0x57d9c6(0xe4)](_0x58c654,null,0x2),_0x57d9c6(0xb4),_0x50dc0b=>{_0x50dc0b&&console[_0x57d9c6(0x1d1)](_0x50dc0b);});}if(!decodeURIComponent(_0x27e724[_0x199d57(0x29e)][_0x57d9c6(0x1c1)])||!isSubpath(decodeURIComponent(_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x1c1)])))return void _0x1d258b[_0x199d57(0x2e7)]({'error':_0x57d9c6(0x1ba)});const _0x559d78=_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0xca)]==_0x57d9c6(0x136)?path[_0x57d9c6(0x182)](decodeURIComponent(_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x14d)]),_0x27e724[_0x57d9c6(0xb3)][_0x199d57(0x213)],_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x148)]):decodeURIComponent(_0x27e724[_0x57d9c6(0xb3)][_0x57d9c6(0x14d)]);fs[_0x57d9c6(0x150)](_0x559d78)[_0x57d9c6(0x1c6)](()=>{const _0x6ffecc=_0x57d9c6;console[_0x6ffecc(0x1d1)](_0x6ffecc(0x153));})['catch'](_0x37c17a=>{console[_0x57d9c6(0x14c)]('Error\x20removing\x20directory:',_0x37c17a);}),_0x1d258b[_0x57d9c6(0x105)]({'status':_0x57d9c6(0xd7)});}catch(_0x1bc7a3){console[_0x199d57(0x200)](_0x1bc7a3),_0x1d258b[_0x57d9c6(0x105)]({'error':_0x1bc7a3});}});let rootPath=process[_0x279106(0xd0)][0x2];try{!fs[_0x279106(0x187)](rootPath)&&fs[_0x3d5607(0x244)](rootPath,{'recursive':!0x0});}catch(_0x2c58f2){console[_0x279106(0x14c)](_0x2c58f2);}let savePath=path[_0x3d5607(0x29a)](rootPath,_0x3d5607(0x247)),settingsPath=path[_0x279106(0x182)](rootPath,_0x279106(0x16d));function moveFolder(_0x2364ef,_0x4c5dc1){const _0x51fa6c=_0x279106;fs[_0x51fa6c(0x19a)](_0x2364ef,_0x4c5dc1,_0x5d395b=>{const _0x25b8cc=_0x51fa6c;_0x5d395b?console[_0x25b8cc(0x14c)](_0x25b8cc(0x17b)+_0x5d395b):console[_0x25b8cc(0x1d1)](_0x25b8cc(0x155)+_0x2364ef+_0x25b8cc(0x196)+_0x4c5dc1);});}function isSubpath(_0x37ea4e){const _0x573794=_0x279106,_0x9fa095=path[_0x573794(0x10e)](savePath);return path[_0x573794(0x10e)](_0x37ea4e)[_0x573794(0xf1)](_0x9fa095);}app[_0x279106(0x113)](_0x279106(0x1db),async(_0x326e62,_0x4db7ab)=>{const _0x292523=_0x3d5607,_0x5b778f=_0x279106;try{let _0x237559={'save':!0x0};if(!fs[_0x5b778f(0x187)](settingsPath))return fs[_0x292523(0x2ca)](settingsPath,JSON[_0x5b778f(0xe4)](_0x237559,null,0x2),_0x292523(0x2e9)),void _0x4db7ab[_0x5b778f(0x105)]({'status':_0x5b778f(0xd7)});const _0x46c2d4=fs[_0x5b778f(0x11c)](settingsPath,_0x5b778f(0xb4));_0x237559=JSON[_0x5b778f(0x1cf)](_0x46c2d4),_0x237559[_0x5b778f(0x1c1)]&&(savePath=_0x237559[_0x5b778f(0x1c1)]),_0x4db7ab[_0x5b778f(0x105)]({'path':savePath,'save':_0x237559[_0x5b778f(0x1af)]});}catch(_0x504134){console[_0x5b778f(0x1d1)](_0x504134),_0x4db7ab[_0x5b778f(0x105)]({'error':_0x504134});}}),app['get'](_0x279106(0x1b6),async(_0x5a015c,_0x1b3de3)=>{const _0x36eadb=_0x3d5607,_0x4b8237=_0x279106;try{let _0x5f299a={},_0xe16544=_0x5a015c[_0x36eadb(0x29e)][_0x4b8237(0xfc)];if((_0x5a015c[_0x36eadb(0x29e)][_0x4b8237(0x177)]===_0x4b8237(0x1d2)||_0x5a015c[_0x4b8237(0xb3)][_0x4b8237(0x177)]===_0x4b8237(0xb7))&&(_0xe16544=_0x5a015c[_0x4b8237(0xb3)]['val']===_0x4b8237(0x1d2)),!fs['existsSync'](settingsPath))return _0x5f299a[_0x5a015c['query'][_0x36eadb(0x2ac)]]=_0xe16544,fs[_0x4b8237(0x13b)](settingsPath,JSON[_0x4b8237(0xe4)](_0x5f299a,null,0x2),_0x4b8237(0xb4)),void _0x1b3de3[_0x36eadb(0x2e7)]({'status':_0x36eadb(0x2cf)});const _0x22d39d=fs[_0x4b8237(0x11c)](settingsPath,_0x36eadb(0x2e9));_0x5f299a=JSON[_0x4b8237(0x1cf)](_0x22d39d),_0x5f299a[_0x5a015c[_0x36eadb(0x29e)][_0x4b8237(0xfc)]]=_0xe16544,fs[_0x36eadb(0x2ca)](settingsPath,JSON[_0x36eadb(0x2ff)](_0x5f299a),_0x4b8237(0xb4)),_0x5a015c[_0x4b8237(0xb3)][_0x4b8237(0xfc)]==_0x4b8237(0x1c1)&&moveFolder(savePath,_0x5a015c[_0x4b8237(0xb3)][_0x4b8237(0x13f)]),_0x1b3de3[_0x4b8237(0x105)]({'status':_0x4b8237(0xd7)});}catch(_0x2e40cd){console[_0x4b8237(0x14c)](_0x2e40cd),_0x1b3de3[_0x4b8237(0x105)]({'error':_0x2e40cd});}}),app[_0x279106(0x113)](_0x279106(0x1b0),async(_0x186d73,_0x43af0b)=>{const _0xa93ef8=_0x3d5607,_0x23d1d7=_0x279106,_0x1ccacc={};for(let _0x1e027a=0x1;_0x1e027a<=0x24;_0x1e027a++)_0x1ccacc[_0x1e027a[_0x23d1d7(0xee)]()]=(0x1===_0x1e027a?_0x23d1d7(0x120):0x2===_0x1e027a?_0x23d1d7(0x159):0x3===_0x1e027a?_0x23d1d7(0x156):0x4===_0x1e027a?_0x23d1d7(0x18c):0x5===_0x1e027a?_0x23d1d7(0x108):0x6===_0x1e027a?_0x23d1d7(0x12c):0x7===_0x1e027a?_0x23d1d7(0xb9):0x8===_0x1e027a?_0x23d1d7(0x190):0x9===_0x1e027a?_0xa93ef8(0x297):0xa===_0x1e027a?'tenth':0xb===_0x1e027a?'eleventh':0xc===_0x1e027a?_0x23d1d7(0x1b1):0xd===_0x1e027a?_0xa93ef8(0x21a):0xe===_0x1e027a?_0x23d1d7(0x1b8):0xf===_0x1e027a?_0x23d1d7(0x1ab):0x10===_0x1e027a?_0x23d1d7(0x15d):0x11===_0x1e027a?_0x23d1d7(0x17d):0x12===_0x1e027a?_0x23d1d7(0x13a):0x13===_0x1e027a?_0xa93ef8(0x274):0x14===_0x1e027a?_0xa93ef8(0x293):0x15===_0x1e027a?_0x23d1d7(0x1d3):0x16===_0x1e027a?_0x23d1d7(0x10a):0x17===_0x1e027a?_0x23d1d7(0x13c):0x18===_0x1e027a?_0xa93ef8(0x248):0x19===_0x1e027a?_0x23d1d7(0x124):0x1a===_0x1e027a?_0x23d1d7(0x1a5):0x1b===_0x1e027a?_0x23d1d7(0xeb):0x1c===_0x1e027a?_0x23d1d7(0xf3):0x1d===_0x1e027a?_0x23d1d7(0xfb):0x1e===_0x1e027a?_0x23d1d7(0x1c3):0x1f===_0x1e027a?'thirty-first':0x20===_0x1e027a?_0x23d1d7(0x186):0x21===_0x1e027a?_0x23d1d7(0x137):0x22===_0x1e027a?_0xa93ef8(0x283):0x23===_0x1e027a?_0x23d1d7(0xd2):_0xa93ef8(0x259))+_0xa93ef8(0x27c);const _0x36cdb2=_0x186d73[_0x23d1d7(0xb3)][_0x23d1d7(0x16f)]?_0x1ccacc[_0x186d73[_0x23d1d7(0xb3)][_0x23d1d7(0x16f)]]:'',_0x314730=_0x23d1d7(0x1bf)+_0x186d73[_0xa93ef8(0x29e)]['id']+'/'+_0x186d73[_0x23d1d7(0xb3)][_0x23d1d7(0x17a)]+'/'+_0x36cdb2,_0x58d48a=await subtitles[_0x23d1d7(0x175)](_0x314730);_0x43af0b[_0x23d1d7(0x105)](_0x58d48a);}),app[_0x279106(0xf8)](_0x3d5607(0x2e2),async(_0x2a625a,_0x57edac)=>{const _0x3db117=_0x3d5607,_0x55492a=_0x279106;try{if(null==_0x2a625a[_0x55492a(0x12f)][_0x55492a(0x112)]||null==_0x2a625a[_0x55492a(0x12f)][_0x55492a(0x112)])return void _0x57edac[_0x55492a(0x105)]({'error':_0x3db117(0x1f6),'type':_0x55492a(0xf9),'message':_0x55492a(0xc4)});const _0x324a72=(await torrents)[_0x55492a(0x184)]({..._0x2a625a[_0x55492a(0x12f)]});videos[_0x55492a(0x18e)](_0x324a72['id'],{..._0x324a72}),delete _0x324a72[_0x55492a(0x12e)],delete _0x324a72[_0x55492a(0x15f)],_0x57edac[_0x55492a(0x105)]({'status':_0x3db117(0x2cf),..._0x324a72});}catch(_0x5e5f74){_0x57edac[_0x55492a(0x105)]({'error':_0x55492a(0x10d),'type':_0x55492a(0x192),'message':_0x5e5f74[_0x55492a(0xee)]()});}}),app[_0x3d5607(0x245)](_0x279106(0xd9),express[_0x279106(0x166)]({'limit':_0x279106(0x135),'extended':!0x0}),(_0xe21275,_0x522db8)=>{const _0x525cdb=_0x3d5607,_0x38405e=_0x279106,_0x1ff9ea=require(_0x38405e(0x165))({'headers':_0xe21275[_0x525cdb(0x272)]});let _0xd5d86e=Buffer[_0x38405e(0x19f)](0x0);_0x1ff9ea['on'](_0x38405e(0x12e),(_0x50e6ca,_0x218ebe,_0x2faf4b,_0x301a9b,_0xa53ec3)=>{const _0x3ef1ab=_0x525cdb,_0xefad1a=_0x38405e;_0x218ebe['on'](_0xefad1a(0x146),_0x5794fc=>{_0xd5d86e=Buffer[_0xefad1a(0x176)]([_0xd5d86e,_0x5794fc]);}),_0x218ebe['on'](_0x3ef1ab(0x292),()=>{const _0x125405=_0xefad1a;console[_0x125405(0x1d1)](_0x125405(0x149)+_0x50e6ca+_0x125405(0x116));});}),_0x1ff9ea['on'](_0x525cdb(0x2b6),async()=>{const _0x192e0e=_0x525cdb,_0x246545=_0x38405e;console[_0x192e0e(0x26c)](_0x246545(0x1c9)),await subtitles[_0x246545(0x1cf)](_0xd5d86e);const _0xd75c01=await subtitles[_0x246545(0x1cf)](_0xd5d86e);_0x522db8[_0x192e0e(0x23f)](_0x192e0e(0x219),_0x246545(0xea)),_0x522db8[_0x192e0e(0x23f)](_0x246545(0x1a6),'text/plain'),console[_0x192e0e(0x26c)](_0xd75c01);}),_0xe21275[_0x38405e(0xd3)](_0x1ff9ea);}),app[_0x279106(0x113)](_0x279106(0xfa),async(_0x348b1c,_0x5b482e)=>{const _0x33c1be=_0x3d5607,_0x728727=_0x279106;try{const _0x382645=_0x348b1c[_0x728727(0xb3)][_0x728727(0x128)],_0x98fe78=await subtitles[_0x728727(0x1d4)](_0x382645);_0x5b482e[_0x728727(0x105)](_0x98fe78);}catch(_0x42fa13){console[_0x33c1be(0x26c)](_0x42fa13),_0x5b482e[_0x728727(0x1c4)](0x190)['send'](_0x42fa13[_0x728727(0x1b9)]);}}),app[_0x279106(0x113)](_0x279106(0x114),async(_0x37c99a,_0x348ca6)=>{const _0x539b70=_0x3d5607,_0x376d33=_0x279106;try{const _0x132e91=await providers[_0x539b70(0x2df)](_0x376d33(0x15a)+_0x37c99a[_0x376d33(0xb3)][_0x376d33(0xca)][_0x376d33(0x107)](_0x376d33(0x136),'tv')+'/'+_0x37c99a[_0x376d33(0xb3)][_0x376d33(0x17a)]+_0x376d33(0xbf)+_0x37c99a[_0x376d33(0xb3)][_0x539b70(0x2d8)]);_0x348ca6[_0x539b70(0x2e7)](_0x132e91);}catch(_0x90f608){console[_0x539b70(0x26c)](_0x90f608),_0x348ca6[_0x376d33(0x1c4)](0x190)[_0x376d33(0xb2)](_0x90f608['message']);}}),app[_0x279106(0x113)]('/local',(_0x1f91ee,_0x1ff87c)=>{const _0x3b1e90=_0x3d5607,_0x5e139f=_0x279106;try{const _0x4cfe58=decodeURIComponent(_0x1f91ee[_0x5e139f(0xb3)][_0x5e139f(0x1c1)]);if(!_0x4cfe58||!fs[_0x5e139f(0x187)](_0x4cfe58))return _0x1ff87c[_0x5e139f(0x1c4)](0x194)[_0x5e139f(0x105)]({'error':_0x5e139f(0x1c5)});const _0x2bf218=path[_0x5e139f(0x195)](_0x4cfe58);_0x1ff87c[_0x5e139f(0x167)](_0x5e139f(0x1da),_0x3b1e90(0x25f)+_0x2bf218+'\x22'),_0x1ff87c[_0x5e139f(0xd4)](path[_0x5e139f(0x10e)](_0x4cfe58),_0x14bf0f=>{const _0x5804bc=_0x3b1e90,_0x3523f3=_0x5e139f;_0x14bf0f&&(console[_0x5804bc(0x200)](_0x14bf0f),!_0x1ff87c[_0x3523f3(0x147)]&&_0x1ff87c[_0x3523f3(0x1c4)](0x1f4)[_0x3523f3(0xb2)](_0x14bf0f['message']));});}catch(_0x59cc87){!_0x1ff87c[_0x5e139f(0x147)]&&_0x1ff87c[_0x3b1e90(0x1e3)](0x190)[_0x5e139f(0x105)]({'error':_0x59cc87[_0x5e139f(0x1b9)]});}}),app[_0x279106(0x113)](_0x3d5607(0x218),(_0x13517f,_0x7ea320)=>{const _0xdb287f=_0x3d5607,_0x43ee6a=_0x279106;try{const _0x935a9e=decodeURIComponent(_0x13517f[_0x43ee6a(0xb3)][_0x43ee6a(0x1c1)]);if(!_0x935a9e||!fs[_0xdb287f(0x28c)](_0x935a9e))return _0x7ea320[_0x43ee6a(0x1c4)](0x194)['json']({'error':'file_not_found'});const _0x1176c4=path[_0x43ee6a(0x195)](_0x935a9e,path[_0x43ee6a(0x1a8)](_0x935a9e))+_0x43ee6a(0xda),_0x7d9afe=path['join'](path[_0x43ee6a(0x15b)](_0x935a9e),_0x1176c4),_0x5d47e7=path[_0x43ee6a(0x10e)](_0x7d9afe);if(fs[_0x43ee6a(0x187)](_0x5d47e7))return _0x7ea320[_0x43ee6a(0x167)](_0x43ee6a(0x1da),_0x43ee6a(0x1ac)+_0x1176c4+'\x22'),_0x7ea320[_0x43ee6a(0xd4)](_0x5d47e7,_0x20b873=>{const _0x36a2a9=_0x43ee6a;_0x20b873&&(console[_0x36a2a9(0x14c)](_0x20b873),!_0x7ea320['headersSent']&&_0x7ea320[_0x36a2a9(0x1c4)](0x1f4)[_0x36a2a9(0xb2)](_0x20b873[_0x36a2a9(0x1b9)]));});ffmpeg(_0x935a9e)[_0x43ee6a(0xb5)]()[_0x43ee6a(0x19d)](_0x43ee6a(0xb8))[_0x43ee6a(0x1d6)](_0x43ee6a(0x161))['on'](_0xdb287f(0x292),()=>{const _0x534e01=_0x43ee6a;_0x7ea320[_0x534e01(0x167)]('Content-Disposition',_0x534e01(0x1ac)+_0x1176c4+'\x22'),_0x7ea320[_0x534e01(0xd4)](_0x5d47e7,_0x505583=>{const _0x48da03=_0x2bca,_0x1d1d14=_0x534e01;_0x505583&&(console[_0x1d1d14(0x14c)](_0x505583),!_0x7ea320[_0x48da03(0x267)]&&_0x7ea320[_0x1d1d14(0x1c4)](0x1f4)[_0x1d1d14(0xb2)](_0x505583[_0x1d1d14(0x1b9)]));});})['on'](_0x43ee6a(0x14c),_0x2b49a3=>{const _0x253196=_0xdb287f,_0x17d21e=_0x43ee6a;console[_0x17d21e(0x14c)](_0x17d21e(0x1cd),_0x2b49a3),!_0x7ea320[_0x17d21e(0x147)]&&_0x7ea320[_0x17d21e(0x1c4)](0x1f4)['json']({'error':_0x17d21e(0x1a9),'message':_0x2b49a3[_0x253196(0x2af)]});})[_0x43ee6a(0x1af)](_0x5d47e7);}catch(_0xff28b5){!_0x7ea320[_0x43ee6a(0x147)]&&_0x7ea320[_0x43ee6a(0x1c4)](0x190)[_0xdb287f(0x2e7)]({'error':_0xff28b5[_0x43ee6a(0x1b9)]});}}),app[_0x279106(0xf8)](_0x279106(0xd5),express[_0x3d5607(0x251)]({'limit':_0x279106(0x135),'extended':!0x0}),(_0xff4663,_0x3b7bc7)=>{const _0x4dde12=_0x3d5607,_0x1593fc=_0x279106,_0x4fae33=_0xff4663[_0x1593fc(0x12f)][_0x1593fc(0x1c1)],_0x1b6049=_0xff4663[_0x4dde12(0x1f7)][_0x4dde12(0x209)];if(_0x1b6049&&_0x4fae33)try{let _0x1078fc;if(0x1==_0xff4663[_0x4dde12(0x1f7)][_0x1593fc(0x129)]){let _0x278569=path[_0x1593fc(0x182)](rootPath,_0x1593fc(0x1bc),_0x4dde12(0x20b));!fs[_0x4dde12(0x28c)](_0x278569)&&fs[_0x1593fc(0x162)](_0x278569,{'recursive':!0x0}),_0x1078fc=path[_0x4dde12(0x29a)](_0x278569,_0x4fae33),fs[_0x1593fc(0x13b)](_0x1078fc,_0x1b6049,_0x4dde12(0x2e9)),console[_0x1593fc(0x1d1)](_0x1078fc);}else{const _0x16535e=path[_0x1593fc(0x1a8)](_0x4fae33);_0x1078fc=_0x4fae33[_0x1593fc(0x107)](_0x16535e,_0x1593fc(0x19b)),fs[_0x1593fc(0x13b)](_0x1078fc,_0x1b6049,_0x1593fc(0xb4));}_0x3b7bc7[_0x1593fc(0x105)]({'url':_0x1593fc(0xdb)+encodeURIComponent(_0x1078fc)});}catch(_0x28b507){console[_0x1593fc(0x14c)](_0x28b507);}else _0x3b7bc7[_0x4dde12(0x2e7)]({'error':_0x1593fc(0x151)});}),app[_0x279106(0xf8)](_0x279106(0x1d9),async(_0x26545c,_0xeacbbf)=>{const _0x35a8c4=_0x3d5607,_0x577d8f=_0x279106;try{if(_0x26545c[_0x577d8f(0x12f)][_0x577d8f(0x1c8)]==_0x577d8f(0x18d))return allowLocalNetwork=!0x1,void _0xeacbbf[_0x35a8c4(0x2e7)]({'status':_0x577d8f(0xd7)});const _0x14b180=await ip[_0x577d8f(0xe8)](_0x26545c[_0x577d8f(0xb3)]['true']===_0x577d8f(0x1d2));allowLocalNetwork=!0x0;const _0x42d2f0=require(_0x35a8c4(0x284));let _0x4bedff=_0x577d8f(0x12b)+_0x14b180['ip']+_0x35a8c4(0x2ba);_0x26545c[_0x577d8f(0x12f)]['url']&&(_0x4bedff=_0x577d8f(0x12b)+_0x14b180['ip']+(_0x26545c[_0x577d8f(0x12f)][_0x35a8c4(0x254)]&&''!==_0x26545c[_0x577d8f(0x12f)][_0x35a8c4(0x254)]?':'+_0x26545c[_0x577d8f(0x12f)][_0x577d8f(0x14f)]:_0x577d8f(0x142))+_0x26545c[_0x35a8c4(0x1f7)][_0x577d8f(0x128)],_0x14b180[_0x577d8f(0x128)]=_0x4bedff);try{let _0x399401=await _0x42d2f0[_0x577d8f(0x1a3)](_0x4bedff);_0x14b180['qr']=_0x399401;}catch(_0x251448){console[_0x577d8f(0x14c)](_0x251448);}_0xeacbbf[_0x577d8f(0x105)](_0x14b180);}catch(_0x1b60cd){_0xeacbbf[_0x577d8f(0x1c4)](0x1f4)[_0x577d8f(0x105)]({'error':_0x1b60cd[_0x577d8f(0x1b9)]});}}),app[_0x279106(0xf8)](_0x3d5607(0x217),async(_0x4e126b,_0x2ea7d6)=>{const _0x4a8530=_0x3d5607,_0x3cacc6=_0x279106;try{if(_0x4e126b[_0x3cacc6(0x12f)][_0x3cacc6(0x1c8)]==_0x3cacc6(0x18d))return allowLocalNetwork=!0x1,void _0x2ea7d6[_0x3cacc6(0x105)]({'status':_0x4a8530(0x2cf)});const _0x54abc2=await ip[_0x3cacc6(0xe8)](_0x4e126b[_0x3cacc6(0xb3)]['true']===_0x3cacc6(0x1d2));allowLocalNetwork=!0x0;const _0x458136=require(_0x3cacc6(0x152));try{let _0x1939a4=await _0x458136[_0x3cacc6(0x1a3)](_0x4e126b[_0x3cacc6(0x12f)][_0x4a8530(0x1f3)]);_0x54abc2['qr']=_0x1939a4;}catch(_0x4a7981){console[_0x4a8530(0x200)](_0x4a7981);}_0x2ea7d6[_0x4a8530(0x2e7)](_0x54abc2);}catch(_0x175e2e){_0x2ea7d6[_0x3cacc6(0x1c4)](0x1f4)[_0x3cacc6(0x105)]({'error':_0x175e2e[_0x3cacc6(0x1b9)]});}});let imagesGloabl=[];const downloadImage=(_0x4126ee,_0x3abacf)=>new Promise((_0x55474a,_0x505f6b)=>{const _0x35af72=_0x229a;https[_0x35af72(0x113)](_0x4126ee,_0x17d0bb=>{const _0x442194=_0x2bca,_0x3e578b=_0x35af72;if(0xc8!==_0x17d0bb[_0x3e578b(0x179)])return _0x505f6b(new Error(_0x3e578b(0x1b4)+_0x4126ee+_0x442194(0x225)+_0x17d0bb[_0x442194(0x286)]+')'));const _0x34e6ed=fs[_0x3e578b(0x1b5)](_0x3abacf);_0x17d0bb[_0x3e578b(0xd3)](_0x34e6ed),_0x34e6ed['on'](_0x3e578b(0xbb),_0x55474a),_0x34e6ed['on'](_0x3e578b(0x14c),_0x505f6b);})['on']('error',_0x16f1e2=>{_0x505f6b(_0x16f1e2);});}),downloadImages=async _0x202960=>{const _0x57fc1c=_0x3d5607,_0x593b5b=_0x279106,_0x4db526=path[_0x57fc1c(0x29a)](rootPath,_0x593b5b(0x189),_0x593b5b(0x1a2),_0x593b5b(0x1bc));if(!fs[_0x593b5b(0x187)](_0x4db526)&&fs[_0x593b5b(0x162)](_0x4db526),_0x202960){for(const [_0x2724fe,_0x4df50c]of _0x202960[_0x57fc1c(0x2fa)]())try{const _0x28df2f=_0x4df50c[_0x593b5b(0x107)](_0x593b5b(0x169),'')[_0x593b5b(0x19e)]('/');if(imagesGloabl[_0x57fc1c(0x223)](_0x28df2f[0x1]))continue;!fs[_0x57fc1c(0x28c)](path['join'](_0x4db526,_0x28df2f[0x0]))&&fs[_0x593b5b(0x162)](path[_0x593b5b(0x182)](_0x4db526,_0x28df2f[0x0]),{'recursive':!0x0});const _0x5a044e=path[_0x57fc1c(0x29a)](_0x4db526,_0x28df2f[0x0],_0x28df2f[0x1]);!fs[_0x593b5b(0x187)](_0x5a044e)&&(await downloadImage(_0x4df50c,_0x5a044e),imagesGloabl[_0x57fc1c(0x277)](_0x28df2f[0x1]));}catch(_0x2e6db5){console[_0x593b5b(0x14c)](_0x593b5b(0x1bd)+_0x4df50c+':',_0x2e6db5[_0x593b5b(0x1b9)]);}}};function format(_0x2062ed){const _0x4a9d9e=_0x3d5607,_0x997b3c=_0x279106,_0x1ece61=fs[_0x997b3c(0xf6)](_0x2062ed);for(const _0x56056c of _0x1ece61){const _0x249b91=path['join'](_0x2062ed,_0x56056c);fs[_0x4a9d9e(0x1f0)](_0x249b91,{'recursive':!0x0,'force':!0x0}),console[_0x4a9d9e(0x26c)](_0x997b3c(0x15c)+_0x249b91);}}app['post'](_0x279106(0xf5),async(_0x578cce,_0xfff2a7)=>{const _0x29a5b3=_0x3d5607,_0x2d9e4a=_0x279106;try{const _0x2cfcc5=_0x578cce[_0x2d9e4a(0x12f)][_0x2d9e4a(0x105)],_0x3d98be=_0x578cce[_0x29a5b3(0x1f7)][_0x2d9e4a(0xaf)];if((0x1==_0x578cce[_0x2d9e4a(0x12f)][_0x2d9e4a(0xef)]||0x1==_0x578cce[_0x2d9e4a(0x12f)][_0x2d9e4a(0xc0)])&&(fs[_0x2d9e4a(0x106)](path[_0x2d9e4a(0x182)](rootPath,'public','offline'),{'recursive':!0x0,'force':!0x0}),console[_0x2d9e4a(0x1d1)](_0x2d9e4a(0x197))),_0x578cce[_0x2d9e4a(0x12f)][_0x2d9e4a(0xc0)])return;const _0x4eda92=path[_0x2d9e4a(0x182)](rootPath,_0x29a5b3(0x22f),_0x29a5b3(0x2a9),_0x29a5b3(0x2e7));!fs[_0x2d9e4a(0x187)](_0x4eda92)&&fs[_0x2d9e4a(0x162)](_0x4eda92,{'recursive':!0x0}),Object['entries'](_0x2cfcc5)[_0x2d9e4a(0x143)](([_0x1d8641,_0x20e20c])=>{const _0x479d76=_0x2d9e4a,_0x3b306e=path[_0x479d76(0x182)](_0x4eda92,_0x1d8641+_0x479d76(0xe1));fs[_0x479d76(0x13b)](_0x3b306e,JSON[_0x479d76(0xe4)](_0x20e20c,null,0x2),_0x479d76(0xb4));}),downloadImages(_0x3d98be),_0xfff2a7[_0x2d9e4a(0x105)]({'status':_0x2d9e4a(0xd7)});}catch(_0x2b03f1){_0xfff2a7[_0x2d9e4a(0x1c4)](0x1f4)[_0x29a5b3(0x2e7)]({'error':_0x2b03f1[_0x2d9e4a(0x1b9)]});}});const portalSockets=new Map();function _0x419d(){const _0xa40b6f=_0x3d5607,_0x4dad5b=[_0xa40b6f(0x2ef),_0xa40b6f(0x26e),_0xa40b6f(0x21b),'thirtieth','status',_0xa40b6f(0x210),'then',_0xa40b6f(0x300),_0xa40b6f(0x246),'Upload\x20complete','end',_0xa40b6f(0x232),_0xa40b6f(0x26d),_0xa40b6f(0x24f),_0xa40b6f(0x2f8),'parse',_0xa40b6f(0x2d7),'log',_0xa40b6f(0x22e),_0xa40b6f(0x22b),_0xa40b6f(0x299),'utf-8',_0xa40b6f(0x1dc),_0xa40b6f(0x2c4),_0xa40b6f(0x1e2),_0xa40b6f(0x231),'Content-Disposition',_0xa40b6f(0x291),_0xa40b6f(0x2cb),_0xa40b6f(0x23b),'bytes',_0xa40b6f(0x290),_0xa40b6f(0x2d2),'query',_0xa40b6f(0x2e9),_0xa40b6f(0x226),_0xa40b6f(0x294),_0xa40b6f(0x2a5),_0xa40b6f(0x278),_0xa40b6f(0x21e),'seasons','finish','magnate',_0xa40b6f(0x205),'has',_0xa40b6f(0x2bb),_0xa40b6f(0x1e9),_0xa40b6f(0x2b5),_0xa40b6f(0x2f4),'/ONVO\x20TV',_0xa40b6f(0x256),_0xa40b6f(0x2fd),'/:type(movie|series)/:endpoint',_0xa40b6f(0x214),_0xa40b6f(0x2a6),_0xa40b6f(0x26f),_0xa40b6f(0x2a1),_0xa40b6f(0x287),_0xa40b6f(0x266),_0xa40b6f(0x229),_0xa40b6f(0x23c),_0xa40b6f(0x255),_0xa40b6f(0x208),'closed',_0xa40b6f(0x236),_0xa40b6f(0x265),_0xa40b6f(0x24d),'/setsrt',_0xa40b6f(0x1fc),_0xa40b6f(0x2cf),_0xa40b6f(0x2e3),_0xa40b6f(0x1d4),_0xa40b6f(0x296),'http://localhost:5000/local?path=',_0xa40b6f(0x1ee),'bytes\x20',_0xa40b6f(0x29f),_0xa40b6f(0x27d),_0xa40b6f(0x241),_0xa40b6f(0x303),_0xa40b6f(0x301),_0xa40b6f(0x1f5),'stringify',_0xa40b6f(0x1d7),_0xa40b6f(0x25b),_0xa40b6f(0x2fb),_0xa40b6f(0x2ec),_0xa40b6f(0x222),_0xa40b6f(0x273),_0xa40b6f(0x20f),'size',_0xa40b6f(0x1eb),'toString',_0xa40b6f(0x20c),_0xa40b6f(0x2eb),_0xa40b6f(0x28d),_0xa40b6f(0x1d2),'twenty-eighth','ejs',_0xa40b6f(0x2bc),_0xa40b6f(0x2a7),_0xa40b6f(0x2c5),_0xa40b6f(0x245),_0xa40b6f(0x1ec),_0xa40b6f(0x27b),_0xa40b6f(0x1e8),_0xa40b6f(0x2ac),_0xa40b6f(0x2f1),_0xa40b6f(0x269),_0xa40b6f(0x2a0),_0xa40b6f(0x2b9),_0xa40b6f(0x2a8),'/pause',_0xa40b6f(0x1ef),'image',_0xa40b6f(0x2e7),_0xa40b6f(0x1f0),_0xa40b6f(0x22c),_0xa40b6f(0x2be),_0xa40b6f(0x249),_0xa40b6f(0x25c),_0xa40b6f(0x237),_0xa40b6f(0x211),_0xa40b6f(0x28e),_0xa40b6f(0x243),_0xa40b6f(0x2a4),_0xa40b6f(0x29c),_0xa40b6f(0x2aa),_0xa40b6f(0x2fe),'get','/providers',_0xa40b6f(0x268),']\x20finished',_0xa40b6f(0x23d),_0xa40b6f(0x20e),_0xa40b6f(0x1fe),_0xa40b6f(0x1f4),_0xa40b6f(0x20d),'readFileSync','android','no_video_found','owner',_0xa40b6f(0x289),'stack',_0xa40b6f(0x2ed),_0xa40b6f(0x1f1),_0xa40b6f(0x1d9),'382200cFYZag',_0xa40b6f(0x212),'info.json',_0xa40b6f(0x1f3),'append',_0xa40b6f(0x221),_0xa40b6f(0x28b),_0xa40b6f(0x304),_0xa40b6f(0x2f3),_0xa40b6f(0x282),_0xa40b6f(0x1f7),'socket',_0xa40b6f(0x2ee),_0xa40b6f(0x223),_0xa40b6f(0x2b2),'localhost',_0xa40b6f(0x2d4),_0xa40b6f(0x302),'thirty-third',_0xa40b6f(0x2dc),_0xa40b6f(0x1e4),_0xa40b6f(0x25e),_0xa40b6f(0x2ca),_0xa40b6f(0x253),_0xa40b6f(0x203),_0xa40b6f(0x28f),_0xa40b6f(0x1ff),'length','/party/:endpoint',_0xa40b6f(0x262),_0xa40b6f(0x27f),_0xa40b6f(0x281),_0xa40b6f(0x26a),_0xa40b6f(0x22d),_0xa40b6f(0x267),_0xa40b6f(0x1fb),_0xa40b6f(0x234),'audio/mp3',_0xa40b6f(0x1e5),_0xa40b6f(0x200),_0xa40b6f(0x2c3),_0xa40b6f(0x2fc),_0xa40b6f(0x254),_0xa40b6f(0x207),_0xa40b6f(0x2e4),_0xa40b6f(0x284),_0xa40b6f(0x285),_0xa40b6f(0x2b3),'Folder\x20moved\x20from\x20',_0xa40b6f(0x2c0),_0xa40b6f(0x2f6),_0xa40b6f(0x2ce),'second',_0xa40b6f(0x263),_0xa40b6f(0x1de),_0xa40b6f(0x279),'sixteenth',_0xa40b6f(0x272),_0xa40b6f(0x261),_0xa40b6f(0x1f2),_0xa40b6f(0x2cd),'mkdirSync',_0xa40b6f(0x2ab),_0xa40b6f(0x1f8),_0xa40b6f(0x1ea),_0xa40b6f(0x251),_0xa40b6f(0x23f),_0xa40b6f(0x2b4),_0xa40b6f(0x240),_0xa40b6f(0x1d6),_0xa40b6f(0x264),_0xa40b6f(0x227),'settings.json',_0xa40b6f(0x2de),_0xa40b6f(0x213),_0xa40b6f(0x2a2),_0xa40b6f(0x230),_0xa40b6f(0x288),'WebSocketServer',_0xa40b6f(0x1e0),_0xa40b6f(0x2df),'concat',_0xa40b6f(0x21f),_0xa40b6f(0x201),_0xa40b6f(0x286),'slug',_0xa40b6f(0x1ed),_0xa40b6f(0x2d9),_0xa40b6f(0x224),_0xa40b6f(0x1d3),_0xa40b6f(0x1e6),_0xa40b6f(0x2f0),_0xa40b6f(0x1f9),_0xa40b6f(0x29a),_0xa40b6f(0x27a),_0xa40b6f(0x2db),_0xa40b6f(0x2e5),_0xa40b6f(0x2b7),_0xa40b6f(0x28c),_0xa40b6f(0x276),_0xa40b6f(0x22f),_0xa40b6f(0x2d6),'homePage',_0xa40b6f(0x2cc),_0xa40b6f(0x1da),_0xa40b6f(0x2bd),'5148192jCOdbT','eighth','1212SNXSWF',_0xa40b6f(0x250),_0xa40b6f(0x2f5),_0xa40b6f(0x2e0),_0xa40b6f(0x26b),_0xa40b6f(0x2bf),'cache\x20cleared',_0xa40b6f(0x28a),_0xa40b6f(0x21c),_0xa40b6f(0x2d0),_0xa40b6f(0x2f7),_0xa40b6f(0x2c9),'audioCodec',_0xa40b6f(0x295),'alloc','854732nHDFXV',_0xa40b6f(0x238),_0xa40b6f(0x2a9),'toDataURL','2nUmvhS','twenty-sixth',_0xa40b6f(0x260),_0xa40b6f(0x21d),_0xa40b6f(0x206),_0xa40b6f(0x2e8),'../../',_0xa40b6f(0x2ae),_0xa40b6f(0x25f),_0xa40b6f(0x1d8),_0xa40b6f(0x24c),_0xa40b6f(0x2f2),'/subtitles',_0xa40b6f(0x271),_0xa40b6f(0x239),_0xa40b6f(0x252),_0xa40b6f(0x25d),_0xa40b6f(0x2a3),_0xa40b6f(0x220),_0xa40b6f(0x270),_0xa40b6f(0x23a),_0xa40b6f(0x2af),'no_path',_0xa40b6f(0x2d3),_0xa40b6f(0x247),_0xa40b6f(0x202),_0xa40b6f(0x204),_0xa40b6f(0x2da)];return(_0x419d=function(){return _0x4dad5b;})();}async function removeFile(_0x4ed9d8,_0x5d808d){const _0x120a12=_0x3d5607,_0x23ca23=_0x279106,_0x487c96=path[_0x23ca23(0x174)](_0x4ed9d8),_0x4ac6f3=path[_0x23ca23(0x174)](savePath);if(_0x487c96[_0x23ca23(0xf1)](_0x4ac6f3)){fs['rm'](_0x487c96,{'recursive':!0x0,'force':!0x0},_0x13def0=>{const _0x12067b=_0x23ca23;_0x13def0?console[_0x12067b(0x14c)](_0x12067b(0x1cb)+_0x13def0[_0x12067b(0x1b9)]):console[_0x12067b(0x1d1)](_0x12067b(0x1ae));});try{await client[_0x23ca23(0x150)](req[_0x23ca23(0xb3)]['id']),videos[_0x120a12(0x26a)](_0x5d808d);}catch(_0x19604e){console[_0x23ca23(0x14c)](_0x19604e);}}else console[_0x23ca23(0x14c)](_0x23ca23(0x17c));}function handlePortalMessages(_0x383b3e,_0x3f3f3a,_0x4ddbc2){const _0x3153bd=_0x3d5607,_0x5f1a5e=_0x279106;try{if(_0x3153bd(0x24b)==JSON[_0x5f1a5e(0x1cf)](_0x4ddbc2)['ct']){let _0x419545={};portalSockets[_0x5f1a5e(0x143)]((_0x357917,_0x50a8c8)=>{const _0x3d52e2=_0x5f1a5e;_0x419545[_0x50a8c8]={'name':_0x357917[_0x3d52e2(0x13d)],'ip':_0x357917['ip'],'type':_0x357917[_0x3d52e2(0xca)],'image':_0x357917[_0x3d52e2(0x104)]};}),_0x383b3e[_0x3153bd(0x2d2)](JSON[_0x5f1a5e(0xe4)]({'ct':_0x5f1a5e(0x194),'users':_0x419545}));}}catch(_0x3ef655){console[_0x3153bd(0x200)](_0x3ef655);}}function createWebSocket(_0x17910a){const _0x2cb184=_0x279106,_0x586219=new WebSocketServer({'server':_0x17910a});let _0xf3a041={},_0x413413={'save':!0x0};_0x586219['on'](_0x2cb184(0x1c2),function(_0x1ff371,_0x2750e5){const _0x39d1a1=_0x2bca,_0x248956=_0x2cb184;let _0x513908;const _0x4e5026=url[_0x248956(0x1cf)](_0x2750e5[_0x248956(0x128)],!0x0)[_0x248956(0xb3)];let _0x4831c7=_0x4e5026['id'];const _0x3aa442=_0x4e5026[_0x248956(0xc9)],_0x4938ef=_0x4e5026[_0x248956(0xca)],_0x20006b=_0x2750e5[_0x248956(0x130)][_0x39d1a1(0x2c1)];let _0x562239;if(_0x4e5026[_0x248956(0x11f)]==_0x248956(0x1d2)&&(_0x562239=_0x3aa442),_0x4831c7&&_0x3aa442||'portal'===_0x4938ef){if(_0x4938ef!==_0x248956(0x178)){let _0x25630e;sockets['has'](_0x4831c7)?(clearTimeout(sockets[_0x248956(0x113)](_0x4831c7)[_0x248956(0x1cc)]),sockets[_0x39d1a1(0x25a)](_0x4831c7)[_0x248956(0x12d)][_0x3aa442]=_0x1ff371,!sockets[_0x248956(0x113)](_0x4831c7)[_0x248956(0x11f)]&&(sockets[_0x248956(0x113)](_0x4831c7)[_0x248956(0x11f)]=_0x562239),sockets[_0x248956(0x113)](_0x4831c7)[_0x248956(0x1cc)]=null,console[_0x248956(0x1d1)](_0x248956(0xe5))):sockets[_0x248956(0x18e)](_0x4831c7,{'users':{[_0x3aa442]:_0x1ff371},'owner':_0x562239,'destroy':_0x25630e});}else _0x4831c7=_0x20006b[_0x248956(0x107)](_0x248956(0x1ad),''),portalSockets[_0x248956(0x18e)](_0x4831c7,{'socket':_0x1ff371,'type':_0x4e5026['device'],'name':_0x4e5026[_0x248956(0x13d)],'image':_0x4e5026[_0x248956(0x104)]}),portalSockets[_0x39d1a1(0x27f)]((_0x1e3d31,_0x1ad91d)=>{const _0xc95a02=_0x39d1a1,_0x31626f=_0x248956;_0x1ad91d!==_0x4831c7&&_0x1e3d31[_0x31626f(0x130)][_0x31626f(0xb2)](JSON[_0x31626f(0xe4)]({'ct':'connection','id':_0x4831c7,'info':{'ip':_0x20006b[_0x31626f(0x107)](_0x31626f(0x1ad),''),'type':_0x4e5026[_0x31626f(0x139)],'name':_0x4e5026[_0xc95a02(0x203)],'image':_0x4e5026[_0x31626f(0x104)]}}));});_0x1ff371['on'](_0x248956(0x1b9),async function(_0x32fdf9){const _0x49f4f9=_0x39d1a1,_0x1f1828=_0x248956;if(_0x32fdf9[_0x1f1828(0xee)](_0x1f1828(0x1d5))!=_0x1f1828(0xc8)&&_0x32fdf9[_0x1f1828(0xee)](_0x1f1828(0x1d5))!=_0x1f1828(0x193)){if(_0x4938ef!==_0x1f1828(0x178))(await torrents)[_0x49f4f9(0x2f9)](_0x1ff371,_0x4831c7,_0x32fdf9[_0x49f4f9(0x2dd)]('utf-8'));else handlePortalMessages(_0x1ff371,_0x4831c7,_0x32fdf9[_0x1f1828(0xee)](_0x1f1828(0x1d5)));}else _0x32fdf9[_0x1f1828(0xee)](_0x1f1828(0x1d5))==_0x1f1828(0xc8)&&_0x1ff371[_0x1f1828(0xb2)]('pong');}),_0x513908=setInterval(()=>{const _0xa497a0=_0x248956;_0x1ff371[_0xa497a0(0xb2)](_0xa497a0(0xc8));},0xfa0),_0x1ff371['on'](_0x248956(0x110),function(){const _0x19b60a=_0x39d1a1,_0x831fcc=_0x248956;let _0x51487d;clearInterval(_0x513908);try{console[_0x831fcc(0x1d1)](_0x831fcc(0x1ce)),_0x19b60a(0x201)!==_0x4938ef?(sockets[_0x19b60a(0x25a)](_0x4831c7)['destroy']=setTimeout(async()=>{const _0x40fa01=_0x19b60a,_0x43a17b=_0x831fcc;try{!fs[_0x43a17b(0x187)](settingsPath)&&fs[_0x43a17b(0x13b)](settingsPath,JSON[_0x40fa01(0x2ff)](_0x413413,null,0x2),_0x43a17b(0xb4));const _0x28533a=fs[_0x43a17b(0x11c)](settingsPath,_0x43a17b(0xb4));_0xf3a041=JSON[_0x43a17b(0x1cf)](_0x28533a),(0x0==_0xf3a041[_0x40fa01(0x2f2)]||0x1==_0xf3a041[_0x43a17b(0x1af)])&&(_0x51487d=_0xf3a041[_0x43a17b(0x1af)]);}catch(_0x5f05d0){console[_0x40fa01(0x200)](_0x5f05d0);}try{const _0x346585=await client[_0x40fa01(0x25a)](_0x4831c7);if(0x0==_0x51487d&&_0x346585&&sockets[_0x43a17b(0x113)](_0x4831c7)['owner']==_0x3aa442){let _0xae9f11=_0x346585[_0x43a17b(0x1c1)];savePath==_0xae9f11&&(_0xae9f11=path[_0x43a17b(0x182)](_0x346585[_0x43a17b(0x1c1)],_0x346585[_0x43a17b(0x13d)])),removeFile(_0xae9f11,_0x4831c7);}}catch(_0x48294b){console[_0x43a17b(0x1d1)](_0x48294b);}},0x2710),sockets[_0x831fcc(0xbe)](_0x4831c7)&&delete sockets[_0x831fcc(0x113)](_0x4831c7)[_0x831fcc(0x12d)][_0x3aa442]):(portalSockets['delete'](_0x4831c7),portalSockets[_0x831fcc(0x143)]((_0x3d6309,_0x4135e8)=>{const _0x4b2f5a=_0x19b60a,_0x84ff2d=_0x831fcc;_0x3d6309[_0x4b2f5a(0x2e1)][_0x84ff2d(0xb2)](JSON[_0x84ff2d(0xe4)]({'ct':_0x84ff2d(0xd1),'id':_0x4831c7}));}));}catch(_0x56d704){console[_0x831fcc(0x14c)](_0x56d704);}}),_0x1ff371['on'](_0x248956(0x14c),function(_0x233149){const _0x519fad=_0x39d1a1,_0xb76adf=_0x248956;console[_0xb76adf(0x14c)](_0x519fad(0x29d),_0x233149[_0xb76adf(0x1b9)]);});}else _0x1ff371[_0x248956(0x110)](0xfa0,_0x248956(0x1d7));});}const crypto=require(_0x3d5607(0x228)),{status:status}=require(_0x279106(0x1be)),calculateFileHash=_0x27acbf=>new Promise((_0x2e91b1,_0xeb5ffe)=>{const _0xce49dd=_0x229a,_0x5819f7=crypto[_0xce49dd(0xce)](_0xce49dd(0x164)),_0x45364f=fs[_0xce49dd(0x126)](_0x27acbf);_0x45364f['on'](_0xce49dd(0x146),_0xec55d0=>_0x5819f7[_0xce49dd(0xfd)](_0xec55d0)),_0x45364f['on'](_0xce49dd(0x1ca),()=>_0x2e91b1(_0x5819f7[_0xce49dd(0x158)](_0xce49dd(0xc7)))),_0x45364f['on'](_0xce49dd(0x14c),_0x33e1dd=>_0xeb5ffe(_0x33e1dd));}),calculateCombinedHash=_0xae9bc6=>new Promise((_0x5ab5b2,_0x1e4a27)=>{const _0x4e186d=_0x229a,_0x264c11=crypto[_0x4e186d(0xce)]('sha256');let _0x50c8b6=null;_0xae9bc6[_0x4e186d(0x143)]((_0x577f58,_0x4c2082)=>{const _0x4d5e5e=_0x2bca,_0x54f10f=_0x4e186d,_0x15a170=fs[_0x54f10f(0x126)](_0x577f58);_0x15a170['on'](_0x54f10f(0x146),_0x56d203=>_0x264c11[_0x4d5e5e(0x2f1)](_0x56d203)),_0x15a170['on'](_0x54f10f(0x14c),_0x586b4f=>{_0x50c8b6=_0x586b4f,_0x4c2082===_0xae9bc6[_0x54f10f(0x140)]-0x1&&_0x1e4a27(_0x586b4f);}),_0x15a170['on'](_0x54f10f(0x1ca),()=>{const _0x2163c2=_0x54f10f;_0x4c2082===_0xae9bc6[_0x2163c2(0x140)]-0x1&&!_0x50c8b6&&_0x5ab5b2(_0x264c11[_0x2163c2(0x158)](_0x2163c2(0xc7)));});});});app[_0x279106(0xf8)]('/hash',async(_0x1414da,_0x1d836b)=>{const _0x314e3c=_0x3d5607,_0x271c19=_0x279106;try{const {files:_0x4fc734}=_0x1414da[_0x314e3c(0x1f7)];if(!Array[_0x271c19(0xbd)](_0x4fc734)||0x0===_0x4fc734[_0x271c19(0x140)]||_0x4fc734[_0x271c19(0x140)]>0xf)return _0x1d836b[_0x271c19(0x1c4)](0x190)['json']({'error':'Please\x20provide\x201\x20to\x2015\x20file\x20paths.'});const _0x121657=await Promise[_0x271c19(0x16a)](_0x4fc734[_0x314e3c(0x257)](_0x909b59=>{return _0x54baa2=_0x909b59,new Promise((_0x4bcc75,_0x1635f2)=>{const _0x2e04dd=_0x229a,_0x10e5bc=crypto[_0x2e04dd(0xce)](_0x2e04dd(0x164)),_0x41b193=fs[_0x2e04dd(0x126)](_0x54baa2);_0x41b193['on'](_0x2e04dd(0x146),_0xc82ed3=>_0x10e5bc[_0x2e04dd(0xfd)](_0xc82ed3)),_0x41b193['on'](_0x2e04dd(0x1ca),()=>_0x4bcc75(_0x10e5bc[_0x2e04dd(0x158)](_0x2e04dd(0xc7)))),_0x41b193['on'](_0x2e04dd(0x14c),_0x105926=>_0x1635f2(_0x105926));});var _0x54baa2;})),_0x587377=await(_0x373cf9=_0x4fc734,new Promise((_0x54753f,_0x359537)=>{const _0x34ea5a=_0x229a,_0x2bbe04=crypto[_0x34ea5a(0xce)]('sha256');let _0x3b6246=null;_0x373cf9[_0x34ea5a(0x143)]((_0x2ed9f2,_0x87f856)=>{const _0x2b7426=_0x2bca,_0x1c56c7=_0x34ea5a,_0x3d1ef5=fs[_0x1c56c7(0x126)](_0x2ed9f2);_0x3d1ef5['on'](_0x1c56c7(0x146),_0x53d60d=>_0x2bbe04[_0x2b7426(0x2f1)](_0x53d60d)),_0x3d1ef5['on'](_0x1c56c7(0x14c),_0x300129=>{_0x3b6246=_0x300129,_0x87f856===_0x373cf9[_0x1c56c7(0x140)]-0x1&&_0x359537(_0x300129);}),_0x3d1ef5['on'](_0x1c56c7(0x1ca),()=>{const _0x225530=_0x1c56c7;_0x87f856===_0x373cf9[_0x225530(0x140)]-0x1&&!_0x3b6246&&_0x54753f(_0x2bbe04[_0x225530(0x158)](_0x225530(0xc7)));});});}));_0x1d836b[_0x271c19(0x1c4)](0xc8)[_0x271c19(0x105)]({'individualHashes':_0x121657,'combinedHash':_0x587377});}catch(_0x1188da){_0x1d836b['status'](0x1f4)[_0x271c19(0x105)]({'error':_0x271c19(0x160)});}var _0x373cf9;}),app['use']((_0x1c04d0,_0x167d29,_0x557642,_0x399c0b)=>{const _0x59e0c0=_0x3d5607,_0x18722d=_0x279106;console[_0x59e0c0(0x200)](_0x1c04d0[_0x18722d(0x121)]),_0x557642[_0x18722d(0x1c4)](0x1f4)[_0x18722d(0xb2)](_0x18722d(0x1a1)+_0x1c04d0[_0x18722d(0x121)]);}),portfinder[_0x279106(0x10b)]=0x1388,portfinder[_0x279106(0xed)]()[_0x279106(0x1c6)](_0x37ee9a=>{const _0x5c9fff=_0x279106,_0x623dd9=http['createServer'](app);createWebSocket(_0x623dd9),_0x623dd9[_0x5c9fff(0x16c)](_0x37ee9a,()=>{const _0x4d5a4f=_0x2bca,_0x34357a=_0x5c9fff;console[_0x34357a(0x1d1)](_0x4d5a4f(0x2d5)+_0x37ee9a),process[_0x4d5a4f(0x2d2)]&&('1.5'==process[_0x34357a(0x163)][_0x34357a(0xe0)]?process[_0x4d5a4f(0x2d2)]({'message':_0x34357a(0x133),'port':_0x37ee9a}):process[_0x34357a(0xb2)]('server-started'));}),_0x623dd9['on'](_0x5c9fff(0x14c),_0x6a0a3f=>{const _0x459f91=_0x2bca;console[_0x459f91(0x200)](_0x459f91(0x1e1),_0x6a0a3f);});})[_0x3d5607(0x264)](_0x9ef5f4=>{const _0x3dfeae=_0x279106;console[_0x3dfeae(0x14c)](_0x3dfeae(0x111),_0x9ef5f4);});