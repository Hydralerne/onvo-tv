const _0x58f5d9=_0x159c;(function(_0x5e989a,_0x1d9c59){const _0x37a7ca=_0x159c,_0x944312=_0x5e989a();while(!![]){try{const _0x292ba3=parseInt(_0x37a7ca(0x88))/0x1+parseInt(_0x37a7ca(0x9d))/0x2*(-parseInt(_0x37a7ca(0xbe))/0x3)+parseInt(_0x37a7ca(0x94))/0x4*(-parseInt(_0x37a7ca(0xe1))/0x5)+parseInt(_0x37a7ca(0x8f))/0x6*(parseInt(_0x37a7ca(0x130))/0x7)+parseInt(_0x37a7ca(0xbd))/0x8+parseInt(_0x37a7ca(0x11f))/0x9*(parseInt(_0x37a7ca(0xc3))/0xa)+-parseInt(_0x37a7ca(0x169))/0xb;if(_0x292ba3===_0x1d9c59)break;else _0x944312['push'](_0x944312['shift']());}catch(_0xfb6953){_0x944312['push'](_0x944312['shift']());}}}(_0x3fd4,0xcb206));const _0x165005=_0x3cf9;function _0x3c43(){const _0x4a1b41=_0x159c,_0x5a5ea4=['third',_0x4a1b41(0xa7),_0x4a1b41(0x159),_0x4a1b41(0x119),_0x4a1b41(0x10d),_0x4a1b41(0x13f),_0x4a1b41(0x163),_0x4a1b41(0x11b),_0x4a1b41(0x166),_0x4a1b41(0x13a),'163349KmAejm',_0x4a1b41(0x6d),_0x4a1b41(0x15e),'thirteenth',_0x4a1b41(0xcc),'ping',_0x4a1b41(0x107),'info.json',_0x4a1b41(0xe7),_0x4a1b41(0x7e),_0x4a1b41(0x154),'twenty-fourth',_0x4a1b41(0x14c),_0x4a1b41(0x120),_0x4a1b41(0x109),'disable',_0x4a1b41(0xcb),_0x4a1b41(0x149),_0x4a1b41(0x124),_0x4a1b41(0xa4),_0x4a1b41(0x16b),'/pause','Content-Type',_0x4a1b41(0x14d),_0x4a1b41(0xe5),_0x4a1b41(0x9b),_0x4a1b41(0x70),_0x4a1b41(0x104),'./node/party.js',_0x4a1b41(0x113),_0x4a1b41(0xee),'image',_0x4a1b41(0x108),_0x4a1b41(0xc5),'remoteAddress',_0x4a1b41(0xac),_0x4a1b41(0x12e),_0x4a1b41(0x14e),_0x4a1b41(0x139),'clear','/check',_0x4a1b41(0xa1),_0x4a1b41(0x142),_0x4a1b41(0x162),'link',_0x4a1b41(0xd7),_0x4a1b41(0xfe),_0x4a1b41(0xa5),_0x4a1b41(0x8d),_0x4a1b41(0x10f),_0x4a1b41(0x12b),_0x4a1b41(0x13c),_0x4a1b41(0x132),_0x4a1b41(0x11c),_0x4a1b41(0x167),'mkdirSync',_0x4a1b41(0xf9),_0x4a1b41(0xa3),_0x4a1b41(0x13b),_0x4a1b41(0xf2),_0x4a1b41(0x121),_0x4a1b41(0xdb),'https://subdl.com/subtitle/sd',_0x4a1b41(0x16c),_0x4a1b41(0xd4),_0x4a1b41(0x99),_0x4a1b41(0xa0),_0x4a1b41(0xa9),_0x4a1b41(0x77),_0x4a1b41(0xda),_0x4a1b41(0x7b),_0x4a1b41(0x9f),'file_not_found',_0x4a1b41(0xae),_0x4a1b41(0xb6),_0x4a1b41(0x15f),_0x4a1b41(0x14a),_0x4a1b41(0x165),_0x4a1b41(0x9c),_0x4a1b41(0x14b),'fifth',_0x4a1b41(0xc1),_0x4a1b41(0x158),'save','localhost',_0x4a1b41(0x74),_0x4a1b41(0x143),_0x4a1b41(0x89),_0x4a1b41(0xb3),_0x4a1b41(0xab),_0x4a1b41(0x138),_0x4a1b41(0x128),_0x4a1b41(0xd8),_0x4a1b41(0x114),'query',_0x4a1b41(0xff),_0x4a1b41(0x6f),_0x4a1b41(0xb9),_0x4a1b41(0xc9),'Error\x20fetching\x20video:','memory',_0x4a1b41(0x15d),_0x4a1b41(0xca),_0x4a1b41(0xc8),_0x4a1b41(0x8e),_0x4a1b41(0x84),'headers',_0x4a1b41(0xdc),_0x4a1b41(0x76),_0x4a1b41(0xc4),_0x4a1b41(0x15b),_0x4a1b41(0x82),_0x4a1b41(0x10e),_0x4a1b41(0x11a),_0x4a1b41(0xaa),_0x4a1b41(0x146),_0x4a1b41(0x8b),'episode',_0x4a1b41(0xe4),_0x4a1b41(0x141),_0x4a1b41(0xf3),_0x4a1b41(0x157),_0x4a1b41(0x16f),_0x4a1b41(0x131),_0x4a1b41(0x13e),'slug','eleventh','action',_0x4a1b41(0x164),'writeFileSync','twenty-third',_0x4a1b41(0x140),_0x4a1b41(0xe8),'host','writeHead',_0x4a1b41(0x111),'/sets',_0x4a1b41(0x90),_0x4a1b41(0xd1),'no_id_found','no_data_found',_0x4a1b41(0x117),_0x4a1b41(0x7c),_0x4a1b41(0x112),_0x4a1b41(0x148),_0x4a1b41(0xb7),_0x4a1b41(0x8a),_0x4a1b41(0x7d),_0x4a1b41(0x100),'getInfo',_0x4a1b41(0xbc),'trust\x20proxy',_0x4a1b41(0xea),'busboy','root','missed_data','view\x20engine','fifteenth',_0x4a1b41(0xe3),'fourth',_0x4a1b41(0x151),_0x4a1b41(0xfb),_0x4a1b41(0xcf),_0x4a1b41(0x122),_0x4a1b41(0x136),_0x4a1b41(0x168),'HTTP\x20server\x20running\x20on\x20http://localhost:5000',_0x4a1b41(0x8c),_0x4a1b41(0xf0),_0x4a1b41(0xbb),_0x4a1b41(0x147),_0x4a1b41(0xba),_0x4a1b41(0xa6),_0x4a1b41(0x16a),_0x4a1b41(0x12a),_0x4a1b41(0xf4),_0x4a1b41(0x7a),_0x4a1b41(0x80),_0x4a1b41(0x137),_0x4a1b41(0x12f),_0x4a1b41(0xf7),_0x4a1b41(0xd5),_0x4a1b41(0xe0),_0x4a1b41(0x6e),_0x4a1b41(0xef),_0x4a1b41(0x16e),_0x4a1b41(0x73),'params',_0x4a1b41(0x134),_0x4a1b41(0xf1),_0x4a1b41(0xb2),_0x4a1b41(0x105),_0x4a1b41(0x15c),_0x4a1b41(0x78),_0x4a1b41(0xdf),_0x4a1b41(0x96),_0x4a1b41(0x11e),_0x4a1b41(0xaf),_0x4a1b41(0x161),'set',_0x4a1b41(0xce),_0x4a1b41(0xc0),_0x4a1b41(0xdd),_0x4a1b41(0x160),_0x4a1b41(0x155),'scrap',_0x4a1b41(0xf6),_0x4a1b41(0x98),_0x4a1b41(0x12c),_0x4a1b41(0x75),_0x4a1b41(0x93),_0x4a1b41(0x95),'Error\x20moving\x20folder:\x20','Something\x20broke!\x20',_0x4a1b41(0x156),_0x4a1b41(0x10b),_0x4a1b41(0x116),_0x4a1b41(0x79),_0x4a1b41(0xe2),_0x4a1b41(0xd2),_0x4a1b41(0x7f),'eighth',_0x4a1b41(0xe6),_0x4a1b41(0xb0),_0x4a1b41(0x11d),_0x4a1b41(0x123),'player',_0x4a1b41(0xd9),_0x4a1b41(0x83),_0x4a1b41(0x101),_0x4a1b41(0x15a),_0x4a1b41(0xfc),'images',_0x4a1b41(0x135),_0x4a1b41(0x16d),_0x4a1b41(0x145),'express','torrent',_0x4a1b41(0xe9),'sixteenth'];return(_0x3c43=function(){return _0x5a5ea4;})();}!function(_0x7545cb,_0x16411b){const _0xe4649d=_0x159c,_0x479d53=_0x3cf9,_0x377b04=_0x3c43();for(;;)try{if(0x353ce===parseInt(_0x479d53(0x197))/0x1+-parseInt(_0x479d53(0x220))/0x2+parseInt(_0x479d53(0x149))/0x3+-parseInt(_0x479d53(0x1dd))/0x4*(-parseInt(_0x479d53(0x166))/0x5)+parseInt(_0x479d53(0x1d1))/0x6+-parseInt(_0x479d53(0x213))/0x7*(-parseInt(_0x479d53(0x1b4))/0x8)+-parseInt(_0x479d53(0x22d))/0x9)break;_0x377b04[_0xe4649d(0x129)](_0x377b04[_0xe4649d(0xc6)]());}catch(_0x111576){_0x377b04['push'](_0x377b04[_0xe4649d(0xc6)]());}}();const express=require(_0x165005(0x189)),https=require(_0x165005(0x203)),http=require('http'),path=require(_0x165005(0x152)),ejs=require(_0x165005(0x14c)),fs=require('fs'),bodyParser=require(_0x165005(0x156)),subtitles=require(_0x165005(0x161)),providers=require(_0x165005(0x1de)),singleMovie=require(_0x58f5d9(0xa8)),party=require(_0x165005(0x1b3)),ip=require('./node/ip.js'),cors=require(_0x165005(0x1c2)),version=_0x58f5d9(0x12d),WebSocketServer=require('ws')[_0x165005(0x1cd)],app=express(),url=require(_0x58f5d9(0xfc));let isApp=!0x0;app[_0x165005(0x164)](_0x165005(0x22e),!0x0),app[_0x165005(0x1fe)](cors());let allowLocalNetwork=!0x1;app[_0x165005(0x1fe)]((_0x8ce8eb,_0x16a92c,_0x186032)=>{const _0x57ead0=_0x58f5d9,_0x3071f7=_0x165005;_0x16a92c[_0x3071f7(0x153)](_0x3071f7(0x170),'*');const _0x368a32=_0x8ce8eb['ip'];return _0x8ce8eb[_0x3071f7(0x201)][_0x3071f7(0x21c)][_0x57ead0(0x98)](_0x3071f7(0x1eb))||_0x57ead0(0x126)===_0x368a32||_0x57ead0(0xfd)===_0x368a32?_0x186032():allowLocalNetwork?void _0x186032():_0x16a92c[_0x3071f7(0x163)](0x193)[_0x3071f7(0x18e)](_0x3071f7(0x188));}),app[_0x165005(0x1fe)](bodyParser['json']()),app[_0x165005(0x1fe)](bodyParser['urlencoded']({'extended':!0x0})),app[_0x165005(0x1fe)](express[_0x165005(0x148)]({'limit':_0x165005(0x211)})),app[_0x165005(0x164)](_0x165005(0x142),[path['join'](__dirname,_0x165005(0x14c),_0x165005(0x181)),path[_0x165005(0x221)](__dirname,_0x165005(0x14c),_0x165005(0x17f)),path[_0x165005(0x221)](__dirname,_0x165005(0x14c),_0x165005(0x15f)),path[_0x58f5d9(0xd1)](__dirname,_0x165005(0x14c),_0x165005(0x1bd)),path[_0x58f5d9(0xd1)](__dirname,_0x165005(0x14c),_0x165005(0x14f)),path[_0x165005(0x221)](__dirname,_0x165005(0x205))]),app[_0x165005(0x164)](_0x165005(0x233),_0x58f5d9(0xf4)),app[_0x165005(0x1fe)](express[_0x165005(0x1f0)](path[_0x165005(0x221)](__dirname,_0x58f5d9(0x15b)))),app[_0x165005(0x1d3)](_0x165005(0x165),async(_0x469a39,_0x1742f1)=>{const _0x8bdbd4=_0x165005,_0x1bb252=_0x469a39[_0x8bdbd4(0x158)][_0x8bdbd4(0x180)],_0x471513=await party[_0x8bdbd4(0x1c0)](_0x1bb252);_0x1742f1[_0x8bdbd4(0x1aa)](_0x8bdbd4(0x198),{'req':_0x469a39,'data':_0x471513});}),app[_0x165005(0x1d3)](_0x165005(0x1f4),async(_0xc6a5fc,_0x4b3ce8)=>{const _0x4c3330=_0x58f5d9,_0x33245b=_0x165005,_0x2443aa=_0xc6a5fc[_0x4c3330(0x115)][_0x33245b(0x173)],_0x1fa05e=_0xc6a5fc[_0x4c3330(0x115)]['id'],_0x11ea6f=await singleMovie[_0x33245b(0x1c0)](_0x2443aa,_0x1fa05e);_0x4b3ce8[_0x4c3330(0xa4)](_0x4c3330(0xf5),{'req':_0xc6a5fc,'data':_0x11ea6f});}),app[_0x165005(0x1d3)](_0x58f5d9(0x152),async(_0x383338,_0x4e1bf3)=>{const _0x265fd2=_0x165005,{type:_0x523e0e,endpoint:_0x3fe3ab}=_0x383338[_0x265fd2(0x158)],_0x1ea40d=await singleMovie[_0x265fd2(0x1c0)](_0x523e0e,_0x3fe3ab);_0x1ea40d?_0x4e1bf3[_0x265fd2(0x1aa)](_0x265fd2(0x14f),{'req':_0x383338,'data':_0x1ea40d}):_0x4e1bf3[_0x265fd2(0x148)]({'error':_0x265fd2(0x223)});}),app[_0x165005(0x1d3)]('/',(_0x11fe5b,_0x47fcf2)=>{const _0x56b333=_0x58f5d9;_0x47fcf2[_0x165005(0x1aa)](_0x56b333(0x72),{'req':_0x11fe5b});}),app[_0x58f5d9(0x121)](_0x58f5d9(0x91),async(_0x264bc3,_0x532362)=>{const _0x2518a8=_0x58f5d9,_0x4a9a2c=_0x165005;try{const {type:_0xd0c0a7,folder:_0x37cc12,file:_0x105d99}=_0x264bc3[_0x4a9a2c(0x158)];if(_0xd0c0a7!==_0x4a9a2c(0x20e)&&_0xd0c0a7!==_0x4a9a2c(0x1f2)||!_0x105d99[_0x4a9a2c(0x1b8)](_0x4a9a2c(0x228))&&!_0x105d99[_0x4a9a2c(0x1b8)](_0x4a9a2c(0x195)))return _0x532362[_0x2518a8(0x161)](0x194)[_0x4a9a2c(0x18e)]('');const _0x17cb4f=path[_0x4a9a2c(0x221)](__dirname,_0x4a9a2c(0x14c),_0x37cc12,_0x105d99),_0x3478c0=_0xd0c0a7===_0x4a9a2c(0x20e)?_0x4a9a2c(0x1d7):_0x4a9a2c(0x16d);_0x532362[_0x4a9a2c(0x164)](_0x4a9a2c(0x1ad),_0x3478c0),_0x532362['sendFile'](_0x17cb4f);}catch(_0x2a91d9){console[_0x4a9a2c(0x207)](_0x4a9a2c(0x1c4),_0x2a91d9),_0x532362[_0x4a9a2c(0x163)](0x1f4)[_0x4a9a2c(0x18e)](_0x4a9a2c(0x1e5));}});const videos=new Map(),videosInfo=new Map(),torrentsMap=new Map(),sockets=new Map();async function HandleSos(_0xe1e369,_0x4739c4,_0x2d8c0a){const _0x3ce934=_0x58f5d9,_0x2472e5=_0x165005;try{const _0x4fd664={'mvid':_0xe1e369[_0x2472e5(0x1f5)]['id'],'type':_0xe1e369[_0x2472e5(0x1f5)][_0x2472e5(0x173)],'poster':_0xe1e369[_0x2472e5(0x1f5)][_0x2472e5(0x178)],'background':_0xe1e369[_0x2472e5(0x1f5)][_0x2472e5(0x21e)],'logo':_0xe1e369[_0x2472e5(0x1f5)][_0x2472e5(0x1cb)],'season':_0xe1e369[_0x2472e5(0x1f5)][_0x3ce934(0x119)],'episode':_0xe1e369[_0x2472e5(0x1f5)][_0x2472e5(0x20c)],'name':_0xe1e369[_0x2472e5(0x1f5)][_0x2472e5(0x225)]},_0x1bdec0=await _0x2d8c0a[_0x3ce934(0xd3)](_0xe1e369[_0x2472e5(0x1f5)][_0x2472e5(0x1c3)],_0x4fd664,_0xe1e369[_0x2472e5(0x201)][_0x3ce934(0xde)],videosInfo,torrentsMap,sockets);videos[_0x2472e5(0x164)](_0x1bdec0['id'],{'file':_0x1bdec0[_0x2472e5(0x13e)],'codec':_0x1bdec0[_0x2472e5(0x1bc)],'files':_0x1bdec0[_0x2472e5(0x1ba)]});const _0x52b503={'codec':_0x1bdec0[_0x2472e5(0x1bc)],'downloaded':_0x1bdec0[_0x2472e5(0x17c)],'id':_0x1bdec0['id'],'size':_0x1bdec0[_0x3ce934(0x15e)],'path':_0x1bdec0[_0x2472e5(0x152)],'space':_0x1bdec0[_0x2472e5(0x1ec)],'name':_0x1bdec0[_0x2472e5(0x225)],'magnate':_0x1bdec0[_0x2472e5(0x229)],'status':_0x2472e5(0x1f1),'origin':_0x2472e5(0x1b1)};videosInfo[_0x3ce934(0xed)](_0x1bdec0['id'],_0x52b503),_0x4739c4[_0x2472e5(0x163)](0xc8)[_0x3ce934(0xba)](_0x52b503);}catch(_0xb70d65){if(_0xb70d65[_0x2472e5(0x173)]==_0x2472e5(0x15e)){const _0x35b370=videosInfo[_0x2472e5(0x1d3)](_0xb70d65['id']);_0x4739c4[_0x2472e5(0x163)](0xc8)[_0x3ce934(0xba)]({'id':_0xb70d65['id'],'type':_0xb70d65[_0x2472e5(0x173)],'downloaded':_0xb70d65[_0x3ce934(0xb0)],'size':_0x35b370?.[_0x2472e5(0x199)],'path':_0x35b370?.[_0x2472e5(0x152)],'space':_0x35b370?.[_0x2472e5(0x1ec)],'name':_0x35b370?.[_0x3ce934(0x7c)],'magnate':_0xb70d65[_0x2472e5(0x229)],'status':_0x3ce934(0x138),'origin':_0x3ce934(0x70)});}else _0xb70d65[_0x2472e5(0x173)]==_0x2472e5(0x1c9)?_0x4739c4[_0x2472e5(0x163)](0xc8)[_0x3ce934(0xba)]({'status':_0x3ce934(0x10e),'error':_0xb70d65}):_0x4739c4[_0x2472e5(0x163)](0xc8)[_0x2472e5(0x148)](_0xb70d65);}}let torrents=import(_0x165005(0x1af));app[_0x165005(0x1d3)](_0x165005(0x1e8),async(_0x36a00c,_0x35b275)=>{const _0xca54ea=_0x165005;try{HandleSos(_0x36a00c,_0x35b275,await torrents);}catch(_0x3f82ea){console[_0xca54ea(0x207)](_0x3f82ea),_0x35b275[_0xca54ea(0x163)](0x1f4)[_0xca54ea(0x148)](_0x3f82ea);}}),app[_0x58f5d9(0x121)](_0x165005(0x1a7),async(_0x3c2694,_0x2386ad)=>{const _0x1c40f5=_0x58f5d9,_0x511869=_0x165005;try{let _0x50c7a7={},_0x4cf51f=0x0,_0x40b188=0x0,_0x1b6584={};torrentsMap[_0x1c40f5(0xe8)]((_0x128cc5,_0x3b9f71)=>{const _0x242b4b=_0x1c40f5,_0x5b99e0=_0x3cf9;if(_0x3b9f71!==_0x5b99e0(0x1fb)){const _0x2aab9d=_0x128cc5[_0x5b99e0(0x18a)];let _0x326e09={};!_0x2aab9d[_0x242b4b(0x97)]&&(_0x2aab9d[_0x5b99e0(0x1ba)][_0x5b99e0(0x21b)](_0x45a447=>{const _0x1803eb=_0x242b4b,_0x1519e8=_0x5b99e0;_0x326e09={'name':_0x45a447[_0x1803eb(0x7c)],'path':_0x45a447[_0x1519e8(0x152)],'size':_0x45a447[_0x1519e8(0x199)]};}),_0x50c7a7[_0x3b9f71]={'size':_0x2aab9d['length'],'downloaded':_0x2aab9d[_0x242b4b(0xb0)],'path':_0x2aab9d[_0x5b99e0(0x152)],'paused':_0x2aab9d[_0x242b4b(0xc2)]},_0x4cf51f+=_0x2aab9d[_0x5b99e0(0x186)],_0x40b188+=_0x2aab9d[_0x242b4b(0xb0)]);}});try{let _0x18c2e3=path[_0x511869(0x221)](savePath,_0x511869(0x17e));if(fs['existsSync'](_0x18c2e3)){const _0x9e7388=fs[_0x511869(0x1ff)](_0x18c2e3,_0x1c40f5(0x7d));_0x1b6584=JSON[_0x511869(0x16f)](_0x9e7388);}}catch(_0x1e6bd5){console[_0x511869(0x1e3)](_0x1e6bd5);}_0x2386ad[_0x511869(0x148)]({'downloaded':_0x40b188,'size':_0x4cf51f,'data':_0x50c7a7,'save':_0x1b6584[_0x511869(0x1ea)]});}catch(_0x15563e){console[_0x1c40f5(0x10e)](_0x15563e),_0x2386ad[_0x511869(0x163)](0x1f4)[_0x511869(0x148)](_0x15563e);}}),app[_0x165005(0x1d3)](_0x165005(0x1ac),async(_0xb292e6,_0x3113be)=>{const _0x3a8d05=_0x58f5d9,_0x19eb25=_0x165005;try{if('all'==_0xb292e6[_0x19eb25(0x1f5)][_0x19eb25(0x173)])return torrentsMap[_0x19eb25(0x21b)]((_0x3d4d46,_0x330474)=>{const _0x5566f1=_0x159c;_0x3d4d46[_0x5566f1(0x13c)]();}),torrentsMap[_0x19eb25(0x1be)](),void _0x3113be[_0x19eb25(0x148)]({'status':_0x19eb25(0x1f1),'length':torrentsMap[_0x19eb25(0x199)]});if(!_0xb292e6[_0x19eb25(0x1f5)]['id']||!torrentsMap[_0x19eb25(0x13f)](_0xb292e6[_0x19eb25(0x1f5)]['id']))return void _0x3113be[_0x19eb25(0x148)]({'error':_0x19eb25(0x222)});const _0x4ddd94=torrentsMap[_0x19eb25(0x1d3)](_0xb292e6[_0x19eb25(0x1f5)]['id']);_0x4ddd94[_0x19eb25(0x1ca)](_0x4ddd94),torrentsMap[_0x19eb25(0x1a4)](_0xb292e6[_0x19eb25(0x1f5)]['id']),_0x3113be[_0x19eb25(0x148)]({'status':_0x19eb25(0x1f1)});}catch(_0x2f84de){console[_0x3a8d05(0x10e)](_0x2f84de),_0x3113be[_0x19eb25(0x163)](0x1f4)[_0x19eb25(0x148)](_0x2f84de);}}),app[_0x58f5d9(0x121)](_0x165005(0x141),async(_0x34d5fe,_0x76fcf9)=>{const _0xd0b0cc=_0x58f5d9,_0x3904ba=_0x165005;if(videos[_0x3904ba(0x13f)](_0x34d5fe[_0x3904ba(0x1f5)]['id']))try{const _0x4a761b=await videos[_0x3904ba(0x1d3)](_0x34d5fe[_0x3904ba(0x1f5)]['id']),_0x5db83c=_0x4a761b['file'],_0x214b9e=_0x34d5fe[_0x3904ba(0x201)][_0x3904ba(0x18f)],_0x5dd7cb=_0x5db83c[_0x3904ba(0x186)];let _0x73b150,_0x5de45a={'Content-Type':_0x4a761b[_0x3904ba(0x1bc)],'Content-Length':_0x5dd7cb},_0x22e8a0=0xc8;if(_0x214b9e){const _0x441c75=_0x214b9e[_0x3904ba(0x1b0)](/bytes=/,'')[_0x3904ba(0x1ed)]('-'),_0x5db33d=parseInt(_0x441c75[0x0],0xa),_0x32c6c2=_0x441c75[0x1]?parseInt(_0x441c75[0x1],0xa):_0x5dd7cb-0x1,_0x4c69e0=_0x32c6c2-_0x5db33d+0x1;_0x73b150={'start':_0x5db33d,'end':_0x32c6c2},_0x5de45a={'Content-Range':_0xd0b0cc(0xc7)+_0x5db33d+'-'+_0x32c6c2+'/'+_0x5dd7cb,'Accept-Ranges':_0x3904ba(0x140),'Content-Length':_0x4c69e0,'Content-Type':_0x4a761b[_0xd0b0cc(0x14e)]},_0x22e8a0=0xce;}const _0x3194ea=_0x5db83c[_0x3904ba(0x22f)](_0x73b150);_0x3194ea['on'](_0xd0b0cc(0x10e),_0x3aa0c2=>{}),_0x76fcf9[_0x3904ba(0x21d)](_0x22e8a0,_0x5de45a),_0x3194ea[_0x3904ba(0x1db)](_0x76fcf9);}catch(_0x37928d){console[_0xd0b0cc(0x10e)](_0x3904ba(0x1fa),_0x37928d),_0x76fcf9['status'](0x1f4)[_0x3904ba(0x148)]({'error':_0x3904ba(0x154)});}else _0x76fcf9[_0x3904ba(0x163)](0x194)[_0x3904ba(0x148)]({'error':_0x3904ba(0x157)});}),app[_0x58f5d9(0x121)](_0x58f5d9(0x14f),(_0x304d2e,_0x43dd2a)=>{const _0x2a386b=_0x58f5d9,_0x17d0aa=_0x165005;import(_0x2a386b(0x9e))[_0x17d0aa(0x1c5)](async _0x1d0433=>{const _0x1ea14=_0x17d0aa;try{const _0x346ffc=await _0x1d0433[_0x1ea14(0x22c)](savePath);_0x43dd2a[_0x1ea14(0x148)](_0x346ffc);}catch(_0x2b9053){_0x43dd2a[_0x1ea14(0x18e)](_0x2b9053[_0x1ea14(0x1ae)]());}});}),app[_0x165005(0x1d3)](_0x165005(0x175),(_0x3838b7,_0x536e21)=>{const _0x2e4d70=_0x165005;_0x536e21[_0x2e4d70(0x1aa)](_0x2e4d70(0x1bd),{'req':_0x3838b7});}),app[_0x165005(0x1d3)](_0x165005(0x1bf),(_0x54ddd7,_0x5aee5b)=>{const _0x4fdc17=_0x58f5d9,_0x81f49a=_0x165005;_0x5aee5b[_0x81f49a(0x148)]({'status':_0x81f49a(0x1f1),'version':_0x4fdc17(0x12d)});}),app[_0x165005(0x1d3)](_0x165005(0x217),async(_0x505d3c,_0x313b94)=>{const _0x1f3582=_0x58f5d9,_0x5467e9=_0x165005;try{if(_0x505d3c[_0x1f3582(0x115)][_0x5467e9(0x173)]==_0x5467e9(0x1fd)){const _0x1c1f5b=path[_0x5467e9(0x221)](decodeURIComponent(_0x505d3c[_0x1f3582(0x115)][_0x1f3582(0xb4)]),_0x5467e9(0x19e)),_0x5e5eca=fs[_0x1f3582(0x8e)](_0x1c1f5b,_0x5467e9(0x22a)),_0x3fb974=JSON[_0x5467e9(0x16f)](_0x5e5eca);if(delete _0x3fb974[_0x5467e9(0x14e)][_0x505d3c[_0x5467e9(0x1f5)][_0x5467e9(0x190)]][_0x5467e9(0x1d6)][_0x505d3c[_0x5467e9(0x1f5)][_0x5467e9(0x20c)]],0x0==Object[_0x1f3582(0x11b)](_0x3fb974[_0x1f3582(0x80)][_0x505d3c[_0x5467e9(0x1f5)][_0x5467e9(0x190)]][_0x5467e9(0x1d6)])[_0x5467e9(0x186)])return fs[_0x5467e9(0x19b)](decodeURIComponent(_0x505d3c[_0x5467e9(0x1f5)][_0x5467e9(0x231)]),{'recursive':!0x0,'force':!0x0}),void _0x313b94[_0x5467e9(0x148)]({'status':_0x5467e9(0x1f1)});fs[_0x5467e9(0x218)](_0x1c1f5b,JSON[_0x5467e9(0x209)](_0x3fb974,null,0x2),_0x1f3582(0x7d),_0x10547b=>{_0x10547b&&console['log'](_0x10547b);});}if(!decodeURIComponent(_0x505d3c[_0x1f3582(0x115)][_0x1f3582(0xd5)])||!isSubpath(decodeURIComponent(_0x505d3c[_0x5467e9(0x1f5)][_0x1f3582(0xd5)])))return void _0x313b94[_0x1f3582(0xba)]({'error':_0x5467e9(0x1d9)});path='series'==_0x505d3c[_0x5467e9(0x1f5)][_0x5467e9(0x173)]?path[_0x5467e9(0x221)](decodeURIComponent(_0x505d3c[_0x5467e9(0x1f5)][_0x5467e9(0x231)]),_0x505d3c[_0x1f3582(0x115)][_0x1f3582(0x119)],_0x505d3c[_0x5467e9(0x1f5)][_0x1f3582(0x153)]):decodeURIComponent(_0x505d3c[_0x5467e9(0x1f5)][_0x1f3582(0xd5)]),console[_0x5467e9(0x1e3)](path),fs[_0x5467e9(0x19b)](decodeURIComponent(_0x505d3c['query'][_0x5467e9(0x152)]),{'recursive':!0x0,'force':!0x0}),_0x313b94[_0x5467e9(0x148)]({'status':_0x5467e9(0x1f1)});}catch(_0x3a68a0){_0x313b94['json']({'error':_0x3a68a0});}});let rootPath=isApp?process[_0x165005(0x146)][0x2]:_0x165005(0x16e);function _0x159c(_0x30cde1,_0x15cb81){const _0x3fd4fa=_0x3fd4();return _0x159c=function(_0x159c1c,_0x52a023){_0x159c1c=_0x159c1c-0x6d;let _0x2ce1de=_0x3fd4fa[_0x159c1c];return _0x2ce1de;},_0x159c(_0x30cde1,_0x15cb81);}try{if(fs[_0x58f5d9(0x146)](rootPath))try{fs['writeFileSync'](path[_0x165005(0x221)](rootPath,_0x165005(0x1dc)),JSON[_0x165005(0x209)]({},null,0x2),_0x165005(0x22a));}catch(_0x3dc61a){rootPath=path[_0x165005(0x221)](__dirname,_0x165005(0x1da));}else fs[_0x58f5d9(0xf8)](rootPath,{'recursive':!0x0}),console[_0x165005(0x1e3)](_0x165005(0x16b),rootPath);}catch(_0x421d55){rootPath=path[_0x165005(0x221)](__dirname,_0x165005(0x1da)),console[_0x165005(0x207)](_0x421d55);}const offlineRootPath=isApp?__dirname:_0x165005(0x16e);let savePath=path[_0x165005(0x221)](rootPath,_0x165005(0x18b)),settingsPath=path[_0x165005(0x221)](rootPath,_0x165005(0x17e));function _0x3cf9(_0x4febc9,_0x422ec2){const _0x276d18=_0x3c43();return(_0x3cf9=function(_0x46a156,_0x2ad7d4){return _0x276d18[_0x46a156-=0x13d];})(_0x4febc9,_0x422ec2);}function moveFolder(_0x2cd455,_0x2ecb5f){const _0x40fc81=_0x165005;fs[_0x40fc81(0x1cf)](_0x2cd455,_0x2ecb5f,_0x2998bb=>{const _0x5a961a=_0x159c,_0x171453=_0x40fc81;_0x2998bb?console[_0x171453(0x207)](_0x171453(0x171)+_0x2998bb):console[_0x171453(0x1e3)](_0x171453(0x1e2)+_0x2cd455+_0x5a961a(0xb1)+_0x2ecb5f);});}function _0x3fd4(){const _0x32fb69=['downloaded','\x20to\x20','twenty-sixth','normalize','root','srt','close','.js','writeFileSync','seventh','json','argv','7029162izrMjF','13286184TYshyl','509610xVgWkl','tenth','20UYeLCA','/videoadd','paused','500ODFcOu','false','endsWith','shift','bytes\x20','use','startsWith','series','/torrents','rmSync','/watch?locale=','/party/:endpoint','has','slug','join','poster','getVideo','text/css','path','clear','Error:','owner','endpoint','test.json','twenty-ninth','closed','https://image.tmdb.org/t/p/','authorization','policy','header','5gsAOrR','end','Upload\x20complete','socket','./node/cores.mjs','nineteenth','second','forEach','downloads','createReadStream','\x27\x20(','eighteenth','set','The\x20deletePath\x20is\x20outside\x20of\x20the\x20savePath\x20folder','val','fourteenth','ftusers','Content-Disposition','qrcode','ejs','player','Directory\x20created:','WebSocket\x20error:','mkdirSync','rename','thirty-sixth','file','url','::1','then','body','post','WebSocket\x20disconnected','user\x20seted','first','finish','utf-8','/subtitles/zip','offline','extname','Error\x20deleting\x20path:\x20','.srt','-season','handleIncomming','server-started','error',':5000?magic_portal=true','seventeenth','background','Failed\x20to\x20get\x20\x27','1882280CMaDNM','/player','query','/download','resolve','.json','season','getNetwork','entries','user','twenty-eighth','./node/subtitles.js','264483FGAAKC','delete','get','bytes','settings.json','attachment;\x20filename=\x22','File\x20[','127.0.0.1','/providers','private_js','push','/setsrt','no_avilable_space','text/javascript','1.5','concat','/chache','446089ikxCNo','http://localhost:5000/local?path=','logo','ping','alloc','length','/videoget','singleMovie','success','download','message','1393710rWAudv','destroy','users','7rtTLvM','sendFile','subtitles','private_css','destroyed\x20cleared','split','http://','Access\x20denied','existsSync','statusCode','Error\x20downloading\x20','stack','log','listen','https://www.themoviedb.org/','toString','codec','/files',']\x20finished','thirty-fourth','/:type(movie|series)/:endpoint','episode','removed','frusers','type','getZip','createServer','range','thirty-third','public','twentieth','twenty-first','size','Folder\x20moved\x20from\x20','/videoshare','status','cors','basename','/delete','portal','.css','WebSocketServer','views','23233364ACCMda','thirtieth','begining','episodes','Invalid\x20structure','body-parser','850kb','partyIn','Error\x20fetching\x20video','data','tv.onvo.me','Path\x20deleted\x20successfully','homePage','no_video_found','space','/ONVO\x20TV','https','pipe','duplicate_torrent','thirty-second','::ffff:','59516pgfxon','name','utf8','value','device','seasons','ninth','pong','party','connection','createWriteStream','twenty-second','/network','77625qFIsun','twelfth','magnate','key','true','/subtitles','readFileSync','114HkuIRy','206144WUsPNe','/:type(private_css|private_js)/:folder/:file','thirty-fifth','parse','461884RKLmZe','Access-Control-Allow-Origin','/local','done','includes','setHeader','toDataURL','replace','Internal\x20Server\x20Error','16PJIjBQ','./node/info.js','./node/providers.js','no_path','getData','/info','headersSent','render','/subtitles/parse','1235151lkgFek','send','./node/singleMovie.js','../','stringify','static','files','link','cache\x20cleared','region'];_0x3fd4=function(){return _0x32fb69;};return _0x3fd4();}function isSubpath(_0x2b7165){const _0x2ba1c4=_0x58f5d9,_0x5afb93=_0x165005,_0xbb5c61=path[_0x5afb93(0x224)](savePath);return path[_0x2ba1c4(0x117)](_0x2b7165)[_0x5afb93(0x1f9)](_0xbb5c61);}app[_0x165005(0x1d3)](_0x58f5d9(0xa2),async(_0x1f1062,_0x56e372)=>{const _0x1799a0=_0x58f5d9,_0x2c0734=_0x165005;try{let _0x1b9e21={'save':!0x0};if(!fs[_0x2c0734(0x20a)](settingsPath))return fs[_0x2c0734(0x218)](settingsPath,JSON[_0x2c0734(0x209)](_0x1b9e21,null,0x2),_0x2c0734(0x22a)),void _0x56e372[_0x2c0734(0x148)]({'status':_0x2c0734(0x1f1)});const _0x2335b8=fs[_0x2c0734(0x1ff)](settingsPath,_0x2c0734(0x22a));_0x1b9e21=JSON[_0x2c0734(0x16f)](_0x2335b8),_0x1b9e21[_0x2c0734(0x152)]&&(savePath=_0x1b9e21[_0x1799a0(0xd5)]),_0x56e372[_0x2c0734(0x148)]({'path':savePath,'save':_0x1b9e21['save']});}catch(_0x402b64){console[_0x2c0734(0x1e3)](_0x402b64),_0x56e372[_0x2c0734(0x148)]({'error':_0x402b64});}}),app[_0x165005(0x1d3)](_0x165005(0x21f),async(_0x2a1419,_0x7dfc8e)=>{const _0x46734c=_0x58f5d9,_0x24df49=_0x165005;try{let _0x579922={},_0x1bb502=_0x2a1419[_0x24df49(0x1f5)][_0x24df49(0x20b)];if((_0x2a1419[_0x24df49(0x1f5)][_0x24df49(0x155)]===_0x24df49(0x144)||_0x2a1419[_0x24df49(0x1f5)][_0x24df49(0x155)]===_0x24df49(0x204))&&(_0x1bb502=_0x2a1419[_0x24df49(0x1f5)][_0x24df49(0x155)]===_0x24df49(0x144)),!fs[_0x24df49(0x20a)](settingsPath))return _0x579922[_0x2a1419[_0x24df49(0x1f5)][_0x24df49(0x20b)]]=_0x1bb502,fs[_0x24df49(0x218)](settingsPath,JSON[_0x46734c(0xaa)](_0x579922,null,0x2),_0x24df49(0x22a)),void _0x7dfc8e[_0x24df49(0x148)]({'status':_0x46734c(0x138)});const _0x2c5f98=fs[_0x24df49(0x1ff)](settingsPath,_0x46734c(0x7d));_0x579922=JSON[_0x24df49(0x16f)](_0x2c5f98),_0x579922[_0x2a1419[_0x24df49(0x1f5)][_0x24df49(0x20b)]]=_0x1bb502,fs[_0x24df49(0x218)](settingsPath,JSON[_0x24df49(0x209)](_0x579922),_0x24df49(0x22a)),_0x2a1419[_0x24df49(0x1f5)]['key']==_0x24df49(0x152)&&moveFolder(savePath,_0x2a1419[_0x24df49(0x1f5)][_0x24df49(0x1a0)]),_0x7dfc8e[_0x24df49(0x148)]({'status':_0x24df49(0x1f1)});}catch(_0x1b7388){console[_0x24df49(0x207)](_0x1b7388),_0x7dfc8e[_0x46734c(0xba)]({'error':_0x1b7388});}}),app[_0x165005(0x1d3)](_0x165005(0x1c7),async(_0x1d855e,_0x237b5c)=>{const _0x43092c=_0x58f5d9,_0xd55e5f=_0x165005,_0x410a0e={};for(let _0x2db065=0x1;_0x2db065<=0x24;_0x2db065++)_0x410a0e[_0x2db065[_0x43092c(0x14d)]()]=(0x1===_0x2db065?_0x43092c(0x103):0x2===_0x2db065?_0xd55e5f(0x19f):0x3===_0x2db065?_0xd55e5f(0x18d):0x4===_0x2db065?_0xd55e5f(0x236):0x5===_0x2db065?_0xd55e5f(0x1e7):0x6===_0x2db065?'sixth':0x7===_0x2db065?_0xd55e5f(0x1f8):0x8===_0x2db065?_0xd55e5f(0x17a):0x9===_0x2db065?_0x43092c(0x81):0xa===_0x2db065?_0x43092c(0xbf):0xb===_0x2db065?_0xd55e5f(0x215):0xc===_0x2db065?_0xd55e5f(0x1ee):0xd===_0x2db065?_0xd55e5f(0x19a):0xe===_0x2db065?_0xd55e5f(0x145):0xf===_0x2db065?_0xd55e5f(0x234):0x10===_0x2db065?_0xd55e5f(0x18c):0x11===_0x2db065?_0x43092c(0x110):0x12===_0x2db065?_0x43092c(0xec):0x13===_0x2db065?_0xd55e5f(0x17b):0x14===_0x2db065?_0xd55e5f(0x15d):0x15===_0x2db065?_0xd55e5f(0x1fc):0x16===_0x2db065?_0x43092c(0x86):0x17===_0x2db065?_0xd55e5f(0x219):0x18===_0x2db065?_0xd55e5f(0x1a2):0x19===_0x2db065?'twenty-fifth':0x1a===_0x2db065?_0xd55e5f(0x15b):0x1b===_0x2db065?'twenty-seventh':0x1c===_0x2db065?_0xd55e5f(0x17d):0x1d===_0x2db065?_0xd55e5f(0x1d4):0x1e===_0x2db065?_0xd55e5f(0x14a):0x1f===_0x2db065?'thirty-first':0x20===_0x2db065?_0xd55e5f(0x176):0x21===_0x2db065?_0xd55e5f(0x183):0x22===_0x2db065?_0xd55e5f(0x13d):0x23===_0x2db065?_0x43092c(0x92):_0x43092c(0xfa))+_0xd55e5f(0x174);const _0x2664ce=_0x1d855e[_0xd55e5f(0x1f5)][_0xd55e5f(0x190)]?_0x410a0e[_0x1d855e['query'][_0xd55e5f(0x190)]]:'',_0x43511e=_0xd55e5f(0x1d5)+_0x1d855e[_0xd55e5f(0x1f5)]['id']+'/'+_0x1d855e[_0xd55e5f(0x1f5)][_0x43092c(0xd0)]+'/'+_0x2664ce,_0x9585f4=await subtitles[_0xd55e5f(0x16a)](_0x43511e);_0x237b5c[_0x43092c(0xba)](_0x9585f4);}),app[_0x165005(0x22b)](_0x165005(0x1c6),(_0x3b7fbe,_0x54c5ed)=>{const _0x47fc16=_0x165005,_0x330d75=require(_0x47fc16(0x230))({'headers':_0x3b7fbe[_0x47fc16(0x201)]});let _0x9ff2e1=Buffer[_0x47fc16(0x159)](0x0);_0x330d75['on'](_0x47fc16(0x13e),(_0x5ab4d8,_0xb24690,_0x2a5da9,_0x2cc6eb,_0x10cb85)=>{const _0x1dafb4=_0x47fc16;_0xb24690['on'](_0x1dafb4(0x1f7),_0x18bf65=>{_0x9ff2e1=Buffer[_0x1dafb4(0x1bb)]([_0x9ff2e1,_0x18bf65]);}),_0xb24690['on'](_0x1dafb4(0x177),()=>{const _0x1293e0=_0x159c;console[_0x1dafb4(0x1e3)](_0x1293e0(0x125)+_0x5ab4d8+_0x1293e0(0x150));});}),_0x330d75['on'](_0x47fc16(0x1b2),async()=>{const _0x2e6ed0=_0x159c,_0x581f7b=_0x47fc16;console[_0x581f7b(0x1e3)](_0x581f7b(0x235));const _0x5506b8=await subtitles[_0x581f7b(0x16f)](_0x9ff2e1);console[_0x581f7b(0x1e3)](_0x5506b8),_0x54c5ed[_0x581f7b(0x18e)](_0x9ff2e1[_0x581f7b(0x1ae)](_0x2e6ed0(0x105)));}),_0x3b7fbe[_0x47fc16(0x1db)](_0x330d75);}),app[_0x165005(0x1d3)](_0x58f5d9(0x106),async(_0xa13fbf,_0x267ae6)=>{const _0x29ceaa=_0x58f5d9,_0x215f69=_0x165005;try{const _0x1c68a1=_0xa13fbf['query'][_0x29ceaa(0xfc)],_0x221e59=await subtitles[_0x215f69(0x210)](_0x1c68a1);_0x267ae6[_0x215f69(0x148)](_0x221e59);}catch(_0x212d9d){console[_0x215f69(0x1e3)](_0x212d9d),_0x267ae6[_0x215f69(0x163)](0x190)[_0x215f69(0x18e)](_0x212d9d[_0x215f69(0x196)]);}}),app[_0x58f5d9(0x121)](_0x58f5d9(0x127),async(_0x52ccbf,_0x16b3f0)=>{const _0x483a50=_0x58f5d9,_0x377198=_0x165005;try{const _0x16959f=await providers[_0x377198(0x16a)](_0x377198(0x1a3)+_0x52ccbf[_0x483a50(0x115)][_0x377198(0x173)]['replace'](_0x377198(0x1fd),'tv')+'/'+_0x52ccbf[_0x377198(0x1f5)][_0x377198(0x214)]+_0x483a50(0xcd)+_0x52ccbf[_0x377198(0x1f5)][_0x377198(0x162)]);_0x16b3f0[_0x377198(0x148)](_0x16959f);}catch(_0x1281ae){console[_0x377198(0x1e3)](_0x1281ae),_0x16b3f0[_0x377198(0x163)](0x190)['send'](_0x1281ae[_0x377198(0x196)]);}}),app[_0x165005(0x1d3)](_0x165005(0x160),(_0x36ea2d,_0x325abe)=>{const _0x3ecf95=_0x58f5d9,_0x4aab7a=_0x165005;try{const _0x5c19a1=decodeURIComponent(_0x36ea2d[_0x3ecf95(0x115)][_0x4aab7a(0x152)]);if(!_0x5c19a1||!fs[_0x4aab7a(0x20a)](_0x5c19a1))return _0x325abe[_0x4aab7a(0x163)](0x194)[_0x4aab7a(0x148)]({'error':_0x4aab7a(0x1df)});const _0x4f4579=path[_0x4aab7a(0x193)](_0x5c19a1);_0x325abe[_0x4aab7a(0x1d8)](_0x4aab7a(0x1d2),_0x4aab7a(0x1a9)+_0x4f4579+'\x22'),_0x325abe[_0x4aab7a(0x192)](path[_0x3ecf95(0x117)](_0x5c19a1),_0x97d8c8=>{const _0x21d4d8=_0x4aab7a;_0x97d8c8&&(console[_0x21d4d8(0x207)](_0x97d8c8),!_0x325abe[_0x21d4d8(0x1d0)]&&_0x325abe[_0x21d4d8(0x163)](0x1f4)['send'](_0x97d8c8[_0x21d4d8(0x196)]));});}catch(_0x13d711){!_0x325abe[_0x3ecf95(0xa3)]&&_0x325abe[_0x4aab7a(0x163)](0x190)[_0x4aab7a(0x148)]({'error':_0x13d711[_0x4aab7a(0x196)]}),console[_0x3ecf95(0x10e)](_0x13d711);}}),app[_0x165005(0x22b)](_0x165005(0x14b),(_0x34c55b,_0x330d0d)=>{const _0x491c19=_0x58f5d9,_0x5e9a76=_0x165005,_0x488f27=_0x34c55b[_0x5e9a76(0x1f6)][_0x5e9a76(0x152)],_0x30c6df=_0x34c55b[_0x5e9a76(0x1f6)][_0x491c19(0xb5)];if(_0x30c6df&&_0x488f27)try{let _0x1b592f;if(0x1==_0x34c55b[_0x5e9a76(0x1f6)]['append']){let _0x306477=path[_0x5e9a76(0x221)](rootPath,_0x5e9a76(0x18b),_0x5e9a76(0x21a));!fs[_0x5e9a76(0x20a)](_0x306477)&&fs[_0x5e9a76(0x1ce)](_0x306477,{'recursive':!0x0}),_0x1b592f=path[_0x5e9a76(0x221)](_0x306477,_0x488f27),fs[_0x491c19(0xb8)](_0x1b592f,_0x30c6df,'utf8'),console[_0x491c19(0x14a)](_0x1b592f);}else{const _0x5df293=path[_0x5e9a76(0x1b7)](_0x488f27);_0x1b592f=_0x488f27[_0x491c19(0x9b)](_0x5df293,_0x491c19(0x10a)),fs[_0x5e9a76(0x218)](_0x1b592f,_0x30c6df,_0x5e9a76(0x22a));}_0x330d0d[_0x5e9a76(0x148)]({'url':_0x5e9a76(0x212)+encodeURIComponent(_0x1b592f)});}catch(_0x1345f4){console[_0x5e9a76(0x207)](_0x1345f4);}else _0x330d0d[_0x491c19(0xba)]({'error':_0x5e9a76(0x232)});}),app[_0x58f5d9(0x100)](_0x58f5d9(0x87),async(_0x4ffd23,_0x588474)=>{const _0x4bbb61=_0x58f5d9,_0x1dff7e=_0x165005;try{if(_0x4ffd23[_0x1dff7e(0x1f6)][_0x1dff7e(0x216)]==_0x1dff7e(0x1a6))return allowLocalNetwork=!0x1,void _0x588474[_0x1dff7e(0x148)]({'status':_0x4bbb61(0x138)});const _0x244cd6=await ip[_0x4bbb61(0x11a)](_0x4ffd23[_0x1dff7e(0x1f5)][_0x1dff7e(0x144)]===_0x1dff7e(0x144));allowLocalNetwork=!0x0;const _0x4c879e=require(_0x1dff7e(0x20f));try{let _0x462247=await _0x4c879e[_0x4bbb61(0x9a)](_0x4bbb61(0x144)+_0x244cd6['ip']+_0x1dff7e(0x1c8));_0x244cd6['qr']=_0x462247;}catch(_0x51d202){console[_0x4bbb61(0x10e)](_0x51d202);}_0x588474[_0x1dff7e(0x148)](_0x244cd6);}catch(_0xce8173){_0x588474[_0x1dff7e(0x163)](0x1f4)[_0x1dff7e(0x148)]({'error':_0xce8173['message']});}}),app[_0x165005(0x22b)](_0x165005(0x168),async(_0x2f37d9,_0xb8efb)=>{const _0x12c13b=_0x58f5d9,_0x197bea=_0x165005;try{if('disable'==_0x2f37d9[_0x197bea(0x1f6)][_0x197bea(0x216)])return allowLocalNetwork=!0x1,void _0xb8efb[_0x197bea(0x148)]({'status':_0x12c13b(0x138)});const _0x1b5b91=await ip[_0x197bea(0x208)](_0x2f37d9[_0x197bea(0x1f5)][_0x197bea(0x144)]===_0x197bea(0x144));allowLocalNetwork=!0x0;const _0x4eac21=require(_0x197bea(0x20f));try{let _0x3709c7=await _0x4eac21['toDataURL'](_0x2f37d9[_0x197bea(0x1f6)][_0x197bea(0x184)]);_0x1b5b91['qr']=_0x3709c7;}catch(_0x256247){console[_0x197bea(0x207)](_0x256247);}_0xb8efb[_0x197bea(0x148)](_0x1b5b91);}catch(_0x5bd12d){_0xb8efb[_0x197bea(0x163)](0x1f4)[_0x12c13b(0xba)]({'error':_0x5bd12d[_0x197bea(0x196)]});}});let imagesGloabl=[];const downloadImage=(_0x5d746d,_0x18daeb)=>new Promise((_0x502b49,_0x155e3e)=>{const _0x44bd47=_0x3cf9;https[_0x44bd47(0x1d3)](_0x5d746d,_0x4becfa=>{const _0x24bfcc=_0x159c,_0x2b9bff=_0x44bd47;if(0xc8!==_0x4becfa[_0x2b9bff(0x147)])return _0x155e3e(new Error(_0x2b9bff(0x226)+_0x5d746d+_0x24bfcc(0xeb)+_0x4becfa[_0x24bfcc(0x147)]+')'));const _0x5c5804=fs[_0x24bfcc(0x85)](_0x18daeb);_0x4becfa[_0x24bfcc(0x77)](_0x5c5804),_0x5c5804['on'](_0x2b9bff(0x1b2),_0x502b49),_0x5c5804['on'](_0x2b9bff(0x207),_0x155e3e);})['on'](_0x44bd47(0x207),_0x492215=>{_0x155e3e(_0x492215);});}),downloadImages=async _0x306001=>{const _0x3b6b93=_0x58f5d9,_0x5705ba=_0x165005,_0x1bc818=path[_0x5705ba(0x221)](offlineRootPath,_0x5705ba(0x205),_0x5705ba(0x19d),_0x5705ba(0x18b));if(!fs[_0x5705ba(0x20a)](_0x1bc818)&&fs[_0x5705ba(0x1ce)](_0x1bc818),_0x306001){for(const [_0x17d566,_0x3da436]of _0x306001[_0x5705ba(0x194)]())try{const _0x389172=_0x3da436[_0x3b6b93(0x9b)](_0x5705ba(0x167),'')[_0x5705ba(0x1ed)]('/');if(imagesGloabl[_0x5705ba(0x16c)](_0x389172[0x1]))continue;!fs[_0x3b6b93(0x146)](path[_0x5705ba(0x221)](_0x1bc818,_0x389172[0x0]))&&fs[_0x3b6b93(0xf8)](path[_0x5705ba(0x221)](_0x1bc818,_0x389172[0x0]),{'recursive':!0x0});const _0x5f50f6=path[_0x5705ba(0x221)](_0x1bc818,_0x389172[0x0],_0x389172[0x1]);!fs[_0x5705ba(0x20a)](_0x5f50f6)&&(await downloadImage(_0x3da436,_0x5f50f6),imagesGloabl[_0x3b6b93(0x129)](_0x389172[0x1]));}catch(_0x10d24e){console[_0x5705ba(0x207)](_0x5705ba(0x227)+_0x3da436+':',_0x10d24e['message']);}}};app[_0x165005(0x22b)](_0x165005(0x150),async(_0x1141c2,_0x430463)=>{const _0x1632f9=_0x58f5d9,_0x464bd2=_0x165005;try{const _0x354a7e=_0x1141c2[_0x464bd2(0x1f6)][_0x1632f9(0xba)],_0x313bb4=_0x1141c2[_0x464bd2(0x1f6)][_0x464bd2(0x185)];if((0x1==_0x1141c2[_0x464bd2(0x1f6)][_0x464bd2(0x1ab)]||0x1==_0x1141c2[_0x464bd2(0x1f6)][_0x1632f9(0xd6)])&&(fs[_0x464bd2(0x19b)](path[_0x464bd2(0x221)](offlineRootPath,_0x464bd2(0x205),_0x464bd2(0x19d)),{'recursive':!0x0,'force':!0x0}),console[_0x464bd2(0x1e3)](_0x464bd2(0x1e0))),_0x1141c2[_0x464bd2(0x1f6)][_0x464bd2(0x1be)])return;const _0x4f84fa=path[_0x464bd2(0x221)](offlineRootPath,_0x1632f9(0x15b),_0x1632f9(0x107),_0x464bd2(0x148));!fs[_0x464bd2(0x20a)](_0x4f84fa)&&fs[_0x464bd2(0x1ce)](_0x4f84fa,{'recursive':!0x0}),Object[_0x464bd2(0x194)](_0x354a7e)[_0x464bd2(0x21b)](([_0xb88aab,_0x4665d7])=>{const _0x53db8b=_0x1632f9,_0x27b70a=_0x464bd2,_0x592c49=path[_0x27b70a(0x221)](_0x4f84fa,_0xb88aab+_0x53db8b(0x118));fs[_0x27b70a(0x218)](_0x592c49,JSON[_0x53db8b(0xaa)](_0x4665d7,null,0x2),_0x27b70a(0x22a));}),downloadImages(_0x313bb4),_0x430463[_0x1632f9(0xba)]({'status':_0x464bd2(0x1f1)});}catch(_0x42e193){_0x430463[_0x464bd2(0x163)](0x1f4)[_0x464bd2(0x148)]({'error':_0x42e193[_0x464bd2(0x196)]});}});const portalSockets=new Map();function removeFile(_0x36657a,_0x1de5dc){const _0x460d15=_0x58f5d9,_0xc52908=_0x165005,_0x32298a=path[_0xc52908(0x1ef)](_0x36657a),_0x851a09=path[_0x460d15(0xb3)](savePath);if(_0x32298a[_0xc52908(0x1f9)](_0x851a09)){fs['rm'](_0x32298a,{'recursive':!0x0,'force':!0x0},_0x2631cc=>{const _0x4a7fbd=_0x460d15,_0x43e5ac=_0xc52908;_0x2631cc?console['error'](_0x43e5ac(0x1a5)+_0x2631cc[_0x43e5ac(0x196)]):console['log'](_0x4a7fbd(0x71));});try{let _0xd89f9b=torrentsMap[_0x460d15(0x121)](_0x1de5dc)[_0x460d15(0xad)];torrentsMap[_0x460d15(0x121)](_0x1de5dc)[_0xc52908(0x18a)][_0xc52908(0x1ca)](),torrentsMap[_0xc52908(0x1a4)](_0x1de5dc),delete torrentsMap[_0xc52908(0x1d3)](_0xc52908(0x1fb))[_0xd89f9b],videosInfo[_0xc52908(0x1a4)](_0x1de5dc);}catch(_0x1c7e20){console[_0xc52908(0x207)](_0x1c7e20);}}else console[_0xc52908(0x207)](_0xc52908(0x1b5));}function handlePortalMessages(_0x57b2ae,_0x22a584,_0x1d2bdb){const _0x116032=_0x58f5d9,_0x554301=_0x165005;try{if(JSON[_0x116032(0x93)](_0x1d2bdb)['ct']==_0x554301(0x15a)){let _0x2eb47c={};portalSockets[_0x554301(0x21b)]((_0x441287,_0x1f9850)=>{const _0x4a814f=_0x116032,_0x56ebc3=_0x554301;_0x2eb47c[_0x1f9850]={'name':_0x441287[_0x56ebc3(0x225)],'ip':_0x441287['ip'],'type':_0x441287[_0x4a814f(0x156)],'image':_0x441287[_0x56ebc3(0x1b6)]};}),_0x57b2ae[_0x554301(0x18e)](JSON[_0x116032(0xaa)]({'ct':_0x554301(0x169),'users':_0x2eb47c}));}}catch(_0x1b7ead){console[_0x554301(0x207)](_0x1b7ead);}}function createWebSocket(_0xa3722c){const _0x22023c=_0x165005,_0x208d59=new WebSocketServer({'server':_0xa3722c});let _0x2dec8d={},_0x239380={'save':isApp};_0x208d59['on'](_0x22023c(0x200),function(_0x253b08,_0x12b0f2){const _0x2f9f23=_0x159c,_0x286420=_0x22023c;let _0x46b24e;const _0x32113f=url[_0x286420(0x16f)](_0x12b0f2[_0x286420(0x184)],!0x0)[_0x286420(0x1f5)];let _0x422018=_0x32113f['id'];const _0x4dc726=_0x32113f[_0x286420(0x1cc)],_0x17fbff=_0x32113f[_0x286420(0x173)],_0x50d9db=_0x12b0f2[_0x286420(0x20d)][_0x286420(0x1b9)];let _0x26410f;if(_0x32113f[_0x2f9f23(0xd8)]==_0x286420(0x144)&&(_0x26410f=_0x4dc726),_0x422018&&_0x4dc726||_0x17fbff===_0x286420(0x1e4)){if(_0x2f9f23(0x165)!==_0x17fbff){let _0x414417;sockets[_0x286420(0x13f)](_0x422018)?(clearTimeout(sockets[_0x286420(0x1d3)](_0x422018)[_0x286420(0x1ca)]),sockets[_0x286420(0x1d3)](_0x422018)[_0x2f9f23(0x13d)][_0x4dc726]=_0x253b08,!sockets[_0x2f9f23(0x121)](_0x422018)[_0x2f9f23(0xd8)]&&(sockets[_0x286420(0x1d3)](_0x422018)[_0x286420(0x1f3)]=_0x26410f),sockets[_0x286420(0x1d3)](_0x422018)['destroy']=null,console['log'](_0x286420(0x1c1))):(sockets[_0x286420(0x164)](_0x422018,{'users':{[_0x4dc726]:_0x253b08},'owner':_0x26410f,'destroy':_0x414417}),console[_0x286420(0x1e3)](_0x2f9f23(0x102)));}else _0x422018=_0x50d9db[_0x286420(0x1b0)](_0x286420(0x14d),''),portalSockets[_0x286420(0x164)](_0x422018,{'socket':_0x253b08,'type':_0x32113f[_0x286420(0x179)],'name':_0x32113f[_0x286420(0x225)],'image':_0x32113f['image']}),portalSockets[_0x286420(0x21b)]((_0x445aa3,_0x188062)=>{const _0x4126f3=_0x2f9f23,_0x4a9dce=_0x286420;_0x188062!==_0x422018&&_0x445aa3[_0x4a9dce(0x20d)][_0x4126f3(0xa7)](JSON[_0x4a9dce(0x209)]({'ct':_0x4126f3(0x84),'id':_0x422018,'info':{'ip':_0x50d9db[_0x4a9dce(0x1b0)](_0x4a9dce(0x14d),''),'type':_0x32113f[_0x4a9dce(0x179)],'name':_0x32113f[_0x4a9dce(0x225)],'image':_0x32113f[_0x4a9dce(0x1b6)]}}));});_0x253b08['on'](_0x2f9f23(0x13a),async function(_0x376919){const _0x56ab80=_0x2f9f23,_0x136e95=_0x286420;if(_0x376919[_0x136e95(0x1ae)](_0x136e95(0x15c))!=_0x136e95(0x19c)&&_0x376919['toString'](_0x136e95(0x15c))!=_0x136e95(0x206)){if(_0x17fbff!==_0x136e95(0x1e4))(await torrents)[_0x56ab80(0x10c)](_0x253b08,_0x422018,_0x376919[_0x56ab80(0x14d)](_0x136e95(0x15c)));else handlePortalMessages(_0x253b08,_0x422018,_0x376919[_0x136e95(0x1ae)](_0x136e95(0x15c)));}else _0x56ab80(0x133)==_0x376919[_0x136e95(0x1ae)](_0x136e95(0x15c))&&_0x253b08[_0x136e95(0x18e)](_0x136e95(0x206));}),_0x46b24e=setInterval(()=>{const _0x20102e=_0x2f9f23;_0x253b08[_0x20102e(0xa7)](_0x20102e(0x133));},0xfa0),_0x253b08['on'](_0x286420(0x1e1),function(){const _0x26c5e5=_0x2f9f23,_0x16ff5a=_0x286420;let _0x1e57a0;clearInterval(_0x46b24e);try{console[_0x16ff5a(0x1e3)](_0x16ff5a(0x182)),_0x17fbff!==_0x16ff5a(0x1e4)?(sockets[_0x16ff5a(0x1d3)](_0x422018)[_0x16ff5a(0x1ca)]=setTimeout(()=>{const _0x5a27b8=_0x159c,_0x3d709c=_0x16ff5a;try{!fs[_0x3d709c(0x20a)](settingsPath)&&fs[_0x3d709c(0x218)](settingsPath,JSON[_0x3d709c(0x209)](_0x239380,null,0x2),_0x3d709c(0x22a));const _0x11bbde=fs[_0x3d709c(0x1ff)](settingsPath,_0x3d709c(0x22a));_0x2dec8d=JSON[_0x5a27b8(0x93)](_0x11bbde),(0x0==_0x2dec8d[_0x3d709c(0x1ea)]||0x1==_0x2dec8d['save'])&&(_0x1e57a0=_0x2dec8d[_0x3d709c(0x1ea)]);}catch(_0x69e370){console[_0x3d709c(0x207)](_0x69e370);}if(console[_0x3d709c(0x1e3)](_0x4dc726),console[_0x3d709c(0x1e3)](sockets[_0x3d709c(0x1d3)](_0x422018)[_0x3d709c(0x1f3)]),0x0==_0x1e57a0&&torrentsMap[_0x3d709c(0x13f)](_0x422018)&&sockets[_0x3d709c(0x1d3)](_0x422018)[_0x5a27b8(0xd8)]==_0x4dc726){let _0x4be6ac=torrentsMap[_0x5a27b8(0x121)](_0x422018)[_0x3d709c(0x18a)][_0x3d709c(0x152)];savePath==_0x4be6ac&&(_0x4be6ac=path[_0x3d709c(0x221)](torrentsMap[_0x3d709c(0x1d3)](_0x422018)[_0x3d709c(0x18a)][_0x3d709c(0x152)],torrentsMap[_0x3d709c(0x1d3)](_0x422018)['torrent'][_0x5a27b8(0x7c)])),console['log'](_0x4be6ac),removeFile(_0x4be6ac,_0x422018),console[_0x3d709c(0x1e3)](_0x3d709c(0x1a1));}},0x2710),sockets[_0x26c5e5(0xcf)](_0x422018)&&delete sockets[_0x16ff5a(0x1d3)](_0x422018)[_0x26c5e5(0x13d)][_0x4dc726]):(portalSockets[_0x16ff5a(0x1a4)](_0x422018),portalSockets[_0x16ff5a(0x21b)]((_0x5aad99,_0x25c69a)=>{const _0x58210a=_0x16ff5a;_0x5aad99[_0x58210a(0x20d)]['send'](JSON[_0x58210a(0x209)]({'ct':_0x58210a(0x202),'id':_0x422018}));}));}catch(_0x281502){console[_0x16ff5a(0x207)](_0x281502);}}),_0x253b08['on'](_0x286420(0x207),function(_0x7a38d0){const _0x2f0db2=_0x286420;console[_0x2f0db2(0x207)](_0x2f0db2(0x151),_0x7a38d0[_0x2f0db2(0x196)]);});}else _0x253b08['close'](0xfa0,_0x286420(0x187));});}app[_0x58f5d9(0xc8)]((_0x1d1698,_0x9a3b54,_0x2cbaae,_0x75a44c)=>{const _0x4c1d1c=_0x58f5d9,_0x3cb51b=_0x165005;console[_0x3cb51b(0x207)](_0x1d1698[_0x4c1d1c(0x149)]),_0x2cbaae[_0x3cb51b(0x163)](0x1f4)[_0x3cb51b(0x18e)](_0x3cb51b(0x172)+_0x1d1698[_0x3cb51b(0x1a8)]);}),http[_0x165005(0x1e9)](app)[_0x165005(0x1e6)](0x1388,()=>{const _0x252693=_0x58f5d9,_0xf03e42=_0x165005;console[_0x252693(0x14a)](_0xf03e42(0x143)),process[_0x252693(0xa7)]&&process[_0xf03e42(0x18e)](_0xf03e42(0x191));});const httpServer=http[_0x165005(0x1e9)]();createWebSocket(httpServer),httpServer[_0x165005(0x1e6)](0x2328,()=>{});