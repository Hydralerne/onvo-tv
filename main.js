const _0x26d3da=_0x32b4;(function(_0x29a426,_0x17261a){const _0x118332=_0x32b4,_0x2f0349=_0x29a426();while(!![]){try{const _0x5c2f0d=-parseInt(_0x118332(0x16a))/0x1+parseInt(_0x118332(0xf6))/0x2+parseInt(_0x118332(0x205))/0x3*(-parseInt(_0x118332(0x199))/0x4)+parseInt(_0x118332(0x156))/0x5*(-parseInt(_0x118332(0xea))/0x6)+parseInt(_0x118332(0x168))/0x7+-parseInt(_0x118332(0x1bb))/0x8*(parseInt(_0x118332(0x138))/0x9)+parseInt(_0x118332(0x1db))/0xa*(parseInt(_0x118332(0x136))/0xb);if(_0x5c2f0d===_0x17261a)break;else _0x2f0349['push'](_0x2f0349['shift']());}catch(_0x43a752){_0x2f0349['push'](_0x2f0349['shift']());}}}(_0x3b0c,0x9ce21));const _0x39ed99=_0x1c3c;!function(_0x1581d5,_0xbc09b2){const _0x368e06=_0x32b4,_0x22aa63=_0x1c3c,_0xcf08da=_0x1c19();for(;;)try{if(0x3dbd8===parseInt(_0x22aa63(0x1a2))/0x1*(-parseInt(_0x22aa63(0x1cc))/0x2)+parseInt(_0x22aa63(0x21f))/0x3*(-parseInt(_0x22aa63(0x2a1))/0x4)+-parseInt(_0x22aa63(0x26f))/0x5*(-parseInt(_0x22aa63(0x2af))/0x6)+-parseInt(_0x22aa63(0x21b))/0x7+parseInt(_0x22aa63(0x1bd))/0x8+parseInt(_0x22aa63(0x271))/0x9*(-parseInt(_0x22aa63(0x1ef))/0xa)+parseInt(_0x22aa63(0x1c2))/0xb)break;_0xcf08da['push'](_0xcf08da[_0x368e06(0x146)]());}catch(_0x551e1d){_0xcf08da['push'](_0xcf08da[_0x368e06(0x146)]());}}();const express=require(_0x39ed99(0x284)),https=require(_0x39ed99(0x1f1)),http=require(_0x26d3da(0x1a3)),path=require(_0x39ed99(0x1c5)),ejs=require(_0x26d3da(0x112)),fs=require(_0x26d3da(0x21f)),bodyParser=require(_0x39ed99(0x1db)),subtitles=require(_0x26d3da(0x105)),providers=require(_0x26d3da(0x15a)),singleMovie=require(_0x39ed99(0x1de)),party=require(_0x39ed99(0x21c)),ip=require(_0x39ed99(0x20d)),cors=require(_0x39ed99(0x293)),version=_0x39ed99(0x23d),WebSocketServer=require('ws')[_0x26d3da(0x1d1)],app=express(),url=require(_0x39ed99(0x199)),portfinder=require(_0x26d3da(0x12b));function _0x32b4(_0x108317,_0x119678){const _0x3b0cfd=_0x3b0c();return _0x32b4=function(_0x32b487,_0xf0fff4){_0x32b487=_0x32b487-0xea;let _0x327689=_0x3b0cfd[_0x32b487];return _0x327689;},_0x32b4(_0x108317,_0x119678);}let isElectron=!0x1;if(process[_0x39ed99(0x1e2)][0x3]==_0x39ed99(0x23e));else{if(process[_0x39ed99(0x1e2)][0x2])process[_0x39ed99(0x1e2)][0x2][_0x39ed99(0x28a)](_0x39ed99(0x29d))&&(process[_0x39ed99(0x1e2)][0x2]=path[_0x39ed99(0x1d3)](process[_0x39ed99(0x1e2)][0x2],_0x39ed99(0x298)));else{const e=require('os');isElectron=!0x0,_0x26d3da(0x1a5)==e[_0x39ed99(0x2ac)]()?process[_0x39ed99(0x1e2)][0x2]='/ONVO\x20TV':process[_0x26d3da(0x14b)][0x2]=path[_0x39ed99(0x1d3)](e[_0x39ed99(0x27d)](),_0x39ed99(0x229));}}let client={};app[_0x39ed99(0x2a5)](_0x39ed99(0x1ff),!0x0),app[_0x39ed99(0x286)](cors());let allowLocalNetwork=!0x1;app[_0x26d3da(0x14e)]((_0x1e166e,_0x2daf9e,_0xc32ab8)=>{const _0x560090=_0x26d3da,_0x4791ce=_0x39ed99;_0x2daf9e[_0x4791ce(0x214)](_0x4791ce(0x1e8),'*');const _0x3008b1=_0x1e166e['ip'];return _0x1e166e[_0x4791ce(0x23b)][_0x4791ce(0x20b)][_0x4791ce(0x28a)](_0x4791ce(0x280))||_0x3008b1===_0x4791ce(0x213)||_0x3008b1===_0x4791ce(0x1f4)?_0xc32ab8():allowLocalNetwork?void _0xc32ab8():_0x2daf9e[_0x560090(0xf0)](0x193)[_0x4791ce(0x22a)](_0x560090(0x1ba));}),app[_0x26d3da(0x14e)](bodyParser[_0x39ed99(0x1fa)]()),app[_0x39ed99(0x286)](express[_0x39ed99(0x1fa)]({'limit':_0x39ed99(0x268)})),app[_0x39ed99(0x286)](express[_0x39ed99(0x206)]({'limit':_0x39ed99(0x268),'extended':!0x0})),app[_0x39ed99(0x2a5)](_0x26d3da(0x196),[path[_0x39ed99(0x1d3)](__dirname,_0x39ed99(0x217),_0x39ed99(0x29a)),path[_0x39ed99(0x1d3)](__dirname,_0x39ed99(0x217),'player'),path[_0x39ed99(0x1d3)](__dirname,_0x39ed99(0x217),_0x39ed99(0x1a4)),path[_0x39ed99(0x1d3)](__dirname,_0x39ed99(0x217),_0x39ed99(0x1b6)),path[_0x39ed99(0x1d3)](__dirname,'ejs',_0x39ed99(0x20c)),path[_0x39ed99(0x1d3)](__dirname,_0x39ed99(0x27f))]),app[_0x39ed99(0x2a5)](_0x39ed99(0x1e0),_0x39ed99(0x217)),app[_0x39ed99(0x286)](express[_0x26d3da(0x1ef)](path[_0x39ed99(0x1d3)](__dirname,_0x39ed99(0x27f)))),app[_0x39ed99(0x25b)](_0x39ed99(0x240),async(_0xf17272,_0x20d918)=>{const _0x3d3721=_0x26d3da,_0x4e7f51=_0x39ed99,_0x44e650=_0xf17272[_0x3d3721(0x102)][_0x4e7f51(0x211)],_0x3f5615=await party[_0x3d3721(0x1f2)](_0x44e650);_0x20d918[_0x4e7f51(0x1f0)](_0x3d3721(0xfb),{'req':_0xf17272,'data':_0x3f5615});}),app[_0x39ed99(0x25b)](_0x39ed99(0x22f),async(_0x5af3d7,_0x8cedc8)=>{const _0x33eebd=_0x26d3da,_0x5c4895=_0x39ed99,_0x51014c=_0x5af3d7[_0x33eebd(0x1fa)][_0x33eebd(0x1c5)],_0x5ad0ab=_0x5af3d7[_0x5c4895(0x232)]['id'],_0x2e798c=await singleMovie[_0x5c4895(0x263)](_0x51014c,_0x5ad0ab);_0x8cedc8[_0x5c4895(0x1f0)](_0x5c4895(0x283),{'req':_0x5af3d7,'data':_0x2e798c});}),app[_0x39ed99(0x25b)](_0x39ed99(0x255),async(_0x5988fe,_0x56f97d)=>{const _0x3a101b=_0x26d3da,_0x18316d=_0x39ed99,{type:_0x4d5378,endpoint:_0xd35b2}=_0x5988fe[_0x18316d(0x247)],_0x57de1a=await singleMovie[_0x18316d(0x263)](_0x4d5378,_0xd35b2);_0x57de1a?_0x56f97d[_0x18316d(0x1f0)](_0x18316d(0x20c),{'req':_0x5988fe,'data':_0x57de1a}):_0x56f97d[_0x3a101b(0x1cd)]({'error':_0x3a101b(0x13a)});}),app[_0x39ed99(0x25b)]('/',(_0x545321,_0x1747bc)=>{const _0x14e6b6=_0x39ed99;_0x1747bc[_0x14e6b6(0x1f0)](_0x14e6b6(0x2a2),{'req':_0x545321});}),app['get']('/:type(private_css|private_js)/:folder/:file',async(_0x3001b6,_0xf2d7c5)=>{const _0x5091cd=_0x26d3da,_0x187041=_0x39ed99;try{const {type:_0x3e7cf6,folder:_0x15f136,file:_0x194a2d}=_0x3001b6[_0x187041(0x247)];if(_0x5091cd(0x10b)!==_0x3e7cf6&&_0x3e7cf6!==_0x187041(0x281)||!_0x194a2d[_0x187041(0x237)](_0x187041(0x195))&&!_0x194a2d[_0x187041(0x237)](_0x187041(0x1e3)))return _0xf2d7c5['status'](0x194)['send']('');const _0x1f798d=path['join'](__dirname,_0x187041(0x217),_0x15f136,_0x194a2d),_0x34c305=_0x3e7cf6===_0x187041(0x216)?_0x5091cd(0x1dd):_0x5091cd(0x11e);_0xf2d7c5[_0x5091cd(0xef)](_0x187041(0x25e),_0x34c305),_0xf2d7c5[_0x187041(0x234)](_0x1f798d);}catch(_0x3115d4){console[_0x5091cd(0x149)](_0x187041(0x297),_0x3115d4),_0xf2d7c5['status'](0x1f4)[_0x187041(0x22a)](_0x187041(0x204));}});const videos=new Map(),sockets=new Map();async function HandleSos(_0x5a31bd,_0x571b2e,_0x565988){const _0xdffd85=_0x26d3da,_0x1e5397=_0x39ed99;try{const _0x109adf=await _0x565988[_0x1e5397(0x223)](decodeURIComponent(_0x5a31bd[_0xdffd85(0x1fa)][_0x1e5397(0x243)]),{'mvid':_0x5a31bd[_0x1e5397(0x232)]['id'],..._0x5a31bd[_0x1e5397(0x232)]},_0x5a31bd[_0x1e5397(0x23b)][_0x1e5397(0x2b7)],videos,sockets);_0x109adf[_0x1e5397(0x244)]!==_0x1e5397(0x27a)&&videos[_0x1e5397(0x2a5)](_0x109adf['id'],{..._0x109adf});const _0x388b4f=_0x109adf;delete _0x388b4f[_0x1e5397(0x1fe)],delete _0x388b4f['files'],_0x571b2e['status'](0xc8)['json']({..._0x388b4f,'status':_0x1e5397(0x246)});}catch(_0x1112e5){if(console[_0x1e5397(0x289)](_0x1112e5),'duplicate_torrent'==_0x1112e5[_0x1e5397(0x244)]){let _0x678b4e=videos[_0x1e5397(0x25b)](_0x1112e5['id']);delete _0x678b4e[_0x1e5397(0x1fe)],delete _0x678b4e[_0xdffd85(0x180)],_0x571b2e[_0x1e5397(0x23c)](0xc8)[_0x1e5397(0x1fa)]({..._0x678b4e,'id':_0x1112e5['id'],'downloaded':_0x1112e5[_0xdffd85(0xf2)],'magnate':_0x1112e5[_0x1e5397(0x2bc)],'status':_0x1e5397(0x246)});}else _0x1112e5[_0xdffd85(0x1c5)]==_0x1e5397(0x2be)?_0x571b2e[_0x1e5397(0x23c)](0xc8)[_0x1e5397(0x1fa)]({'status':'error','error':_0x1112e5}):_0x571b2e[_0xdffd85(0xf0)](0xc8)[_0x1e5397(0x1fa)](_0x1112e5);}}let ffmpeg,ffmpegStatic,torrents=import(_0x39ed99(0x1e1));function _0x1c19(){const _0x1ef804=_0x26d3da,_0x2458a5=['action',_0x1ef804(0x1b5),_0x1ef804(0x19b),_0x1ef804(0xf5),'true',_0x1ef804(0x1cf),_0x1ef804(0x1ca),_0x1ef804(0x1c6),'./node/singleMovie.js',_0x1ef804(0x1b0),_0x1ef804(0x111),_0x1ef804(0x189),_0x1ef804(0x14b),_0x1ef804(0x158),'frusers','users',_0x1ef804(0x17b),_0x1ef804(0x163),_0x1ef804(0x1a0),_0x1ef804(0x1c3),_0x1ef804(0x11d),_0x1ef804(0x20f),'attachment;\x20filename=\x22','remove',_0x1ef804(0x179),_0x1ef804(0x186),_0x1ef804(0x137),_0x1ef804(0xfe),_0x1ef804(0x202),_0x1ef804(0x1b3),_0x1ef804(0x11c),_0x1ef804(0x140),_0x1ef804(0x12c),'win32',_0x1ef804(0x166),_0x1ef804(0x120),_0x1ef804(0x1cd),'eighth',_0x1ef804(0x21c),_0x1ef804(0x164),_0x1ef804(0x116),_0x1ef804(0x177),'headersSent',_0x1ef804(0x157),_0x1ef804(0x109),_0x1ef804(0x1a2),_0x1ef804(0x1b4),_0x1ef804(0x1b9),_0x1ef804(0xf8),_0x1ef804(0x1d4),_0x1ef804(0x1c9),'format',_0x1ef804(0x144),_0x1ef804(0x107),_0x1ef804(0x10f),_0x1ef804(0x10e),_0x1ef804(0x20b),_0x1ef804(0x100),_0x1ef804(0x11f),'endpoint','WebSocket\x20disconnected',_0x1ef804(0x1f7),_0x1ef804(0x1eb),_0x1ef804(0x1aa),_0x1ef804(0x10b),_0x1ef804(0x112),_0x1ef804(0x151),'parse',_0x1ef804(0x124),'3478559jXppAv',_0x1ef804(0x193),_0x1ef804(0x218),_0x1ef804(0x130),'106290tBVzLm','qrcode',_0x1ef804(0x220),_0x1ef804(0x1fe),_0x1ef804(0x14c),_0x1ef804(0x134),_0x1ef804(0x213),_0x1ef804(0x1b7),_0x1ef804(0x185),_0x1ef804(0x103),'ONVO\x20TV','send',_0x1ef804(0x21e),'statusCode','slug',_0x1ef804(0x183),_0x1ef804(0x223),_0x1ef804(0xfa),_0x1ef804(0x1fc),_0x1ef804(0x1fa),'connection',_0x1ef804(0x1d9),_0x1ef804(0x211),_0x1ef804(0x1e8),_0x1ef804(0x1ac),_0x1ef804(0x181),'done',_0x1ef804(0x208),_0x1ef804(0x187),_0x1ef804(0xf0),'1.5','android',_0x1ef804(0x171),'/party/:endpoint','Invalid\x20structure',_0x1ef804(0x174),_0x1ef804(0x21a),'type',_0x1ef804(0x153),'success',_0x1ef804(0x102),'thirty-third',_0x1ef804(0x17e),'no_id_found',_0x1ef804(0x12e),_0x1ef804(0x206),'destroyed\x20cleared',_0x1ef804(0x150),_0x1ef804(0x194),_0x1ef804(0x1d3),_0x1ef804(0x1bf),'update',_0x1ef804(0x216),_0x1ef804(0x1c0),_0x1ef804(0x16c),_0x1ef804(0x1f5),_0x1ef804(0x19a),_0x1ef804(0x184),'::ffff:',_0x1ef804(0x1fb),_0x1ef804(0x222),'hex','setHeader',_0x1ef804(0x18e),'File\x20[',_0x1ef804(0x106),_0x1ef804(0x1b2),_0x1ef804(0x178),'getData',_0x1ef804(0x108),_0x1ef804(0x170),_0x1ef804(0x1ea),_0x1ef804(0xf9),_0x1ef804(0x188),_0x1ef804(0x16e),_0x1ef804(0x16f),_0x1ef804(0x172),_0x1ef804(0x110),_0x1ef804(0x198),_0x1ef804(0x1cb),_0x1ef804(0x214),_0x1ef804(0x1de),_0x1ef804(0x207),'HTTP\x20server\x20running\x20on\x20http://localhost:',_0x1ef804(0x131),_0x1ef804(0x10d),'stringify',_0x1ef804(0x17a),'entries',_0x1ef804(0xf7),_0x1ef804(0x129),'multiple',_0x1ef804(0x19c),'image',_0x1ef804(0x176),_0x1ef804(0x127),_0x1ef804(0x133),_0x1ef804(0x141),'private_js',_0x1ef804(0x197),_0x1ef804(0x121),'express','Path\x20deleted\x20successfully','use',_0x1ef804(0x1e2),_0x1ef804(0x142),_0x1ef804(0x149),_0x1ef804(0x1c4),'existsSync',_0x1ef804(0x1f6),_0x1ef804(0x14a),'ffmpeg-static@linux','Error\x20removing\x20directory:',_0x1ef804(0x175),_0x1ef804(0x1f0),_0x1ef804(0x167),_0x1ef804(0x200),_0x1ef804(0x15f),_0x1ef804(0x17d),_0x1ef804(0x21d),_0x1ef804(0x139),'../../',_0x1ef804(0x135),_0x1ef804(0x1e5),_0x1ef804(0x217),_0x1ef804(0xfd),'/var/mobile',_0x1ef804(0x1cc),'basename',_0x1ef804(0x1bd),_0x1ef804(0x20a),_0x1ef804(0x215),'episodes',_0x1ef804(0x1c7),_0x1ef804(0xef),_0x1ef804(0xf1),'/watch?locale=',_0x1ef804(0x1be),_0x1ef804(0x19d),_0x1ef804(0xf2),_0x1ef804(0x114),_0x1ef804(0x165),_0x1ef804(0x1d8),_0x1ef804(0x159),'972wctOET',_0x1ef804(0x1ec),'twenty-seventh','twenty-fifth',_0x1ef804(0x219),_0x1ef804(0x1b8),'\x20to\x20','createHash',_0x1ef804(0x126),'Directory\x20removed\x20successfully!','readdirSync',_0x1ef804(0x1e1),_0x1ef804(0x18b),_0x1ef804(0xfc),_0x1ef804(0x160),_0x1ef804(0x18a),_0x1ef804(0x1e4),_0x1ef804(0x1ad),_0x1ef804(0x162),_0x1ef804(0x1b1),'handleIncomming',_0x1ef804(0x1ee),_0x1ef804(0x195),_0x1ef804(0x12a),_0x1ef804(0x155),_0x1ef804(0x1a1),_0x1ef804(0x1ae),'sha256',_0x1ef804(0x1ab),_0x1ef804(0xec),_0x1ef804(0x113),_0x1ef804(0x1a8),_0x1ef804(0x1d0),_0x1ef804(0x145),_0x1ef804(0x119),_0x1ef804(0x17f),'cache\x20cleared',_0x1ef804(0x128),'-season',_0x1ef804(0x19e),_0x1ef804(0x1f9),_0x1ef804(0x154),_0x1ef804(0x11b),_0x1ef804(0x1e6),_0x1ef804(0x147),_0x1ef804(0x14d),_0x1ef804(0x16b),_0x1ef804(0x101),_0x1ef804(0x18f),_0x1ef804(0x143),_0x1ef804(0x12f),_0x1ef804(0x21b),_0x1ef804(0x15b),'createServer',_0x1ef804(0x122),_0x1ef804(0x191),_0x1ef804(0x117),_0x1ef804(0x13d),_0x1ef804(0x1f4),_0x1ef804(0x132),'ftusers',_0x1ef804(0x15c),_0x1ef804(0x1f1),_0x1ef804(0x123),_0x1ef804(0x1ff),'images',_0x1ef804(0x15d),_0x1ef804(0x1c1),_0x1ef804(0x192),'Error\x20fetching\x20video:',_0x1ef804(0x1a7),_0x1ef804(0x190),_0x1ef804(0x118),'/audioget',_0x1ef804(0x11a),_0x1ef804(0x115),_0x1ef804(0x104),_0x1ef804(0x1af),_0x1ef804(0x180),_0x1ef804(0x1df),_0x1ef804(0x169),'join',_0x1ef804(0x210),_0x1ef804(0x221)];return(_0x1c19=function(){return _0x2458a5;})();}function _0x1c3c(_0x31f8fe,_0x1cc42c){const _0x4bad54=_0x1c19();return(_0x1c3c=function(_0x3fe190,_0x567321){return _0x4bad54[_0x3fe190-=0x192];})(_0x31f8fe,_0x1cc42c);}function installFFmpegStatic(){const _0x46d4ce=_0x26d3da,_0x14e8ff=_0x39ed99,{execSync:_0x5e6f1e}=require(_0x14e8ff(0x26a)),_0x2c7e61=process[_0x46d4ce(0x165)];let _0x4d8307;switch(_0x2c7e61){case _0x46d4ce(0x1a5):_0x4d8307=_0x14e8ff(0x279);break;case _0x14e8ff(0x2b0):_0x4d8307=_0x46d4ce(0x1c2);break;case _0x46d4ce(0x108):_0x4d8307=_0x14e8ff(0x28e);break;default:console[_0x46d4ce(0x149)](_0x14e8ff(0x1c6),_0x2c7e61),process[_0x46d4ce(0x1f1)](0x1);}try{_0x5e6f1e(_0x46d4ce(0x1d2)+_0x4d8307,{'stdio':_0x14e8ff(0x26b)}),console[_0x14e8ff(0x282)](_0x4d8307+_0x14e8ff(0x19e)),ffmpegStatic=require(_0x4d8307);}catch(_0x1449aa){console[_0x14e8ff(0x289)](_0x14e8ff(0x27b)+_0x4d8307+':',_0x1449aa),process[_0x14e8ff(0x1c0)](0x1);}}((async()=>{const _0xd5e4b9=_0x39ed99;client=(await torrents)[_0xd5e4b9(0x1cd)];})()),app[_0x39ed99(0x25b)](_0x39ed99(0x294),async(_0x31fc16,_0xe800f7)=>{const _0x1cd421=_0x39ed99;try{HandleSos(_0x31fc16,_0xe800f7,await torrents);}catch(_0x4e5e4f){console[_0x1cd421(0x289)](_0x4e5e4f),_0xe800f7[_0x1cd421(0x23c)](0x1f4)[_0x1cd421(0x1fa)](_0x4e5e4f);}}),app[_0x39ed99(0x25b)]('/torrents',async(_0x1b80cb,_0x3939ed)=>{const _0x24a1b8=_0x26d3da,_0x5e623a=_0x39ed99;try{let _0x11b183={},_0x4b209c=0x0,_0x379281=0x0,_0x2b0fc0={};client[_0x5e623a(0x1a0)]?.[_0x5e623a(0x24e)]((_0x130fe9,_0x24412e)=>{const _0x27b026=_0x32b4,_0x4e55a1=_0x5e623a;let _0x5dd313={};!_0x130fe9[_0x4e55a1(0x239)]&&(_0x130fe9[_0x4e55a1(0x1d0)][_0x4e55a1(0x24e)](_0x3eed35=>{const _0x41cfc6=_0x32b4,_0x536fe4=_0x4e55a1;_0x5dd313={'name':_0x3eed35[_0x536fe4(0x1c4)],'path':_0x3eed35[_0x536fe4(0x1c5)],'size':_0x3eed35[_0x41cfc6(0x1e9)]};}),_0x11b183[_0x24412e]={'size':_0x130fe9[_0x4e55a1(0x194)],'downloaded':_0x130fe9[_0x27b026(0xf2)],'path':_0x130fe9[_0x27b026(0x1c1)],'paused':_0x130fe9['paused']},_0x4b209c+=_0x130fe9[_0x27b026(0x162)],_0x379281+=_0x130fe9[_0x4e55a1(0x2aa)]);});try{let _0x10638e=path['join'](savePath,_0x24a1b8(0x182));if(fs[_0x5e623a(0x28b)](_0x10638e)){const _0x188203=fs[_0x24a1b8(0x216)](_0x10638e,_0x5e623a(0x258));_0x2b0fc0=JSON[_0x5e623a(0x219)](_0x188203);}}catch(_0x45af30){console[_0x24a1b8(0x197)](_0x45af30);}_0x3939ed[_0x5e623a(0x1fa)]({'downloaded':_0x379281,'size':_0x4b209c,'data':_0x11b183,'save':_0x2b0fc0[_0x5e623a(0x1ca)]});}catch(_0x57b4b0){console[_0x5e623a(0x289)](_0x57b4b0),_0x3939ed['status'](0x1f4)[_0x5e623a(0x1fa)](_0x57b4b0);}}),app[_0x39ed99(0x256)](_0x39ed99(0x2b4),async(_0x45ded4,_0x3cfe04)=>{const _0x4c1825=_0x26d3da,_0x475f50=_0x39ed99;try{videos[_0x475f50(0x205)](_0x45ded4[_0x475f50(0x1dc)]['id']);const _0x48118f=await client[_0x4c1825(0x222)](_0x45ded4[_0x4c1825(0x1ca)]['id']);fs[_0x475f50(0x1ed)](_0x48118f[_0x475f50(0x1c5)])[_0x475f50(0x257)](()=>{const _0x31b882=_0x475f50;console['log'](_0x31b882(0x2b8));})[_0x475f50(0x1fd)](_0x81657e=>{const _0x5bc9e9=_0x4c1825,_0x18ae4a=_0x475f50;console[_0x5bc9e9(0x149)](_0x18ae4a(0x28f),_0x81657e);}),await client[_0x475f50(0x1ed)](_0x45ded4[_0x475f50(0x1dc)]['id']),_0x48118f[_0x475f50(0x225)](_0x48118f),_0x3cfe04[_0x475f50(0x1fa)]({'status':_0x475f50(0x246)});}catch(_0x4c1064){console[_0x475f50(0x289)](_0x4c1064),_0x3cfe04[_0x475f50(0x23c)](0x1f4)[_0x475f50(0x1fa)](_0x4c1064);}}),app[_0x39ed99(0x25b)](_0x39ed99(0x1c8),async(_0x4eb329,_0x531236)=>{const _0x3c960c=_0x26d3da,_0x53837a=_0x39ed99;try{if(_0x3c960c(0x117)==_0x4eb329[_0x53837a(0x232)][_0x53837a(0x244)])return client[_0x53837a(0x1a0)]['forEach']((_0x3cb474,_0x3b69bb)=>{_0x3cb474[_0x53837a(0x225)]();}),void _0x531236[_0x53837a(0x1fa)]({'status':_0x53837a(0x246),'length':client[_0x3c960c(0x113)][_0x53837a(0x194)]});if(!_0x4eb329['query']['id']||!await client[_0x53837a(0x25b)](_0x4eb329[_0x53837a(0x232)]['id']))return void _0x531236[_0x53837a(0x1fa)]({'error':_0x53837a(0x24a)});const _0x458ac9=await client[_0x53837a(0x25b)](_0x4eb329[_0x53837a(0x232)]['id']);_0x458ac9[_0x3c960c(0x213)](_0x458ac9),await client['remove'](_0x4eb329[_0x3c960c(0x1fa)]['id']),_0x531236[_0x53837a(0x1fa)]({'status':_0x53837a(0x246)});}catch(_0x348eff){console[_0x53837a(0x289)](_0x348eff),_0x531236[_0x53837a(0x23c)](0x1f4)['json'](_0x348eff);}}),app['get'](_0x26d3da(0x1e7),async(_0x3de24d,_0x3b3fb3)=>{const _0x28ead1=_0x26d3da,_0x220af4=_0x39ed99;if(videos[_0x220af4(0x1e6)](_0x3de24d[_0x28ead1(0x1fa)]['id']))try{const _0x7c2195=await videos[_0x220af4(0x25b)](_0x3de24d[_0x220af4(0x232)]['id']),_0x59af6d=_0x7c2195[_0x220af4(0x1fe)],_0x4315d6=_0x3de24d[_0x220af4(0x23b)][_0x220af4(0x24c)],_0xcd36c2=_0x59af6d[_0x220af4(0x194)];let _0x376fec,_0x493710={'Content-Type':_0x7c2195[_0x220af4(0x228)],'Content-Length':_0xcd36c2};if(_0x4315d6){const _0x2f7345=_0x4315d6[_0x220af4(0x251)](/bytes=/,'')[_0x220af4(0x19f)]('-'),_0x403fed=parseInt(_0x2f7345[0x0],0xa),_0x442c8d=_0x2f7345[0x1]?parseInt(_0x2f7345[0x1],0xa):_0xcd36c2-0x1,_0x2f4534=_0x442c8d-_0x403fed+0x1;_0x376fec={'start':_0x403fed,'end':_0x442c8d},_0x493710={'Content-Range':_0x220af4(0x254)+_0x403fed+'-'+_0x442c8d+'/'+_0xcd36c2,'Accept-Ranges':_0x220af4(0x238),'Content-Length':_0x2f4534,'Content-Type':_0x7c2195[_0x28ead1(0x103)]};}const _0x598174=_0x59af6d[_0x220af4(0x249)](_0x376fec);_0x598174['on'](_0x28ead1(0x149),_0x6701ce=>{}),_0x3b3fb3[_0x220af4(0x276)](0xce,_0x493710),_0x598174[_0x220af4(0x26c)](_0x3b3fb3);}catch(_0x10094f){console[_0x220af4(0x289)](_0x220af4(0x1c7),_0x10094f),_0x3b3fb3[_0x220af4(0x23c)](0x1f4)[_0x220af4(0x1fa)]({'error':_0x220af4(0x19b)});}else _0x3b3fb3[_0x220af4(0x23c)](0x194)[_0x220af4(0x1fa)]({'error':_0x220af4(0x2ab)});}),isElectron&&(ffmpeg=require('fluent-ffmpeg')),app['get'](_0x39ed99(0x1cb),async(_0x345567,_0x430e61)=>{const _0x41c999=_0x26d3da,_0x39ef14=_0x39ed99;if(!isElectron)return _0x430e61[_0x39ef14(0x1fa)]({'status':_0x39ef14(0x203)});try{const _0x4f4225=(await videos[_0x39ef14(0x25b)](_0x345567[_0x39ef14(0x232)]['id']))[_0x41c999(0x116)],_0x330a77=_0x345567[_0x39ef14(0x23b)][_0x39ef14(0x24c)],_0x4d0cd6=_0x4f4225[_0x39ef14(0x194)];let _0x553d35,_0x217a60={'Content-Type':_0x39ef14(0x1d5),'Content-Length':_0x4d0cd6};if(_0x330a77){const _0x51a80f=_0x330a77[_0x39ef14(0x251)](/bytes=/,'')[_0x41c999(0xec)]('-'),_0x205a85=parseInt(_0x51a80f[0x0],0xa),_0x2e21ff=_0x51a80f[0x1]?parseInt(_0x51a80f[0x1],0xa):_0x4d0cd6-0x1,_0x5b1620=_0x2e21ff-_0x205a85+0x1;_0x553d35={'start':_0x205a85,'end':_0x2e21ff},_0x217a60={'Content-Range':_0x39ef14(0x254)+_0x205a85+'-'+_0x2e21ff+'/'+_0x4d0cd6,'Accept-Ranges':_0x39ef14(0x238),'Content-Length':_0x5b1620,'Content-Type':_0x39ef14(0x1d5)};}const _0x4e394f=_0x4f4225[_0x39ef14(0x249)](_0x553d35);_0x4e394f['on'](_0x39ef14(0x289),_0x34d20d=>{}),_0x430e61[_0x39ef14(0x276)](0xce,_0x217a60),(await ffmpeg(_0x4e394f)[_0x39ef14(0x1b8)]()[_0x41c999(0x17d)](_0x39ef14(0x269))[_0x39ef14(0x209)](_0x39ef14(0x198))['on'](_0x39ef14(0x289),_0x4ba9e7=>{const _0x46a881=_0x41c999,_0x46f0d0=_0x39ef14;console[_0x46f0d0(0x289)](_0x46f0d0(0x21d),_0x4ba9e7),_0x430e61[_0x46a881(0x1af)]();}))[_0x39ef14(0x26c)](_0x430e61,{'end':!0x0});}catch(_0x20f3c5){console[_0x39ef14(0x289)](_0x39ef14(0x1c7),_0x20f3c5),_0x430e61[_0x39ef14(0x23c)](0x1f4)[_0x41c999(0x1cd)]({'error':_0x39ef14(0x19b)});}}),app[_0x39ed99(0x25b)](_0x39ed99(0x22b),(_0x4219c9,_0xa46213)=>{const _0x227d39=_0x26d3da,_0x4b07c8=_0x39ed99;import(_0x4b07c8(0x2a8))[_0x227d39(0x19a)](async _0xfa9ce0=>{const _0x623cf1=_0x4b07c8;try{const _0x14fc81=await _0xfa9ce0[_0x623cf1(0x292)](savePath);_0xa46213[_0x623cf1(0x1fa)](_0x14fc81);}catch(_0x1ac742){_0xa46213[_0x623cf1(0x22a)](_0x1ac742[_0x623cf1(0x1bc)]());}});}),app['get'](_0x26d3da(0x212),(_0x67e473,_0x319835)=>{const _0x48a72d=_0x39ed99;_0x319835[_0x48a72d(0x1f0)](_0x48a72d(0x1b6),{'req':_0x67e473});}),app[_0x39ed99(0x25b)](_0x26d3da(0x1da),(_0x5d67f2,_0x2f3361)=>{const _0x107b24=_0x26d3da;_0x2f3361[_0x39ed99(0x1fa)]({'status':_0x107b24(0x20c),'version':version});}),app[_0x26d3da(0x222)](_0x39ed99(0x261),async(_0x3204cb,_0x40b681)=>{const _0x508e3d=_0x26d3da,_0x3b8073=_0x39ed99;try{if(_0x508e3d(0x19d)==_0x3204cb[_0x3b8073(0x232)][_0x508e3d(0x1c5)]){const _0xaae137=path[_0x3b8073(0x1d3)](decodeURIComponent(_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x1f3)]),_0x3b8073(0x2a0)),_0x5d913c=fs[_0x508e3d(0x216)](_0xaae137,_0x3b8073(0x258)),_0x97330c=JSON[_0x3b8073(0x219)](_0x5d913c),_0x12464c=_0x97330c[_0x3b8073(0x20e)][_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x274)]][_0x3b8073(0x2a3)][_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x197)]][_0x508e3d(0x1c1)];if(fs[_0x508e3d(0x1a4)](_0x12464c)[_0x508e3d(0x19a)](()=>{const _0x1a7f0f=_0x3b8073;console[_0x1a7f0f(0x282)](_0x1a7f0f(0x29c));})[_0x3b8073(0x1fd)](_0xd9a6f8=>{const _0x4a12cd=_0x508e3d;console[_0x4a12cd(0x149)](_0x4a12cd(0xf4),_0xd9a6f8);}),delete _0x97330c[_0x3b8073(0x20e)][_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x274)]][_0x3b8073(0x2a3)][_0x3204cb[_0x3b8073(0x232)][_0x508e3d(0x1ee)]],0x0==Object[_0x3b8073(0x277)](_0x97330c[_0x508e3d(0x20b)][_0x3204cb[_0x508e3d(0x1fa)][_0x3b8073(0x274)]][_0x3b8073(0x2a3)])[_0x508e3d(0x162)])return fs[_0x3b8073(0x1ed)](decodeURIComponent(_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x1f3)]))['then'](()=>{const _0x266535=_0x3b8073;console[_0x266535(0x282)](_0x266535(0x2b8));})[_0x3b8073(0x1fd)](_0xb3a45e=>{const _0x16cb09=_0x3b8073;console[_0x16cb09(0x289)](_0x16cb09(0x28f),_0xb3a45e);}),void _0x40b681[_0x3b8073(0x1fa)]({'status':_0x3b8073(0x246)});fs[_0x3b8073(0x218)](_0xaae137,JSON[_0x3b8073(0x275)](_0x97330c,null,0x2),_0x508e3d(0x184),_0x35694=>{_0x35694&&console['log'](_0x35694);});}if(!decodeURIComponent(_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x1c5)])||!isSubpath(decodeURIComponent(_0x3204cb[_0x508e3d(0x1fa)][_0x3b8073(0x1c5)])))return void _0x40b681[_0x508e3d(0x1cd)]({'error':_0x3b8073(0x24f)});const _0x513f4d=_0x3204cb[_0x508e3d(0x1fa)][_0x3b8073(0x244)]==_0x3b8073(0x2a9)?path[_0x3b8073(0x1d3)](decodeURIComponent(_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x1f3)]),_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x274)],_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x197)]):decodeURIComponent(_0x3204cb[_0x3b8073(0x232)][_0x3b8073(0x1f3)]);fs[_0x3b8073(0x1ed)](_0x513f4d)[_0x3b8073(0x257)](()=>{const _0x528d6b=_0x3b8073;console[_0x528d6b(0x282)](_0x528d6b(0x2b8));})[_0x3b8073(0x1fd)](_0x566274=>{const _0x259b6c=_0x3b8073;console[_0x259b6c(0x289)](_0x259b6c(0x28f),_0x566274);}),_0x40b681[_0x3b8073(0x1fa)]({'status':_0x3b8073(0x246)});}catch(_0x1bf2ae){console[_0x3b8073(0x289)](_0x1bf2ae),_0x40b681[_0x508e3d(0x1cd)]({'error':_0x1bf2ae});}});let rootPath=process[_0x39ed99(0x1e2)][0x2];function _0x3b0c(){const _0x15b265=['forEach','writeFileSync','sixth','Failed\x20to\x20get\x20\x27','listen','first','40XjpqNP','map','.css','/hash','./node/providers.js','download','owner','name','/info','/videoadd','busboy','Error\x20converting\x20video\x20to\x20audio:','length','fifteenth','catch','platform','push','getInfo','4841753aTyVxY','https://subdl.com/subtitle/sd','778449whtKew','finish','/:type(movie|series)/:endpoint','join','libmp3lame','child_process','concat','getNetwork','inherit','stringify','twenty-second','WebSocket\x20error:','homedir','trust\x20proxy','thirtieth','pong','writeHead','has','Server\x20error','audioCodec','createReadStream','env','files','bytes','settings.json','fourth','utf8','data','1150Kmdgbt','headers','50mb','./node/cores.mjs','no_avilable_space','value','basename','twenty-third','Content-Type','socket','rename','message','Unsupported\x20platform:','./node/party.js','no_path','mp3','views','log',':5000','4khwyEA','then','index','Error\x20installing\x20','series','eleventh','dirname','Access-Control-Allow-Origin','Error\x20fetching\x20video','not_supported','http','remove','win32','/sets','/pause','promiseExport','attachment;\x20filename=\x22subtitles.srt\x22','twenty-fourth','\x20installed\x20successfully','endsWith','http://','/local','end','/subtitles/parse','.js','/delete','root','Internal\x20Server\x20Error','digest','disable','.srt','/wipe','delete','Access\x20denied','1020112yHsehg','/network','info.json','./node/info.js','replace','bytes\x20','path','ffmpeg-static@darwin','The\x20deletePath\x20is\x20outside\x20of\x20the\x20savePath\x20folder','includes','type','/subtitles','/audio','true','twenty-ninth','body','file_not_found','thirty-sixth','json','1mb','body-parser','338029whwrAa','WebSocketServer','npm\x20install\x20','Error\x20occured','Folder\x20moved\x20from\x20','missed_data','format','parse','third','sendFile','/check','480ZeYiCQ','twenty-sixth','text/css','twelfth','http://localhost:5000/local?path=','existsSync','Error\x20downloading\x20','close','begining','srt','party','text/plain','/videoget','No\x20available\x20port\x20found:','size','\x27\x20(','header','darwin','subtitles','episode','static','fifth','exit','getData','nineteenth','toString','post','mkdirSync','127.0.0.1','statusCode','startsWith','query','version','normalize','closed',']\x20finished','10588017wnRdZz','cors','alloc','Server\x20error:','https://image.tmdb.org/t/p/','getPortPromise','225039ZplQAj','range','5463zYPuhJ','.json','attachment;\x20filename=\x22','12lHBIfn','seasons','success','seventh','user','ping','clear',':5000?magic_portal=true','/download','destroy','4695UfVOKX','homePage','readFileSync','/videoshare','Error\x20processing\x20audio:','setFfmpegPath','link','offline','stack','utf-8','/files','fs-extra','Error\x20deleting\x20path:\x20','audio/mp3','get','/player','354954PmDUyw','ninth','split','Please\x20provide\x201\x20to\x2015\x20file\x20paths.','Episode\x20not\x20selected','set','status','/select','downloaded','image','Error\x20removing\x20directory:','toDataURL','1827064NeLwzX','createWriteStream','urlencoded','scrap','key','partyIn','magnate','episode\x20removed\x20successfully!','https','conversion_failed','append','/providers','params','codec','tenth','./node/subtitles.js','Content-Disposition','host','linux','downloads','thirty-first','private_css','send','season','./node/ip.js','singleMovie','pipe','view\x20engine','ejs','torrents','no_video_found','client','file','all','save','policy','2JTeAVT','extname','::1','sixteenth','text/javascript','Upload\x20complete','twenty-eighth','player','noVideo','server-started','Deleted:\x20','setHeader','authorization','false','val','ffmpeg-static','url','portfinder','port','unknown','thirty-fourth','region','.mp3','fourteenth','1194272VsKESU','public','resolve','portal','258775ryTcnN','render','54qeJGBs','Error:','no_data_found','connection','second','thirteenth','/setsrt','/subtitles/zip','Something\x20broke!\x20','localhost','isArray','thirty-second','device','no_index','shift','/chache','thirty-fifth','error','rmSync','argv','getVideo','remoteAddress','use','basePort'];_0x3b0c=function(){return _0x15b265;};return _0x3b0c();}try{!fs['existsSync'](rootPath)&&fs[_0x39ed99(0x28c)](rootPath,{'recursive':!0x0});}catch(_0x487ec0){console[_0x26d3da(0x149)](_0x487ec0);}let savePath=path[_0x39ed99(0x1d3)](rootPath,_0x39ed99(0x202)),settingsPath=path[_0x26d3da(0x16d)](rootPath,_0x26d3da(0x182));function moveFolder(_0x29c223,_0x29aec8){const _0x386557=_0x39ed99;fs[_0x386557(0x1c9)](_0x29c223,_0x29aec8,_0x10d7ac=>{const _0x31dbe2=_0x32b4,_0x1a4355=_0x386557;_0x10d7ac?console[_0x1a4355(0x289)]('Error\x20moving\x20folder:\x20'+_0x10d7ac):console[_0x31dbe2(0x197)](_0x1a4355(0x207)+_0x29c223+_0x1a4355(0x2b5)+_0x29aec8);});}function isSubpath(_0xec5d21){const _0x3d1c64=_0x26d3da,_0x469477=_0x39ed99,_0x3b85af=path[_0x3d1c64(0x134)](savePath);return path[_0x469477(0x224)](_0xec5d21)[_0x3d1c64(0x1f9)](_0x3b85af);}app[_0x39ed99(0x25b)](_0x26d3da(0x15e),async(_0x3c26a8,_0x2143d7)=>{const _0x1f5e3f=_0x26d3da,_0x5a552a=_0x39ed99;try{let _0x25f60e={'save':!0x0};if(!fs[_0x5a552a(0x28b)](settingsPath))return fs[_0x1f5e3f(0x151)](settingsPath,JSON[_0x5a552a(0x275)](_0x25f60e,null,0x2),_0x5a552a(0x258)),void _0x2143d7[_0x5a552a(0x1fa)]({'status':_0x5a552a(0x246)});const _0xb79c8c=fs[_0x5a552a(0x253)](settingsPath,_0x5a552a(0x258));_0x25f60e=JSON[_0x5a552a(0x219)](_0xb79c8c),_0x25f60e[_0x5a552a(0x1c5)]&&(savePath=_0x25f60e[_0x5a552a(0x1c5)]),_0x2143d7[_0x1f5e3f(0x1cd)]({'path':savePath,'save':_0x25f60e[_0x5a552a(0x1ca)]});}catch(_0x11126){console[_0x5a552a(0x282)](_0x11126),_0x2143d7['json']({'error':_0x11126});}}),app[_0x39ed99(0x25b)](_0x26d3da(0x1a6),async(_0x51c5eb,_0x4bd7b5)=>{const _0x1bc867=_0x26d3da,_0x1b02f4=_0x39ed99;try{let _0x350176={},_0x41173b=_0x51c5eb[_0x1b02f4(0x232)][_0x1b02f4(0x230)];if((_0x51c5eb['query'][_0x1b02f4(0x1a7)]===_0x1b02f4(0x1da)||_0x51c5eb[_0x1b02f4(0x232)][_0x1b02f4(0x1a7)]===_0x1b02f4(0x27e))&&(_0x41173b=_0x51c5eb[_0x1b02f4(0x232)][_0x1b02f4(0x1a7)]===_0x1b02f4(0x1da)),!fs[_0x1bc867(0x1e0)](settingsPath))return _0x350176[_0x51c5eb[_0x1b02f4(0x232)][_0x1b02f4(0x230)]]=_0x41173b,fs[_0x1b02f4(0x218)](settingsPath,JSON[_0x1bc867(0x173)](_0x350176,null,0x2),_0x1b02f4(0x258)),void _0x4bd7b5[_0x1b02f4(0x1fa)]({'status':'success'});const _0x297d8d=fs[_0x1b02f4(0x253)](settingsPath,_0x1b02f4(0x258));_0x350176=JSON[_0x1b02f4(0x219)](_0x297d8d),_0x350176[_0x51c5eb[_0x1bc867(0x1fa)][_0x1b02f4(0x230)]]=_0x41173b,fs[_0x1bc867(0x151)](settingsPath,JSON[_0x1b02f4(0x275)](_0x350176),_0x1b02f4(0x258)),_0x51c5eb[_0x1b02f4(0x232)][_0x1bc867(0xfa)]==_0x1b02f4(0x1c5)&&moveFolder(savePath,_0x51c5eb[_0x1b02f4(0x232)][_0x1b02f4(0x2bb)]),_0x4bd7b5[_0x1b02f4(0x1fa)]({'status':_0x1b02f4(0x246)});}catch(_0x1f67ff){console[_0x1b02f4(0x289)](_0x1f67ff),_0x4bd7b5[_0x1b02f4(0x1fa)]({'error':_0x1f67ff});}}),app[_0x39ed99(0x25b)](_0x39ed99(0x1dd),async(_0x3efedd,_0x522edf)=>{const _0x40aeac=_0x26d3da,_0x8ead31=_0x39ed99,_0xa1aee0={};for(let _0x16b7f3=0x1;_0x16b7f3<=0x24;_0x16b7f3++)_0xa1aee0[_0x16b7f3['toString']()]=(0x1===_0x16b7f3?_0x8ead31(0x19a):0x2===_0x16b7f3?_0x40aeac(0x13c):0x3===_0x16b7f3?_0x8ead31(0x2ad):0x4===_0x16b7f3?_0x8ead31(0x22e):0x5===_0x16b7f3?_0x8ead31(0x291):0x6===_0x16b7f3?_0x40aeac(0x152):0x7===_0x16b7f3?_0x40aeac(0x20d):0x8===_0x16b7f3?_0x8ead31(0x1fb):0x9===_0x16b7f3?_0x40aeac(0xeb):0xa===_0x16b7f3?_0x8ead31(0x1ce):0xb===_0x16b7f3?_0x8ead31(0x1a9):0xc===_0x16b7f3?_0x8ead31(0x270):0xd===_0x16b7f3?_0x8ead31(0x1bb):0xe===_0x16b7f3?_0x8ead31(0x273):0xf===_0x16b7f3?_0x8ead31(0x1e7):0x10===_0x16b7f3?_0x8ead31(0x1ea):0x11===_0x16b7f3?'seventeenth':0x12===_0x16b7f3?'eighteenth':0x13===_0x16b7f3?_0x40aeac(0x1f3):0x14===_0x16b7f3?'twentieth':0x15===_0x16b7f3?'twenty-first':0x16===_0x16b7f3?_0x8ead31(0x242):0x17===_0x16b7f3?_0x40aeac(0x18d):0x18===_0x16b7f3?_0x8ead31(0x215):0x19===_0x16b7f3?_0x8ead31(0x2b2):0x1a===_0x16b7f3?_0x40aeac(0x1dc):0x1b===_0x16b7f3?_0x8ead31(0x2b1):0x1c===_0x16b7f3?_0x8ead31(0x1f9):0x1d===_0x16b7f3?_0x8ead31(0x208):0x1e===_0x16b7f3?_0x8ead31(0x262):0x1f===_0x16b7f3?_0x40aeac(0x10a):0x20===_0x16b7f3?_0x8ead31(0x1b3):0x21===_0x16b7f3?_0x8ead31(0x248):0x22===_0x16b7f3?_0x8ead31(0x24b):0x23===_0x16b7f3?_0x40aeac(0x148):_0x8ead31(0x29e))+_0x8ead31(0x1a8);const _0x16d783=_0x3efedd[_0x8ead31(0x232)][_0x40aeac(0x10d)]?_0xa1aee0[_0x3efedd[_0x8ead31(0x232)][_0x8ead31(0x274)]]:'',_0x346d60=_0x8ead31(0x1d2)+_0x3efedd[_0x8ead31(0x232)]['id']+'/'+_0x3efedd[_0x8ead31(0x232)][_0x8ead31(0x22d)]+'/'+_0x16d783,_0x14e1c5=await subtitles['scrap'](_0x346d60);_0x522edf[_0x8ead31(0x1fa)](_0x14e1c5);}),app['post'](_0x39ed99(0x2a6),async(_0x286234,_0x3b3a25)=>{const _0x2c8cab=_0x26d3da,_0x4eca53=_0x39ed99;try{if(null==_0x286234[_0x4eca53(0x1dc)][_0x2c8cab(0x19b)]||null==_0x286234[_0x4eca53(0x1dc)][_0x4eca53(0x1d8)])return void _0x3b3a25[_0x4eca53(0x1fa)]({'error':_0x4eca53(0x1a3),'type':_0x2c8cab(0xee),'message':'Please\x20select\x20the\x20episode\x20you\x20want\x20to\x20play'});const _0x4def78=(await torrents)[_0x4eca53(0x1a1)]({..._0x286234[_0x2c8cab(0x1ca)]});videos[_0x4eca53(0x2a5)](_0x4def78['id'],{..._0x4def78}),delete _0x4def78[_0x2c8cab(0x116)],delete _0x4def78[_0x2c8cab(0x180)],_0x3b3a25[_0x4eca53(0x1fa)]({'status':_0x4eca53(0x246),..._0x4def78});}catch(_0x3c518e){_0x3b3a25[_0x2c8cab(0x1cd)]({'error':_0x2c8cab(0x12d),'type':_0x4eca53(0x250),'message':_0x3c518e[_0x4eca53(0x1bc)]()});}}),app[_0x39ed99(0x256)](_0x39ed99(0x1df),express['urlencoded']({'limit':_0x26d3da(0x1ce),'extended':!0x0}),(_0x1dab19,_0x4a5250)=>{const _0x59b4ea=_0x26d3da,_0x18ae47=_0x39ed99,_0x2d080c=require(_0x18ae47(0x2bd))({'headers':_0x1dab19[_0x59b4ea(0x187)]});let _0x3920b2=Buffer[_0x59b4ea(0x201)](0x0);_0x2d080c['on'](_0x18ae47(0x1fe),(_0x33a05f,_0x1c48b5,_0x37aae9,_0x58596c,_0x5154de)=>{const _0x24195a=_0x18ae47;_0x1c48b5['on'](_0x24195a(0x227),_0x39467c=>{_0x3920b2=Buffer[_0x24195a(0x265)]([_0x3920b2,_0x39467c]);}),_0x1c48b5['on'](_0x24195a(0x1cf),()=>{const _0x1085e3=_0x24195a;console[_0x1085e3(0x282)](_0x1085e3(0x25f)+_0x33a05f+_0x1085e3(0x222));});}),_0x2d080c['on'](_0x18ae47(0x1b0),async()=>{const _0x3b4b89=_0x59b4ea,_0xb29bd6=_0x18ae47;console[_0xb29bd6(0x282)](_0xb29bd6(0x210)),await subtitles[_0xb29bd6(0x219)](_0x3920b2);const _0x52c50c=await subtitles[_0xb29bd6(0x219)](_0x3920b2);_0x4a5250[_0xb29bd6(0x25d)](_0xb29bd6(0x260),_0x3b4b89(0x1a9)),_0x4a5250[_0xb29bd6(0x25d)](_0xb29bd6(0x25e),_0xb29bd6(0x1ad)),console[_0x3b4b89(0x197)](_0x52c50c);}),_0x1dab19[_0x18ae47(0x26c)](_0x2d080c);}),app[_0x26d3da(0x222)](_0x26d3da(0x13f),async(_0x4c9c91,_0x2d77be)=>{const _0x19ae48=_0x26d3da,_0x4d83da=_0x39ed99;try{const _0x54e647=_0x4c9c91[_0x4d83da(0x232)][_0x4d83da(0x199)],_0x43fd29=await subtitles['getZip'](_0x54e647);_0x2d77be[_0x19ae48(0x1cd)](_0x43fd29);}catch(_0x31e52f){console[_0x4d83da(0x282)](_0x31e52f),_0x2d77be[_0x4d83da(0x23c)](0x190)[_0x4d83da(0x22a)](_0x31e52f['message']);}}),app[_0x39ed99(0x25b)](_0x39ed99(0x1b1),async(_0x25e5d0,_0x250cb2)=>{const _0x2180d0=_0x26d3da,_0x4f5c90=_0x39ed99;try{const _0x384ffe=await providers[_0x4f5c90(0x267)]('https://www.themoviedb.org/'+_0x25e5d0[_0x2180d0(0x1fa)][_0x4f5c90(0x244)][_0x2180d0(0x1bf)](_0x2180d0(0x19d),'tv')+'/'+_0x25e5d0[_0x4f5c90(0x232)][_0x4f5c90(0x22d)]+_0x4f5c90(0x2a7)+_0x25e5d0[_0x4f5c90(0x232)][_0x4f5c90(0x1b4)]);_0x250cb2[_0x4f5c90(0x1fa)](_0x384ffe);}catch(_0x414a91){console[_0x4f5c90(0x282)](_0x414a91),_0x250cb2[_0x4f5c90(0x23c)](0x190)[_0x4f5c90(0x22a)](_0x414a91[_0x4f5c90(0x1b9)]);}}),app[_0x39ed99(0x25b)](_0x39ed99(0x19c),(_0x595380,_0xd3fbc0)=>{const _0x412891=_0x26d3da,_0x1a605f=_0x39ed99;try{const _0x5b4e9d=decodeURIComponent(_0x595380[_0x1a605f(0x232)][_0x1a605f(0x1c5)]);if(!_0x5b4e9d||!fs[_0x1a605f(0x28b)](_0x5b4e9d))return _0xd3fbc0[_0x1a605f(0x23c)](0x194)[_0x1a605f(0x1fa)]({'error':_0x1a605f(0x26e)});const _0x50443c=path[_0x1a605f(0x29f)](_0x5b4e9d);_0xd3fbc0[_0x412891(0x125)](_0x1a605f(0x260),_0x1a605f(0x1ec)+_0x50443c+'\x22'),_0xd3fbc0[_0x412891(0x1d9)](path[_0x1a605f(0x224)](_0x5b4e9d),_0x374ba3=>{const _0x4d285f=_0x412891,_0x21eda2=_0x1a605f;_0x374ba3&&(console['error'](_0x374ba3),!_0xd3fbc0[_0x21eda2(0x200)]&&_0xd3fbc0[_0x21eda2(0x23c)](0x1f4)[_0x4d285f(0x10c)](_0x374ba3[_0x21eda2(0x1b9)]));});}catch(_0x358f25){!_0xd3fbc0[_0x1a605f(0x200)]&&_0xd3fbc0[_0x1a605f(0x23c)](0x190)['json']({'error':_0x358f25[_0x1a605f(0x1b9)]});}}),app[_0x39ed99(0x25b)](_0x39ed99(0x2a4),(_0x500f85,_0x21f602)=>{const _0x26cfb0=_0x26d3da,_0x370d28=_0x39ed99;try{const _0x344157=decodeURIComponent(_0x500f85[_0x370d28(0x232)][_0x370d28(0x1c5)]);if(!_0x344157||!fs[_0x370d28(0x28b)](_0x344157))return _0x21f602[_0x370d28(0x23c)](0x194)[_0x370d28(0x1fa)]({'error':_0x370d28(0x26e)});const _0x4b9c72=path[_0x26cfb0(0x18c)](_0x344157,path[_0x370d28(0x1ac)](_0x344157))+_0x370d28(0x21e),_0x5e2b58=path[_0x370d28(0x1d3)](path[_0x26cfb0(0x19f)](_0x344157),_0x4b9c72),_0xf2e882=path[_0x370d28(0x224)](_0x5e2b58);if(fs[_0x370d28(0x28b)](_0xf2e882))return _0x21f602[_0x370d28(0x25d)](_0x370d28(0x260),_0x26cfb0(0x209)+_0x4b9c72+'\x22'),_0x21f602[_0x370d28(0x234)](_0xf2e882,_0x24acf1=>{const _0x483621=_0x26cfb0,_0x31f383=_0x370d28;_0x24acf1&&(console[_0x483621(0x149)](_0x24acf1),!_0x21f602[_0x31f383(0x200)]&&_0x21f602[_0x31f383(0x23c)](0x1f4)[_0x31f383(0x22a)](_0x24acf1[_0x31f383(0x1b9)]));});ffmpeg(_0x344157)[_0x370d28(0x1b8)]()[_0x370d28(0x295)](_0x370d28(0x269))[_0x26cfb0(0x1d6)](_0x370d28(0x198))['on'](_0x370d28(0x1cf),()=>{const _0x25ac3b=_0x370d28;_0x21f602[_0x25ac3b(0x25d)](_0x25ac3b(0x260),'attachment;\x20filename=\x22'+_0x4b9c72+'\x22'),_0x21f602[_0x25ac3b(0x234)](_0xf2e882,_0x9b9aad=>{const _0x58c4d1=_0x32b4,_0x5c3d71=_0x25ac3b;_0x9b9aad&&(console[_0x5c3d71(0x289)](_0x9b9aad),!_0x21f602[_0x5c3d71(0x200)]&&_0x21f602[_0x5c3d71(0x23c)](0x1f4)[_0x58c4d1(0x10c)](_0x9b9aad[_0x5c3d71(0x1b9)]));});})['on'](_0x370d28(0x289),_0x1a9e35=>{const _0x41cb9e=_0x26cfb0,_0x45caf3=_0x370d28;console[_0x45caf3(0x289)](_0x41cb9e(0x161),_0x1a9e35),!_0x21f602['headersSent']&&_0x21f602[_0x45caf3(0x23c)](0x1f4)[_0x45caf3(0x1fa)]({'error':_0x41cb9e(0xff),'message':_0x1a9e35[_0x45caf3(0x1b9)]});})[_0x370d28(0x1ca)](_0xf2e882);}catch(_0x4be108){!_0x21f602[_0x370d28(0x200)]&&_0x21f602[_0x370d28(0x23c)](0x190)[_0x370d28(0x1fa)]({'error':_0x4be108[_0x370d28(0x1b9)]});}}),app[_0x39ed99(0x256)](_0x26d3da(0x13e),express[_0x39ed99(0x206)]({'limit':_0x26d3da(0x1ce),'extended':!0x0}),(_0x3137ab,_0xc57483)=>{const _0x1f2626=_0x26d3da,_0x1b0891=_0x39ed99,_0x5a3f27=_0x3137ab[_0x1b0891(0x1dc)][_0x1b0891(0x1c5)],_0x44fe71=_0x3137ab[_0x1b0891(0x1dc)][_0x1b0891(0x192)];if(_0x44fe71&&_0x5a3f27)try{let _0x593712;if(0x1==_0x3137ab[_0x1f2626(0x1ca)][_0x1b0891(0x20f)]){let _0xc6c81a=path[_0x1b0891(0x1d3)](rootPath,_0x1b0891(0x202),_0x1f2626(0x1ed));!fs[_0x1b0891(0x28b)](_0xc6c81a)&&fs[_0x1b0891(0x28c)](_0xc6c81a,{'recursive':!0x0}),_0x593712=path[_0x1b0891(0x1d3)](_0xc6c81a,_0x5a3f27),fs[_0x1b0891(0x218)](_0x593712,_0x44fe71,_0x1b0891(0x258)),console[_0x1b0891(0x282)](_0x593712);}else{const _0x2876f2=path[_0x1b0891(0x1ac)](_0x5a3f27);_0x593712=_0x5a3f27['replace'](_0x2876f2,_0x1b0891(0x226)),fs[_0x1b0891(0x218)](_0x593712,_0x44fe71,_0x1b0891(0x258));}_0xc57483[_0x1b0891(0x1fa)]({'url':_0x1b0891(0x1d1)+encodeURIComponent(_0x593712)});}catch(_0x3e2471){console[_0x1f2626(0x149)](_0x3e2471);}else _0xc57483[_0x1f2626(0x1cd)]({'error':_0x1f2626(0x1d5)});}),app[_0x39ed99(0x256)](_0x26d3da(0x1bc),async(_0xad8086,_0x259e4e)=>{const _0x4fac1b=_0x26d3da,_0x512e59=_0x39ed99;try{if('disable'==_0xad8086[_0x512e59(0x1dc)][_0x512e59(0x1d6)])return allowLocalNetwork=!0x1,void _0x259e4e[_0x512e59(0x1fa)]({'status':_0x512e59(0x246)});const _0x528e32=await ip[_0x512e59(0x23f)](_0xad8086[_0x4fac1b(0x1fa)][_0x512e59(0x1da)]===_0x512e59(0x1da));allowLocalNetwork=!0x0;const _0x4cca19=require(_0x512e59(0x220));let _0x3249f7=_0x4fac1b(0x1ad)+_0x528e32['ip']+_0x512e59(0x235);_0xad8086[_0x512e59(0x1dc)][_0x512e59(0x199)]&&(_0x3249f7=_0x512e59(0x193)+_0x528e32['ip']+(_0xad8086[_0x512e59(0x1dc)][_0x512e59(0x1f6)]&&''!==_0xad8086[_0x512e59(0x1dc)]['port']?':'+_0xad8086['body'][_0x4fac1b(0x12c)]:_0x512e59(0x26d))+_0xad8086[_0x512e59(0x1dc)][_0x4fac1b(0x12a)],_0x528e32[_0x512e59(0x199)]=_0x3249f7);try{let _0x13272d=await _0x4cca19[_0x512e59(0x1d9)](_0x3249f7);_0x528e32['qr']=_0x13272d;}catch(_0x22b50d){console[_0x512e59(0x289)](_0x22b50d);}_0x259e4e[_0x512e59(0x1fa)](_0x528e32);}catch(_0x4a237f){_0x259e4e[_0x512e59(0x23c)](0x1f4)[_0x512e59(0x1fa)]({'error':_0x4a237f[_0x512e59(0x1b9)]});}}),app[_0x39ed99(0x256)](_0x39ed99(0x29b),async(_0x13de9e,_0x38fd9c)=>{const _0x1e034b=_0x26d3da,_0x30e83a=_0x39ed99;try{if(_0x1e034b(0x1b6)==_0x13de9e[_0x30e83a(0x1dc)][_0x30e83a(0x1d6)])return allowLocalNetwork=!0x1,void _0x38fd9c[_0x30e83a(0x1fa)]({'status':_0x30e83a(0x246)});const _0x4da611=await ip[_0x30e83a(0x23f)]('true'===_0x13de9e[_0x30e83a(0x232)][_0x1e034b(0x1c8)]);allowLocalNetwork=!0x0;const _0x3019b6=require(_0x30e83a(0x220));try{let _0x5aa8c1=await _0x3019b6[_0x30e83a(0x1d9)](_0x13de9e[_0x30e83a(0x1dc)][_0x30e83a(0x199)]);_0x4da611['qr']=_0x5aa8c1;}catch(_0x2d7bf2){console[_0x30e83a(0x289)](_0x2d7bf2);}_0x38fd9c[_0x30e83a(0x1fa)](_0x4da611);}catch(_0x15f6c0){_0x38fd9c[_0x1e034b(0xf0)](0x1f4)[_0x1e034b(0x1cd)]({'error':_0x15f6c0[_0x30e83a(0x1b9)]});}});let imagesGloabl=[];const downloadImage=(_0x4b9c06,_0x341627)=>new Promise((_0x24822c,_0x22020b)=>{const _0x208ebe=_0x1c3c;https[_0x208ebe(0x25b)](_0x4b9c06,_0x4ec17c=>{const _0x26dd59=_0x32b4,_0x5bd1b3=_0x208ebe;if(0xc8!==_0x4ec17c[_0x5bd1b3(0x22c)])return _0x22020b(new Error(_0x5bd1b3(0x245)+_0x4b9c06+_0x5bd1b3(0x266)+_0x4ec17c[_0x26dd59(0x1f8)]+')'));const _0x1c858d=fs[_0x5bd1b3(0x278)](_0x341627);_0x4ec17c[_0x5bd1b3(0x26c)](_0x1c858d),_0x1c858d['on'](_0x5bd1b3(0x1b0),_0x24822c),_0x1c858d['on'](_0x5bd1b3(0x289),_0x22020b);})['on'](_0x208ebe(0x289),_0x42802f=>{_0x22020b(_0x42802f);});}),downloadImages=async _0x2a5971=>{const _0x2a2853=_0x26d3da,_0x2973e8=_0x39ed99,_0x5c7111=path[_0x2973e8(0x1d3)](rootPath,_0x2973e8(0x27f),_0x2973e8(0x1b5),_0x2973e8(0x202));if(!fs[_0x2973e8(0x28b)](_0x5c7111)&&fs[_0x2973e8(0x28c)](_0x5c7111),_0x2a5971){for(const [_0x338231,_0x1f3a8d]of _0x2a5971[_0x2973e8(0x277)]())try{const _0x53f353=_0x1f3a8d[_0x2973e8(0x251)](_0x2a2853(0x203),'')['split']('/');if(imagesGloabl['includes'](_0x53f353[0x1]))continue;!fs[_0x2973e8(0x28b)](path[_0x2973e8(0x1d3)](_0x5c7111,_0x53f353[0x0]))&&fs[_0x2973e8(0x28c)](path[_0x2973e8(0x1d3)](_0x5c7111,_0x53f353[0x0]),{'recursive':!0x0});const _0xc8f84a=path[_0x2973e8(0x1d3)](_0x5c7111,_0x53f353[0x0],_0x53f353[0x1]);!fs[_0x2973e8(0x28b)](_0xc8f84a)&&(await downloadImage(_0x1f3a8d,_0xc8f84a),imagesGloabl[_0x2973e8(0x1f8)](_0x53f353[0x1]));}catch(_0x530582){console[_0x2973e8(0x289)](_0x2973e8(0x2ba)+_0x1f3a8d+':',_0x530582[_0x2973e8(0x1b9)]);}}};function format(_0xd4eac){const _0x1db5df=_0x39ed99,_0xe72fec=fs[_0x1db5df(0x2b9)](_0xd4eac);for(const _0x3bb342 of _0xe72fec){const _0x3b54ab=path[_0x1db5df(0x1d3)](_0xd4eac,_0x3bb342);fs['rmSync'](_0x3b54ab,{'recursive':!0x0,'force':!0x0}),console[_0x1db5df(0x282)](_0x1db5df(0x21a)+_0x3b54ab);}}app[_0x39ed99(0x256)](_0x39ed99(0x1ae),async(_0x41aad4,_0x139bb0)=>{const _0x5124f1=_0x26d3da,_0x96e462=_0x39ed99;try{const _0x4a49b8=_0x41aad4[_0x5124f1(0x1ca)][_0x96e462(0x1fa)],_0x103051=_0x41aad4[_0x96e462(0x1dc)][_0x96e462(0x1c3)];if((0x1==_0x41aad4[_0x5124f1(0x1ca)][_0x5124f1(0x1e3)]||0x1==_0x41aad4[_0x96e462(0x1dc)][_0x5124f1(0x210)])&&(fs[_0x96e462(0x28d)](path[_0x96e462(0x1d3)](rootPath,_0x96e462(0x27f),_0x96e462(0x1b5)),{'recursive':!0x0,'force':!0x0}),console[_0x96e462(0x282)](_0x96e462(0x1a6))),_0x41aad4[_0x96e462(0x1dc)][_0x96e462(0x1d4)])return;const _0x4e51b4=path[_0x96e462(0x1d3)](rootPath,_0x96e462(0x27f),_0x96e462(0x1b5),_0x96e462(0x1fa));!fs[_0x96e462(0x28b)](_0x4e51b4)&&fs[_0x96e462(0x28c)](_0x4e51b4,{'recursive':!0x0}),Object['entries'](_0x4a49b8)[_0x96e462(0x24e)](([_0x1c8be4,_0x186871])=>{const _0x5e1e70=_0x5124f1,_0x4e7ab3=_0x96e462,_0x47531e=path[_0x4e7ab3(0x1d3)](_0x4e51b4,_0x1c8be4+_0x4e7ab3(0x23a));fs[_0x5e1e70(0x151)](_0x47531e,JSON[_0x4e7ab3(0x275)](_0x186871,null,0x2),_0x5e1e70(0x184));}),downloadImages(_0x103051),_0x139bb0[_0x96e462(0x1fa)]({'status':_0x96e462(0x246)});}catch(_0x4072a3){_0x139bb0[_0x96e462(0x23c)](0x1f4)[_0x96e462(0x1fa)]({'error':_0x4072a3[_0x96e462(0x1b9)]});}});const portalSockets=new Map();async function removeFile(_0x158a30,_0x54b3ab){const _0x4abf38=_0x26d3da,_0x41731a=_0x39ed99,_0x5eb19e=path[_0x41731a(0x231)](_0x158a30),_0x36c5d9=path['normalize'](savePath);if(_0x5eb19e[_0x41731a(0x1aa)](_0x36c5d9)){fs['rm'](_0x5eb19e,{'recursive':!0x0,'force':!0x0},_0x11a338=>{const _0x5cead7=_0x41731a;_0x11a338?console[_0x5cead7(0x289)](_0x5cead7(0x221)+_0x11a338[_0x5cead7(0x1b9)]):console[_0x5cead7(0x282)](_0x5cead7(0x285));});try{await client[_0x4abf38(0x1a4)](req[_0x4abf38(0x1fa)]['id']),videos[_0x4abf38(0x1b9)](_0x54b3ab);}catch(_0x4fc80b){console[_0x4abf38(0x149)](_0x4fc80b);}}else console[_0x4abf38(0x149)](_0x41731a(0x1e9));}function handlePortalMessages(_0x563094,_0x1390a9,_0x2ab198){const _0xca2587=_0x39ed99;try{if(JSON[_0xca2587(0x219)](_0x2ab198)['ct']==_0xca2587(0x1be)){let _0x47d53e={};portalSockets[_0xca2587(0x24e)]((_0x4eadfe,_0xde2deb)=>{const _0x2d1b57=_0xca2587;_0x47d53e[_0xde2deb]={'name':_0x4eadfe[_0x2d1b57(0x1c4)],'ip':_0x4eadfe['ip'],'type':_0x4eadfe[_0x2d1b57(0x244)],'image':_0x4eadfe[_0x2d1b57(0x27c)]};}),_0x563094[_0xca2587(0x22a)](JSON[_0xca2587(0x275)]({'ct':_0xca2587(0x1e4),'users':_0x47d53e}));}}catch(_0x57e395){console[_0xca2587(0x289)](_0x57e395);}}function createWebSocket(_0x12ee52){const _0x21ecf8=_0x39ed99,_0x57da5c=new WebSocketServer({'server':_0x12ee52});let _0x393b15={},_0x4fe1b2={'save':!0x0};_0x57da5c['on'](_0x21ecf8(0x233),function(_0x326b03,_0x412e15){const _0x4595ed=_0x32b4,_0x46502a=_0x21ecf8;let _0xb2bc97;const _0x4b151a=url[_0x46502a(0x219)](_0x412e15[_0x46502a(0x199)],!0x0)[_0x46502a(0x232)];let _0x6b85c7=_0x4b151a['id'];const _0x502e8e=_0x4b151a[_0x4595ed(0x20e)],_0x5dd992=_0x4b151a['type'],_0x55ce84=_0x412e15['socket'][_0x46502a(0x1af)];let _0x3f91c5;if(_0x4b151a[_0x46502a(0x1bf)]==_0x46502a(0x1da)&&(_0x3f91c5=_0x502e8e),_0x6b85c7&&_0x502e8e||_0x4595ed(0x135)===_0x5dd992){if(_0x5dd992!==_0x46502a(0x299)){let _0x195a99;sockets[_0x46502a(0x1e6)](_0x6b85c7)?(clearTimeout(sockets[_0x4595ed(0x222)](_0x6b85c7)[_0x46502a(0x225)]),sockets[_0x46502a(0x25b)](_0x6b85c7)[_0x46502a(0x1e5)][_0x502e8e]=_0x326b03,!sockets[_0x46502a(0x25b)](_0x6b85c7)[_0x46502a(0x1bf)]&&(sockets[_0x46502a(0x25b)](_0x6b85c7)[_0x46502a(0x1bf)]=_0x3f91c5),sockets[_0x46502a(0x25b)](_0x6b85c7)[_0x46502a(0x225)]=null,console[_0x4595ed(0x197)](_0x46502a(0x24d))):sockets[_0x46502a(0x2a5)](_0x6b85c7,{'users':{[_0x502e8e]:_0x326b03},'owner':_0x3f91c5,'destroy':_0x195a99});}else _0x6b85c7=_0x55ce84[_0x46502a(0x251)](_0x46502a(0x259),''),portalSockets[_0x46502a(0x2a5)](_0x6b85c7,{'socket':_0x326b03,'type':_0x4b151a[_0x4595ed(0x144)],'name':_0x4b151a[_0x46502a(0x1c4)],'image':_0x4b151a[_0x4595ed(0xf3)]}),portalSockets[_0x46502a(0x24e)]((_0x3422ed,_0x343212)=>{const _0x155a8c=_0x4595ed,_0x23a459=_0x46502a;_0x343212!==_0x6b85c7&&_0x3422ed[_0x23a459(0x1b2)][_0x23a459(0x22a)](JSON[_0x23a459(0x275)]({'ct':_0x155a8c(0x13b),'id':_0x6b85c7,'info':{'ip':_0x55ce84[_0x23a459(0x251)](_0x23a459(0x259),''),'type':_0x4b151a[_0x23a459(0x20a)],'name':_0x4b151a[_0x23a459(0x1c4)],'image':_0x4b151a[_0x23a459(0x27c)]}}));});_0x326b03['on'](_0x46502a(0x1b9),async function(_0x463dac){const _0x31bad1=_0x4595ed,_0x37d203=_0x46502a;if(_0x463dac[_0x37d203(0x1bc)](_0x37d203(0x296))!=_0x37d203(0x1eb)&&_0x463dac[_0x37d203(0x1bc)](_0x37d203(0x296))!=_0x37d203(0x1ee)){if(_0x31bad1(0x135)!==_0x5dd992)(await torrents)[_0x37d203(0x196)](_0x326b03,_0x6b85c7,_0x463dac[_0x37d203(0x1bc)](_0x37d203(0x296)));else handlePortalMessages(_0x326b03,_0x6b85c7,_0x463dac[_0x37d203(0x1bc)](_0x37d203(0x296)));}else _0x463dac[_0x37d203(0x1bc)](_0x37d203(0x296))==_0x37d203(0x1eb)&&_0x326b03[_0x31bad1(0x10c)](_0x31bad1(0x179));}),_0xb2bc97=setInterval(()=>{const _0x32d94b=_0x46502a;_0x326b03[_0x32d94b(0x22a)](_0x32d94b(0x1eb));},0xfa0),_0x326b03['on']('close',function(){const _0x1c1ab8=_0x4595ed,_0x536e05=_0x46502a;let _0x2aef6d;clearInterval(_0xb2bc97);try{console[_0x536e05(0x282)](_0x536e05(0x212)),_0x5dd992!==_0x536e05(0x299)?(sockets[_0x1c1ab8(0x222)](_0x6b85c7)[_0x536e05(0x225)]=setTimeout(async()=>{const _0x1a41fb=_0x1c1ab8,_0x5c558f=_0x536e05;try{!fs[_0x5c558f(0x28b)](settingsPath)&&fs[_0x1a41fb(0x151)](settingsPath,JSON[_0x5c558f(0x275)](_0x4fe1b2,null,0x2),_0x5c558f(0x258));const _0x3a46c5=fs['readFileSync'](settingsPath,_0x5c558f(0x258));_0x393b15=JSON[_0x1a41fb(0x1d7)](_0x3a46c5),(0x0==_0x393b15[_0x5c558f(0x1ca)]||0x1==_0x393b15[_0x5c558f(0x1ca)])&&(_0x2aef6d=_0x393b15[_0x5c558f(0x1ca)]);}catch(_0x42a143){console[_0x5c558f(0x289)](_0x42a143);}try{const _0x19252d=await client[_0x5c558f(0x25b)](_0x6b85c7);if(0x0==_0x2aef6d&&_0x19252d&&sockets[_0x1a41fb(0x222)](_0x6b85c7)[_0x5c558f(0x1bf)]==_0x502e8e){let _0x38a37a=_0x19252d[_0x5c558f(0x1c5)];savePath==_0x38a37a&&(_0x38a37a=path[_0x5c558f(0x1d3)](_0x19252d[_0x5c558f(0x1c5)],_0x19252d[_0x5c558f(0x1c4)])),removeFile(_0x38a37a,_0x6b85c7);}}catch(_0x27f6a9){console[_0x1a41fb(0x197)](_0x27f6a9);}},0x2710),sockets[_0x1c1ab8(0x17b)](_0x6b85c7)&&delete sockets[_0x1c1ab8(0x222)](_0x6b85c7)[_0x536e05(0x1e5)][_0x502e8e]):(portalSockets[_0x536e05(0x205)](_0x6b85c7),portalSockets[_0x536e05(0x24e)]((_0x4e1971,_0x4eaef5)=>{const _0x557fef=_0x1c1ab8,_0xa1ba7a=_0x536e05;_0x4e1971[_0x557fef(0x18f)][_0xa1ba7a(0x22a)](JSON[_0xa1ba7a(0x275)]({'ct':_0x557fef(0x1fd),'id':_0x6b85c7}));}));}catch(_0x34b325){console[_0x536e05(0x289)](_0x34b325);}}),_0x326b03['on'](_0x46502a(0x289),function(_0x1f7f98){const _0x4f4a81=_0x4595ed,_0x3fd5f4=_0x46502a;console[_0x4f4a81(0x149)](_0x3fd5f4(0x290),_0x1f7f98[_0x3fd5f4(0x1b9)]);});}else _0x326b03[_0x46502a(0x287)](0xfa0,_0x46502a(0x241));});}const crypto=require('crypto'),calculateFileHash=_0x410b20=>new Promise((_0x446e2a,_0x4fe7e5)=>{const _0x43df5=_0x26d3da,_0x3bcb2d=_0x1c3c,_0x6f2b88=crypto[_0x3bcb2d(0x2b6)](_0x3bcb2d(0x19d)),_0xdaf041=fs[_0x3bcb2d(0x249)](_0x410b20);_0xdaf041['on'](_0x3bcb2d(0x227),_0x7827b1=>_0x6f2b88[_0x3bcb2d(0x252)](_0x7827b1)),_0xdaf041['on'](_0x3bcb2d(0x1cf),()=>_0x446e2a(_0x6f2b88[_0x43df5(0x1b5)](_0x3bcb2d(0x25c)))),_0xdaf041['on'](_0x3bcb2d(0x289),_0x43dbdf=>_0x4fe7e5(_0x43dbdf));}),calculateCombinedHash=_0x466972=>new Promise((_0x4220c6,_0x176a56)=>{const _0x573584=_0x1c3c,_0x523172=crypto[_0x573584(0x2b6)](_0x573584(0x19d));let _0x1b5739=null;_0x466972[_0x573584(0x24e)]((_0x167cae,_0x3102f2)=>{const _0x3fa568=_0x32b4,_0x38490c=_0x573584,_0x4a0f00=fs[_0x38490c(0x249)](_0x167cae);_0x4a0f00['on'](_0x38490c(0x227),_0x343056=>_0x523172[_0x38490c(0x252)](_0x343056)),_0x4a0f00['on'](_0x38490c(0x289),_0xc31d1d=>{const _0x11af74=_0x32b4;_0x1b5739=_0xc31d1d,_0x3102f2===_0x466972[_0x11af74(0x162)]-0x1&&_0x176a56(_0xc31d1d);}),_0x4a0f00['on'](_0x3fa568(0x1af),()=>{const _0x79e389=_0x3fa568,_0x3f4876=_0x38490c;_0x3102f2===_0x466972[_0x79e389(0x162)]-0x1&&!_0x1b5739&&_0x4220c6(_0x523172[_0x3f4876(0x1d7)](_0x3f4876(0x25c)));});});});app[_0x39ed99(0x256)](_0x39ed99(0x2ae),async(_0x1cabe4,_0x1f2009)=>{const _0x56a6b3=_0x26d3da,_0x4167c1=_0x39ed99;try{const {files:_0x305614}=_0x1cabe4[_0x4167c1(0x1dc)];if(!Array[_0x4167c1(0x288)](_0x305614)||0x0===_0x305614[_0x4167c1(0x194)]||_0x305614[_0x4167c1(0x194)]>0xf)return _0x1f2009[_0x4167c1(0x23c)](0x190)[_0x4167c1(0x1fa)]({'error':_0x56a6b3(0xed)});const _0x1538a8=await Promise[_0x4167c1(0x1ba)](_0x305614[_0x4167c1(0x201)](_0x4e0353=>{return _0x29b82e=_0x4e0353,new Promise((_0x30f545,_0x4463ea)=>{const _0x32f07b=_0x32b4,_0x4babae=_0x1c3c,_0x3be2be=crypto[_0x4babae(0x2b6)](_0x4babae(0x19d)),_0x3c72c1=fs[_0x4babae(0x249)](_0x29b82e);_0x3c72c1['on'](_0x4babae(0x227),_0x1f2688=>_0x3be2be[_0x4babae(0x252)](_0x1f2688)),_0x3c72c1['on'](_0x4babae(0x1cf),()=>_0x30f545(_0x3be2be[_0x32f07b(0x1b5)](_0x4babae(0x25c)))),_0x3c72c1['on'](_0x4babae(0x289),_0x34e54a=>_0x4463ea(_0x34e54a));});var _0x29b82e;})),_0x446b16=await(_0x57a238=_0x305614,new Promise((_0x3e874d,_0x27234d)=>{const _0x5c439f=_0x1c3c,_0x5d70c0=crypto[_0x5c439f(0x2b6)](_0x5c439f(0x19d));let _0x90b05=null;_0x57a238[_0x5c439f(0x24e)]((_0xbc7a4c,_0x2b8b6b)=>{const _0x6b1f0c=_0x32b4,_0x22976e=_0x5c439f,_0x24c293=fs[_0x22976e(0x249)](_0xbc7a4c);_0x24c293['on'](_0x22976e(0x227),_0x5271cd=>_0x5d70c0[_0x22976e(0x252)](_0x5271cd)),_0x24c293['on'](_0x22976e(0x289),_0x3b5033=>{const _0x203247=_0x32b4;_0x90b05=_0x3b5033,_0x2b8b6b===_0x57a238[_0x203247(0x162)]-0x1&&_0x27234d(_0x3b5033);}),_0x24c293['on'](_0x6b1f0c(0x1af),()=>{const _0x41bc40=_0x6b1f0c,_0x2befd7=_0x22976e;_0x2b8b6b===_0x57a238[_0x41bc40(0x162)]-0x1&&!_0x90b05&&_0x3e874d(_0x5d70c0[_0x2befd7(0x1d7)](_0x2befd7(0x25c)));});});}));_0x1f2009[_0x4167c1(0x23c)](0xc8)[_0x4167c1(0x1fa)]({'individualHashes':_0x1538a8,'combinedHash':_0x446b16});}catch(_0x1641f9){_0x1f2009[_0x56a6b3(0xf0)](0x1f4)[_0x4167c1(0x1fa)]({'error':_0x56a6b3(0x17c)});}var _0x57a238;}),app[_0x39ed99(0x286)]((_0x21dbc3,_0x4bcaf9,_0x4b04c9,_0x5b1e72)=>{const _0x28fec7=_0x26d3da,_0x436c3e=_0x39ed99;console[_0x28fec7(0x149)](_0x21dbc3[_0x436c3e(0x1fc)]),_0x4b04c9[_0x28fec7(0xf0)](0x1f4)[_0x28fec7(0x10c)](_0x436c3e(0x1f5)+_0x21dbc3[_0x436c3e(0x1fc)]);}),portfinder[_0x26d3da(0x14f)]=0x1388,portfinder[_0x26d3da(0x204)]()[_0x39ed99(0x257)](_0x1b8c55=>{const _0x350819=_0x39ed99,_0xd2ca77=http[_0x350819(0x1b7)](app);createWebSocket(_0xd2ca77),_0xd2ca77[_0x350819(0x1ab)](_0x1b8c55,()=>{const _0x49f895=_0x32b4,_0x117526=_0x350819;console[_0x49f895(0x197)](_0x117526(0x272)+_0x1b8c55),process[_0x117526(0x22a)]&&(process[_0x117526(0x1a5)][_0x117526(0x25a)]==_0x117526(0x23d)?process[_0x117526(0x22a)]({'message':_0x117526(0x1c1),'port':_0x1b8c55}):process[_0x117526(0x22a)](_0x117526(0x1c1)));}),_0xd2ca77['on']('error',_0x34e024=>{const _0xe31698=_0x350819;console[_0xe31698(0x289)](_0xe31698(0x1f2),_0x34e024);});})[_0x26d3da(0x164)](_0x1cb57b=>{const _0x1d6fde=_0x39ed99;console[_0x1d6fde(0x289)](_0x1d6fde(0x236),_0x1cb57b);});